# AI Magic - AIå›¾åƒå¤„ç†å¹³å°

ä¸€ä¸ªåŸºäºVue3å’ŒNode.jsçš„ç°ä»£åŒ–AIå›¾åƒå¤„ç†å¹³å°ï¼Œæä¾›æ¢è„¸ã€æ¢è£…ç­‰å¤šç§AIå›¾åƒå¤„ç†æœåŠ¡ã€‚

## ğŸš€ é¡¹ç›®ç‰¹è‰²

### å‰ç«¯æŠ€æœ¯æ ˆ
- **Vue 3** + **Composition API** - ç°ä»£åŒ–å‰ç«¯æ¡†æ¶
- **Vite** - å¿«é€Ÿæ„å»ºå·¥å…·
- **Vant UI** - ç§»åŠ¨ç«¯ç»„ä»¶åº“
- **Vue Router** - è·¯ç”±ç®¡ç†
- **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯

### åç«¯æŠ€æœ¯æ ˆ
- **Node.js** + **Express** - æœåŠ¡ç«¯æ¡†æ¶
- **MySQL** - æ•°æ®åº“
- **JWT** - ç”¨æˆ·è®¤è¯
- **Multer** - æ–‡ä»¶ä¸Šä¼ 
- **Rate Limiting** - æ¥å£é™æµ

### æ ¸å¿ƒåŠŸèƒ½
- ğŸ­ **AIæ¢è„¸** - é«˜è´¨é‡äººè„¸æ›¿æ¢
- ğŸ‘— **AIæ¢è£…** - æ™ºèƒ½æœè£…æ›¿æ¢
- ğŸ¨ **æ–‡æœ¬ç”Ÿå›¾** - AIå›¾åƒç”Ÿæˆ
- ğŸ‘¤ **ç”¨æˆ·ç³»ç»Ÿ** - æ³¨å†Œã€ç™»å½•ã€ä¸ªäººä¸­å¿ƒ
- ğŸ’ **ç§¯åˆ†ç³»ç»Ÿ** - ç§¯åˆ†ç®¡ç†å’Œæ¶ˆè´¹è®°å½•
- ğŸ« **ç­‰çº§å¡ç³»ç»Ÿ** - å¤šç§ç­‰çº§å¡ç®¡ç†
- ğŸ“Š **ç®¡ç†åå°** - å®Œæ•´çš„åå°ç®¡ç†åŠŸèƒ½

## ğŸŒ ç«¯å£é…ç½®

| æœåŠ¡ | ç«¯å£ | æè¿° | è®¿é—®åœ°å€ |
|------|------|------|----------|
| å®¢æˆ·ç«¯å‰ç«¯ | 3001 | ç”¨æˆ·å‰ç«¯ç•Œé¢ | http://localhost:3001 |
| åå°ç®¡ç†ç³»ç»Ÿ | 3003 | ç®¡ç†å‘˜ç•Œé¢ | http://localhost:3003 |
| åç«¯APIæœåŠ¡ | 3007 | æœåŠ¡å™¨API | http://localhost:3007 |

### ç«¯å£ç®¡ç†å·¥å…·
```bash
# æ£€æŸ¥ç«¯å£é…ç½®ä¸€è‡´æ€§
node scripts/port-config-manager.js check

# è‡ªåŠ¨ä¿®å¤ç«¯å£é…ç½®é—®é¢˜
node scripts/port-config-manager.js fix

# æŸ¥çœ‹ç«¯å£ä½¿ç”¨æƒ…å†µ
node scripts/port-config-manager.js availability
```

âš ï¸ **é‡è¦**: ç«¯å£é…ç½®ç”± `port-config.json` ç»Ÿä¸€ç®¡ç†ï¼Œè¯·å‹¿éšæ„ä¿®æ”¹ã€‚è¯¦è§ [ç«¯å£ç®¡ç†æŒ‡å—](./scripts/PORT_MANAGER_GUIDE.md)

## ğŸ“ é¡¹ç›®ç»“æ„

```
AIMagic/
â”œâ”€â”€ client/                 # å‰ç«¯é¡¹ç›® (ç«¯å£: 3001)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # Vueç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ views/         # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ router/        # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ services/      # APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ styles/        # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ docs/              # å‰ç«¯æ–‡æ¡£
â”‚   â””â”€â”€ public/            # é™æ€èµ„æº
â”œâ”€â”€ admin/                 # ç®¡ç†åå° (ç«¯å£: 3003)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # ç®¡ç†ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ views/         # ç®¡ç†é¡µé¢
â”‚   â”‚   â””â”€â”€ utils/         # å·¥å…·å‡½æ•°
â”œâ”€â”€ server/                # åç«¯é¡¹ç›® (ç«¯å£: 3007)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/        # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ middleware/    # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ scripts/       # æ•°æ®åº“è„šæœ¬
â”‚   â”‚   â””â”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ scripts/           # éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ scripts/               # é¡¹ç›®ç®¡ç†è„šæœ¬
â”‚   â”œâ”€â”€ port-config-manager.js    # ç«¯å£é…ç½®ç®¡ç†
â”‚   â””â”€â”€ setup-port-management.js  # ç«¯å£ç®¡ç†å®‰è£…
â”œâ”€â”€ port-config.json       # ç«¯å£é…ç½®æ–‡ä»¶
â””â”€â”€ docs/                  # é¡¹ç›®æ–‡æ¡£
    â”œâ”€â”€ port-management/   # ç«¯å£ç®¡ç†æ–‡æ¡£
    â””â”€â”€ README.md          # æ–‡æ¡£ç´¢å¼•
```

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 16.0.0
- MySQL >= 8.0
- npm æˆ– yarn

### å®‰è£…ä¾èµ–

```bash
# å®‰è£…å‰ç«¯ä¾èµ–
cd client
npm install

# å®‰è£…åç«¯ä¾èµ–
cd ../server
npm install
```

### é…ç½®ç¯å¢ƒå˜é‡

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp server/.env.example server/.env

# ç¼–è¾‘ç¯å¢ƒå˜é‡
# é…ç½®æ•°æ®åº“è¿æ¥ã€JWTå¯†é’¥ç­‰
```

### å¯åŠ¨é¡¹ç›®

#### ğŸ¯ å‰åç«¯åˆ†ç¦»å¯åŠ¨ (æ¨è)

âš ï¸ **é‡è¦**: å¿…é¡»æŒ‰é¡ºåºå¯åŠ¨ï¼Œå…ˆå¯åŠ¨åç«¯æœåŠ¡ï¼Œå†å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
# 1ï¸âƒ£ é¦–å…ˆå¯åŠ¨åç«¯æœåŠ¡ (ç«¯å£: 3007)
cd server
npm install  # é¦–æ¬¡è¿è¡Œéœ€è¦å®‰è£…ä¾èµ–
npm start

# 2ï¸âƒ£ å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ (ç«¯å£: 3001)
cd client
npm install  # é¦–æ¬¡è¿è¡Œéœ€è¦å®‰è£…ä¾èµ–
npm run dev

# 3ï¸âƒ£ å¯åŠ¨åå°ç®¡ç†ç³»ç»Ÿ (ç«¯å£: 3003)
cd admin
npm install  # é¦–æ¬¡è¿è¡Œéœ€è¦å®‰è£…ä¾èµ–
npm run dev
```

#### ğŸ” é»˜è®¤ç™»å½•ä¿¡æ¯
- **åå°ç®¡ç†ç³»ç»Ÿ**: http://localhost:3003
  - ç”¨æˆ·å: `admin`
  - å¯†ç : `admin123456`

#### ğŸ“‹ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
å„æœåŠ¡åº”ç‹¬ç«‹éƒ¨ç½²ï¼š
- **åç«¯API**: éƒ¨ç½²åœ¨æœåŠ¡å™¨æˆ–å®¹å™¨ä¸­ï¼Œæä¾›APIæœåŠ¡
- **å‰ç«¯å®¢æˆ·ç«¯**: æ„å»ºé™æ€æ–‡ä»¶ï¼Œéƒ¨ç½²åˆ°CDNæˆ–é™æ€æœåŠ¡å™¨
- **åå°ç®¡ç†**: æ„å»ºé™æ€æ–‡ä»¶ï¼Œéƒ¨ç½²åˆ°å†…ç½‘æˆ–å—ä¿æŠ¤çš„ç¯å¢ƒ

### è®¿é—®åº”ç”¨
- **å®¢æˆ·ç«¯å‰ç«¯**: http://localhost:3001 (ç”¨æˆ·ç•Œé¢)
- **åå°ç®¡ç†ç³»ç»Ÿ**: http://localhost:3003 (ç®¡ç†å‘˜ç•Œé¢)
- **åç«¯API**: http://localhost:3007 (APIæœåŠ¡)

### ğŸ› ï¸ å¸¸è§é—®é¢˜è§£å†³

#### ç«¯å£è¢«å ç”¨
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
netstat -ano | findstr :3001  # Windows
lsof -i :3001                 # Linux/Mac

# ç»ˆæ­¢å ç”¨è¿›ç¨‹
taskkill /PID <è¿›ç¨‹ID> /F      # Windows
kill -9 <è¿›ç¨‹ID>               # Linux/Mac
```

#### ä¾èµ–å®‰è£…å¤±è´¥
```bash
# æ¸…é™¤ç¼“å­˜é‡æ–°å®‰è£…
npm cache clean --force
rm -rf node_modules package-lock.json
npm install
```

#### APIè¿æ¥å¤±è´¥
1. ç¡®è®¤åç«¯æœåŠ¡å·²å¯åŠ¨ (http://localhost:3007)
2. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
3. æ£€æŸ¥ä»£ç†é…ç½®æ˜¯å¦æ­£ç¡®

#### å¥åº·æ£€æŸ¥
```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
curl http://localhost:3007/health  # åç«¯API
# æµè§ˆå™¨è®¿é—®å‰ç«¯å’Œåå°ç®¡ç†ç•Œé¢
```

## ğŸ”§ ç«¯å£é…ç½®

### é»˜è®¤ç«¯å£åˆ†é…
- **å®¢æˆ·ç«¯å‰ç«¯**: 3001
- **åå°ç®¡ç†ç³»ç»Ÿ**: 3003
- **åç«¯APIæœåŠ¡**: 3007

### ç«¯å£ç®¡ç†å‘½ä»¤
```bash
# æ£€æŸ¥ç«¯å£çŠ¶æ€
node scripts/port-manager.js status

# éªŒè¯å¹¶å¤„ç†ç«¯å£å†²çª
node scripts/port-manager.js validate

# å¯åŠ¨å•ä¸ªæœåŠ¡
node scripts/port-manager.js start server
node scripts/port-manager.js start client
node scripts/port-manager.js start admin
```

### é…ç½®æ–‡ä»¶
- `port-config.json` - ç»Ÿä¸€ç«¯å£é…ç½®
- [ç«¯å£ç®¡ç†æŒ‡å—](./scripts/PORT_MANAGER_GUIDE.md) - è¯¦ç»†ä½¿ç”¨æŒ‡å—

### ğŸ›¡ï¸ é…ç½®ä¿æŠ¤æœºåˆ¶
```bash
# æ£€æŸ¥ç«¯å£é…ç½®å®Œæ•´æ€§å’Œç¡¬ç¼–ç é—®é¢˜
node scripts/protect-port-config.js check

# åŒæ­¥æ‰€æœ‰é…ç½®æ–‡ä»¶
node scripts/sync-port-config.js sync

# å®‰è£…Gité’©å­ä¿æŠ¤
node scripts/install-git-hooks.js install
```

## ğŸ“– æ–‡æ¡£

### å‰ç«¯å¼€å‘
- [å‰ç«¯æ–‡æ¡£ä¸­å¿ƒ](./client/docs/README.md) - å®Œæ•´çš„å‰ç«¯å¼€å‘æ–‡æ¡£ç´¢å¼•
- [å‰ç«¯å¼€å‘åŸåˆ™](./client/docs/FRONTEND_DEVELOPMENT_PRINCIPLES.md)
- [é¡¹ç›®æ¦‚è§ˆ](./client/docs/PROJECT_OVERVIEW.md)
- [éƒ¨ç½²æŒ‡å—](./client/docs/DEPLOYMENT_GUIDE.md)
- [SVGå›¾æ ‡ç³»ç»Ÿ](./client/docs/SVG_ICON_SYSTEM.md)
- [SVGå›¾æ ‡è¿ç§»æŒ‡å—](./client/docs/SVG_ICONS_MIGRATION.md)
- [ç»Ÿä¸€ç»„ä»¶æŒ‡å—](./client/docs/UNIFIED_COMPONENTS_GUIDE.md)

### ç³»ç»Ÿæ¶æ„
- [ç«¯å£ç®¡ç†ç³»ç»Ÿ](./scripts/PORT_MANAGER_GUIDE.md)

### APIæ–‡æ¡£
- ç”¨æˆ·è®¤è¯: `/api/auth/*`
- ç”¨æˆ·ç®¡ç†: `/api/user/*`
- ç§¯åˆ†ç³»ç»Ÿ: `/api/points/*`
- ç­‰çº§å¡ç®¡ç†: `/api/level-cards/*`
- å›¾åƒå¤„ç†: `/api/image/*`

## ğŸ¨ UIè®¾è®¡è§„èŒƒ

### å›¾æ ‡ä½¿ç”¨è§„èŒƒ
| åŠŸèƒ½ç±»åˆ« | å›¾æ ‡ | ä½¿ç”¨åœºæ™¯ | å¯¹åº”å†…å®¹ |
|---------|------|----------|----------|
| ç§¯åˆ†ç›¸å…³ | `diamond-o` | ç§¯åˆ†æ˜¾ç¤ºã€ç§¯åˆ†å¡ç‰‡ | æˆ‘çš„ç§¯åˆ†ã€ç§¯åˆ†ä¿¡æ¯ |
| ç­‰çº§å¡ç›¸å…³ | `credit-pay` | ç­‰çº§å¡åˆ—è¡¨ã€æ ‡é¢˜ | æˆ‘çš„ç­‰çº§å¡ã€ç­‰çº§å¡ç®¡ç† |
| ç”¨æˆ·ç›¸å…³ | `user-o` | ç”¨æˆ·å¤´åƒã€ä¸ªäººä¸­å¿ƒ | ç”¨æˆ·ä¿¡æ¯ã€ä¸ªäººä¸­å¿ƒ |
| è®°å½•ç›¸å…³ | `records` | ç§¯åˆ†è®°å½•ã€æ“ä½œå†å² | æœ€è¿‘è®°å½•ã€ç§¯åˆ†è®°å½• |

### å¸ƒå±€åŸåˆ™
- **æ•´è¡Œå¸ƒå±€**: é‡è¦ä¿¡æ¯å¡ç‰‡å æ®æ•´è¡Œ
- **ç»Ÿä¸€å¸ƒå±€**: ç­‰çº§å¡ä¸æœ€è¿‘è®°å½•ä½¿ç”¨ç›¸åŒå¸ƒå±€é£æ ¼
- **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…å„ç§å±å¹•å°ºå¯¸

## ğŸš€ éƒ¨ç½²

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
```bash
# æ„å»ºå‰ç«¯
cd client
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
cd ../server
NODE_ENV=production npm start
```

### Dockeréƒ¨ç½²
```bash
# æ„å»ºé•œåƒ
docker build -t icomfy .

# è¿è¡Œå®¹å™¨
docker run -p 3006:3006 icomfy
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›é¡¹ç›®ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

## ğŸ”— ç›¸å…³é“¾æ¥

- [Giteeä»“åº“](https://gitee.com/fooldy/icomfy)
- [Vue.jså®˜ç½‘](https://vuejs.org/)
- [Vant UIæ–‡æ¡£](https://vant-contrib.gitee.io/vant/)
- [Express.jså®˜ç½‘](https://expressjs.com/)

---

**AI Magic** - è®©AIå›¾åƒå¤„ç†æ›´ç®€å• âœ¨

