{
    "sourceFile": "test-config-api.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1752409268869,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1752409268869,
            "name": "Commit-0",
            "content": "#!/usr/bin/env node\n\n/**\n * æµ‹è¯•é…ç½®APIçš„è„šæœ¬\n */\n\nconst http = require('http');\n\n// æµ‹è¯•é…ç½®API\nasync function testConfigAPI() {\n  console.log('ğŸ§ª æµ‹è¯•é…ç½®API...');\n\n  // æµ‹è¯•å…¬å¼€é…ç½®API\n  console.log('\\n1. æµ‹è¯•å…¬å¼€é…ç½®API (/api/config)');\n  try {\n    const response = await makeRequest('/api/config');\n    console.log('âœ… å…¬å¼€é…ç½®APIå“åº”:', JSON.stringify(response, null, 2));\n  } catch (error) {\n    console.error('âŒ å…¬å¼€é…ç½®APIå¤±è´¥:', error.message);\n  }\n\n  // æµ‹è¯•ç®¡ç†å‘˜é…ç½®API (éœ€è¦è®¤è¯ï¼Œè¿™é‡Œåªæµ‹è¯•æ˜¯å¦èƒ½è¿æ¥)\n  console.log('\\n2. æµ‹è¯•ç®¡ç†å‘˜é…ç½®API (/api/admin/config)');\n  try {\n    const response = await makeRequest('/api/admin/config');\n    console.log('âœ… ç®¡ç†å‘˜é…ç½®APIå“åº”:', JSON.stringify(response, null, 2));\n  } catch (error) {\n    console.error('âŒ ç®¡ç†å‘˜é…ç½®APIå¤±è´¥:', error.message);\n  }\n}\n\n// å‘é€HTTPè¯·æ±‚\nfunction makeRequest(path) {\n  return new Promise((resolve, reject) => {\n    const options = {\n      hostname: 'localhost',\n      port: 3008,\n      path: path,\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n\n    const req = http.request(options, (res) => {\n      let data = '';\n\n      res.on('data', (chunk) => {\n        data += chunk;\n      });\n\n      res.on('end', () => {\n        try {\n          const response = JSON.parse(data);\n          resolve(response);\n        } catch (error) {\n          reject(new Error(`è§£æå“åº”å¤±è´¥: ${error.message}`));\n        }\n      });\n    });\n\n    req.on('error', (error) => {\n      reject(new Error(`è¯·æ±‚å¤±è´¥: ${error.message}`));\n    });\n\n    req.setTimeout(5000, () => {\n      req.destroy();\n      reject(new Error('è¯·æ±‚è¶…æ—¶'));\n    });\n\n    req.end();\n  });\n}\n\n// æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦è¿è¡Œ\nasync function checkServer() {\n  console.log('ğŸ” æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€...');\n\n  try {\n    const response = await makeRequest('/');\n    console.log('âœ… æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ');\n    return true;\n  } catch (error) {\n    console.error('âŒ æœåŠ¡å™¨æœªè¿è¡Œæˆ–æ— æ³•è¿æ¥:', error.message);\n    console.log('ğŸ’¡ è¯·å…ˆå¯åŠ¨æœåŠ¡å™¨: node server/src/app.js');\n    return false;\n  }\n}\n\n// ä¸»å‡½æ•°\nasync function main() {\n  console.log('ğŸš€ é…ç½®APIæµ‹è¯•å·¥å…·');\n  console.log('='.repeat(40));\n\n  const serverRunning = await checkServer();\n\n  if (serverRunning) {\n    await testConfigAPI();\n  }\n\n  console.log('\\nâœ… æµ‹è¯•å®Œæˆ');\n}\n\n// è¿è¡Œæµ‹è¯•\nif (require.main === module) {\n  main().catch(console.error);\n}\n"
        }
    ]
}