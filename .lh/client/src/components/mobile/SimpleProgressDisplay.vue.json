{
    "sourceFile": "client/src/components/mobile/SimpleProgressDisplay.vue",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 29,
            "patches": [
                {
                    "date": 1753534596477,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1753534611137,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -104,17 +104,23 @@\n </script>\n \n <style scoped>\n .simple-progress-display {\n+  position: fixed;\n+  top: 0;\n+  left: 0;\n+  right: 0;\n+  z-index: 9999;\n   background: linear-gradient(135deg,\n-    rgba(25, 137, 250, 0.1) 0%,\n-    rgba(25, 137, 250, 0.05) 100%);\n-  border: 1px solid rgba(25, 137, 250, 0.2);\n-  border-radius: 12px;\n-  padding: 16px;\n-  margin: 16px 0;\n-  backdrop-filter: blur(10px);\n-  -webkit-backdrop-filter: blur(10px);\n+    rgba(25, 137, 250, 0.95) 0%,\n+    rgba(25, 137, 250, 0.9) 100%);\n+  color: white;\n+  padding: 12px 16px;\n+  backdrop-filter: blur(20px);\n+  -webkit-backdrop-filter: blur(20px);\n+  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n+  box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);\n+  animation: slideDown 0.3s ease-out;\n }\n \n .progress-content {\n   display: flex;\n"
                },
                {
                    "date": 1753534623932,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -125,8 +125,9 @@\n .progress-content {\n   display: flex;\n   align-items: center;\n   gap: 12px;\n+  margin-bottom: 8px;\n }\n \n .progress-icon {\n   flex-shrink: 0;\n"
                },
                {
                    "date": 1753534636578,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -133,12 +133,10 @@\n   flex-shrink: 0;\n   display: flex;\n   align-items: center;\n   justify-content: center;\n-  width: 32px;\n-  height: 32px;\n-  background: rgba(25, 137, 250, 0.1);\n-  border-radius: 50%;\n+  width: 20px;\n+  height: 20px;\n }\n \n .progress-info {\n   flex: 1;\n"
                },
                {
                    "date": 1753534649308,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -145,16 +145,16 @@\n \n .progress-title {\n   font-weight: 600;\n   font-size: 14px;\n-  color: var(--van-text-color);\n-  margin-bottom: 4px;\n+  color: white;\n+  margin-bottom: 2px;\n }\n \n .progress-description {\n   font-size: 12px;\n-  color: var(--van-text-color-2);\n-  line-height: 1.4;\n+  color: rgba(255, 255, 255, 0.9);\n+  line-height: 1.3;\n   word-break: break-all;\n }\n \n .progress-bar-container {\n"
                },
                {
                    "date": 1753534661326,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -156,13 +156,20 @@\n   line-height: 1.3;\n   word-break: break-all;\n }\n \n-.progress-bar-container {\n-  flex-shrink: 0;\n-  width: 80px;\n+.progress-section {\n+  margin-top: 8px;\n }\n \n+.progress-data {\n+  text-align: center;\n+  font-size: 11px;\n+  color: rgba(255, 255, 255, 0.8);\n+  margin-top: 4px;\n+  font-weight: 500;\n+}\n+\n /* 进度条动画 */\n .progress-animation :deep(.van-progress__portion) {\n   animation: progressPulse 2s ease-in-out infinite;\n }\n"
                },
                {
                    "date": 1753534673967,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -182,8 +182,19 @@\n     opacity: 1;\n   }\n }\n \n+@keyframes slideDown {\n+  from {\n+    transform: translateY(-100%);\n+    opacity: 0;\n+  }\n+  to {\n+    transform: translateY(0);\n+    opacity: 1;\n+  }\n+}\n+\n /* 响应式设计 */\n @media (max-width: 480px) {\n   .simple-progress-display {\n     margin: 12px 0;\n"
                },
                {
                    "date": 1753534689903,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -193,22 +193,26 @@\n     opacity: 1;\n   }\n }\n \n+/* 确保页面内容不被遮挡 */\n+:global(body.has-progress-display) {\n+  padding-top: 80px !important;\n+}\n+\n /* 响应式设计 */\n @media (max-width: 480px) {\n   .simple-progress-display {\n-    margin: 12px 0;\n-    padding: 12px;\n+    padding: 10px 12px;\n   }\n \n   .progress-content {\n     gap: 8px;\n   }\n \n   .progress-icon {\n-    width: 28px;\n-    height: 28px;\n+    width: 16px;\n+    height: 16px;\n   }\n \n   .progress-title {\n     font-size: 13px;\n@@ -217,10 +221,10 @@\n   .progress-description {\n     font-size: 11px;\n   }\n \n-  .progress-bar-container {\n-    width: 60px;\n+  .progress-data {\n+    font-size: 10px;\n   }\n }\n \n /* 深色主题适配 */\n"
                },
                {
                    "date": 1753534703303,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -226,18 +226,6 @@\n     font-size: 10px;\n   }\n }\n \n-/* 深色主题适配 */\n-@media (prefers-color-scheme: dark) {\n-  .simple-progress-display {\n-    background: linear-gradient(135deg,\n-      rgba(25, 137, 250, 0.15) 0%,\n-      rgba(25, 137, 250, 0.08) 100%);\n-    border-color: rgba(25, 137, 250, 0.3);\n-  }\n \n-  .progress-icon {\n-    background: rgba(25, 137, 250, 0.2);\n-  }\n-}\n </style>\n"
                },
                {
                    "date": 1753534714773,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,9 +42,9 @@\n   </div>\n </template>\n \n <script setup>\n-import { computed } from 'vue'\n+import { computed, watch, onMounted, onUnmounted } from 'vue'\n \n // Props\n const props = defineProps({\n   visible: {\n"
                },
                {
                    "date": 1753534731839,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,16 +92,30 @@\n })\n \n const iconColor = computed(() => {\n   const colorMap = {\n-    loading: 'var(--van-primary-color)',\n-    success: 'var(--van-success-color)',\n-    error: 'var(--van-danger-color)',\n-    warning: 'var(--van-warning-color)',\n-    info: 'var(--van-info-color)'\n+    loading: 'white',\n+    success: 'white',\n+    error: 'white',\n+    warning: 'white',\n+    info: 'white'\n   }\n-  return colorMap[props.status] || 'var(--van-primary-color)'\n+  return colorMap[props.status] || 'white'\n })\n+\n+// 监听visible变化，调整页面布局\n+watch(() => props.visible, (visible) => {\n+  if (visible) {\n+    document.body.classList.add('has-progress-display')\n+  } else {\n+    document.body.classList.remove('has-progress-display')\n+  }\n+}, { immediate: true })\n+\n+// 组件卸载时清理\n+onUnmounted(() => {\n+  document.body.classList.remove('has-progress-display')\n+})\n </script>\n \n <style scoped>\n .simple-progress-display {\n"
                },
                {
                    "date": 1753536255434,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,22 +119,22 @@\n \n <style scoped>\n .simple-progress-display {\n   position: fixed;\n-  top: 0;\n-  left: 0;\n-  right: 0;\n+  bottom: 16px;\n+  left: 16px;\n+  right: 16px;\n   z-index: 9999;\n   background: linear-gradient(135deg,\n     rgba(25, 137, 250, 0.95) 0%,\n     rgba(25, 137, 250, 0.9) 100%);\n   color: white;\n   padding: 12px 16px;\n   backdrop-filter: blur(20px);\n   -webkit-backdrop-filter: blur(20px);\n-  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n-  box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);\n-  animation: slideDown 0.3s ease-out;\n+  border-radius: 12px;\n+  box-shadow: 0 -2px 20px rgba(0, 0, 0, 0.1);\n+  animation: slideUp 0.3s ease-out;\n }\n \n .progress-content {\n   display: flex;\n"
                },
                {
                    "date": 1753536266089,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -196,11 +196,11 @@\n     opacity: 1;\n   }\n }\n \n-@keyframes slideDown {\n+@keyframes slideUp {\n   from {\n-    transform: translateY(-100%);\n+    transform: translateY(100%);\n     opacity: 0;\n   }\n   to {\n     transform: translateY(0);\n"
                },
                {
                    "date": 1753536277023,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -209,9 +209,9 @@\n }\n \n /* 确保页面内容不被遮挡 */\n :global(body.has-progress-display) {\n-  padding-top: 80px !important;\n+  padding-bottom: 100px !important;\n }\n \n /* 响应式设计 */\n @media (max-width: 480px) {\n"
                },
                {
                    "date": 1753536665592,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,9 +18,9 @@\n \n       <!-- 状态信息 -->\n       <div class=\"progress-info\">\n         <div class=\"progress-title\">{{ title || '处理中...' }}</div>\n-        <div class=\"progress-description\">{{ description || '正在处理，请稍候...' }}</div>\n+        <div class=\"progress-description\">{{ cleanDescription }}</div>\n       </div>\n \n     </div>\n \n"
                },
                {
                    "date": 1753536676154,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,9 +35,9 @@\n         :class=\"{ 'progress-animation': !isWorkflowProgress }\"\n       />\n       <!-- 进度数据显示在进度条下方 -->\n       <div v-if=\"isWorkflowProgress\" class=\"progress-data\">\n-        {{ progress }}% 完成\n+        {{ progressDataText }}\n       </div>\n     </div>\n   </div>\n </template>\n"
                },
                {
                    "date": 1753536692511,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,8 +79,38 @@\n   // 判断是否是工作流进度（包含百分比和节点信息的格式）\n   return props.description && props.description.includes('（') && props.description.includes('）')\n })\n \n+// 清理描述文本，移除进度数据部分\n+const cleanDescription = computed(() => {\n+  if (!props.description) return '正在处理，请稍候...'\n+\n+  // 如果是工作流进度，移除开头的进度数据部分\n+  if (isWorkflowProgress.value) {\n+    // 匹配格式如 \"67% (49/73) ⚠️请不要离开当前页面...\"\n+    const match = props.description.match(/^\\d+%\\s*\\([^)]+\\)\\s*(.*)$/)\n+    if (match && match[1]) {\n+      return match[1]\n+    }\n+  }\n+\n+  return props.description\n+})\n+\n+// 提取进度数据文本，格式为 \"10%(3/35)\"\n+const progressDataText = computed(() => {\n+  if (!isWorkflowProgress.value || !props.description) return ''\n+\n+  // 匹配格式如 \"67% (49/73)\"\n+  const match = props.description.match(/^(\\d+%\\s*\\([^)]+\\))/)\n+  if (match && match[1]) {\n+    return match[1]\n+  }\n+\n+  // 如果没有匹配到，使用默认格式\n+  return `${props.progress}% 完成`\n+})\n+\n const statusIcon = computed(() => {\n   const iconMap = {\n     loading: 'loading',\n     success: 'success',\n"
                },
                {
                    "date": 1753536704344,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -122,15 +122,15 @@\n })\n \n const iconColor = computed(() => {\n   const colorMap = {\n-    loading: 'white',\n-    success: 'white',\n-    error: 'white',\n-    warning: 'white',\n-    info: 'white'\n+    loading: 'rgba(255, 255, 255, 0.9)',\n+    success: 'rgba(255, 255, 255, 0.9)',\n+    error: 'rgba(255, 255, 255, 0.9)',\n+    warning: 'rgba(255, 255, 255, 0.9)',\n+    info: 'rgba(255, 255, 255, 0.9)'\n   }\n-  return colorMap[props.status] || 'white'\n+  return colorMap[props.status] || 'rgba(255, 255, 255, 0.9)'\n })\n \n // 监听visible变化，调整页面布局\n watch(() => props.visible, (visible) => {\n"
                },
                {
                    "date": 1753536720958,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -153,18 +153,22 @@\n   bottom: 16px;\n   left: 16px;\n   right: 16px;\n   z-index: 9999;\n-  background: linear-gradient(135deg,\n-    rgba(25, 137, 250, 0.95) 0%,\n-    rgba(25, 137, 250, 0.9) 100%);\n-  color: white;\n-  padding: 12px 16px;\n+  /* 毛玻璃效果 - 与页面风格一致 */\n+  background: rgba(15, 15, 30, 0.6);\n   backdrop-filter: blur(20px);\n   -webkit-backdrop-filter: blur(20px);\n-  border-radius: 12px;\n-  box-shadow: 0 -2px 20px rgba(0, 0, 0, 0.1);\n+  border: 1px solid rgba(30, 30, 60, 0.3);\n+  border-radius: 16px;\n+  color: rgba(255, 255, 255, 0.95);\n+  padding: 16px;\n+  box-shadow:\n+    0 8px 32px rgba(0, 0, 0, 0.2),\n+    0 4px 16px rgba(0, 0, 0, 0.1),\n+    inset 0 1px 0 rgba(255, 255, 255, 0.05);\n   animation: slideUp 0.3s ease-out;\n+  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n }\n \n .progress-content {\n   display: flex;\n"
                },
                {
                    "date": 1753536730941,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -173,9 +173,9 @@\n .progress-content {\n   display: flex;\n   align-items: center;\n   gap: 12px;\n-  margin-bottom: 8px;\n+  margin-bottom: 12px;\n }\n \n .progress-icon {\n   flex-shrink: 0;\n"
                },
                {
                    "date": 1753536743347,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -192,18 +192,19 @@\n }\n \n .progress-title {\n   font-weight: 600;\n-  font-size: 14px;\n-  color: white;\n-  margin-bottom: 2px;\n+  font-size: 15px;\n+  color: rgba(255, 255, 255, 0.95);\n+  margin-bottom: 4px;\n+  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n }\n \n .progress-description {\n-  font-size: 12px;\n-  color: rgba(255, 255, 255, 0.9);\n-  line-height: 1.3;\n-  word-break: break-all;\n+  font-size: 13px;\n+  color: rgba(255, 255, 255, 0.8);\n+  line-height: 1.4;\n+  word-break: break-word;\n }\n \n .progress-section {\n   margin-top: 8px;\n"
                },
                {
                    "date": 1753536755327,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -206,17 +206,18 @@\n   word-break: break-word;\n }\n \n .progress-section {\n-  margin-top: 8px;\n+  margin-top: 12px;\n }\n \n .progress-data {\n   text-align: center;\n-  font-size: 11px;\n-  color: rgba(255, 255, 255, 0.8);\n-  margin-top: 4px;\n+  font-size: 12px;\n+  color: rgba(255, 255, 255, 0.7);\n+  margin-top: 6px;\n   font-weight: 500;\n+  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;\n }\n \n /* 进度条动画 */\n .progress-animation :deep(.van-progress__portion) {\n"
                },
                {
                    "date": 1753536767843,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,11 +28,11 @@\n     <div v-if=\"showProgress\" class=\"progress-section\">\n       <van-progress\n         :percentage=\"isWorkflowProgress ? progress : 100\"\n         :show-pivot=\"false\"\n-        color=\"rgba(255, 255, 255, 0.9)\"\n-        track-color=\"rgba(255, 255, 255, 0.2)\"\n-        stroke-width=\"3\"\n+        color=\"linear-gradient(90deg, #6366f1, #818cf8)\"\n+        track-color=\"rgba(255, 255, 255, 0.15)\"\n+        stroke-width=\"4\"\n         :class=\"{ 'progress-animation': !isWorkflowProgress }\"\n       />\n       <!-- 进度数据显示在进度条下方 -->\n       <div v-if=\"isWorkflowProgress\" class=\"progress-data\">\n"
                },
                {
                    "date": 1753536779266,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n       <div class=\"progress-icon\">\n         <van-loading\n           v-if=\"status === 'loading'\"\n           size=\"16\"\n-          color=\"var(--van-primary-color)\"\n+          color=\"rgba(255, 255, 255, 0.9)\"\n         />\n         <van-icon\n           v-else\n           :name=\"statusIcon\"\n"
                },
                {
                    "date": 1753536795792,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -251,31 +251,37 @@\n \n /* 响应式设计 */\n @media (max-width: 480px) {\n   .simple-progress-display {\n-    padding: 10px 12px;\n+    padding: 14px;\n+    margin: 0 12px 12px 12px;\n   }\n \n   .progress-content {\n-    gap: 8px;\n+    gap: 10px;\n+    margin-bottom: 10px;\n   }\n \n   .progress-icon {\n-    width: 16px;\n-    height: 16px;\n+    width: 18px;\n+    height: 18px;\n   }\n \n   .progress-title {\n-    font-size: 13px;\n+    font-size: 14px;\n   }\n \n   .progress-description {\n-    font-size: 11px;\n+    font-size: 12px;\n   }\n \n   .progress-data {\n-    font-size: 10px;\n+    font-size: 11px;\n   }\n+\n+  .progress-section {\n+    margin-top: 10px;\n+  }\n }\n \n \n </style>\n"
                },
                {
                    "date": 1753537307252,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,10 +17,10 @@\n       </div>\n \n       <!-- 状态信息 -->\n       <div class=\"progress-info\">\n-        <div class=\"progress-title\">{{ title || '处理中...' }}</div>\n-        <div class=\"progress-description\">{{ cleanDescription }}</div>\n+        <div class=\"progress-title\">{{ displayTitle }}</div>\n+        <div class=\"progress-description\">{{ displayDescription }}</div>\n       </div>\n \n     </div>\n \n"
                },
                {
                    "date": 1753537326822,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,36 +79,47 @@\n   // 判断是否是工作流进度（包含百分比和节点信息的格式）\n   return props.description && props.description.includes('（') && props.description.includes('）')\n })\n \n-// 清理描述文本，移除进度数据部分\n-const cleanDescription = computed(() => {\n-  if (!props.description) return '正在处理，请稍候...'\n+// 显示标题逻辑\n+const displayTitle = computed(() => {\n+  // 如果有自定义标题，优先使用\n+  if (props.title) return props.title\n \n-  // 如果是工作流进度，移除开头的进度数据部分\n+  // 如果是工作流进度阶段，显示\"正在处理图片...\"\n   if (isWorkflowProgress.value) {\n-    // 匹配格式如 \"67% (49/73) ⚠️请不要离开当前页面...\"\n-    const match = props.description.match(/^\\d+%\\s*\\([^)]+\\)\\s*(.*)$/)\n-    if (match && match[1]) {\n-      return match[1]\n-    }\n+    return '正在处理图片...'\n   }\n \n-  return props.description\n+  // 非工作流阶段，从描述中提取主要信息作为标题\n+  if (props.description) {\n+    // 移除警告信息，只保留主要状态\n+    const cleanTitle = props.description.replace(/⚠️.*$/, '').trim()\n+    return cleanTitle || '处理中...'\n+  }\n+\n+  return '处理中...'\n })\n \n-// 提取进度数据文本，格式为 \"10%(3/35)\"\n+// 显示描述逻辑\n+const displayDescription = computed(() => {\n+  // 始终显示警告信息\n+  return '⚠️请不要离开当前页面，等待处理完成后可自行下载'\n+})\n+\n+// 提取进度数据文本，格式为 \"5%(4/73)\"\n const progressDataText = computed(() => {\n   if (!isWorkflowProgress.value || !props.description) return ''\n \n   // 匹配格式如 \"67% (49/73)\"\n   const match = props.description.match(/^(\\d+%\\s*\\([^)]+\\))/)\n   if (match && match[1]) {\n-    return match[1]\n+    // 移除空格，格式化为 \"5%(4/73)\"\n+    return match[1].replace(/\\s+/g, '')\n   }\n \n-  // 如果没有匹配到，使用默认格式\n-  return `${props.progress}% 完成`\n+  // 如果没有匹配到，使用props中的progress值\n+  return ''\n })\n \n const statusIcon = computed(() => {\n   const iconMap = {\n"
                },
                {
                    "date": 1753538498267,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -109,16 +109,16 @@\n // 提取进度数据文本，格式为 \"5%(4/73)\"\n const progressDataText = computed(() => {\n   if (!isWorkflowProgress.value || !props.description) return ''\n \n-  // 匹配格式如 \"67% (49/73)\"\n-  const match = props.description.match(/^(\\d+%\\s*\\([^)]+\\))/)\n+  // 匹配格式如 \"67%（49/73）\" - 使用中文括号\n+  const match = props.description.match(/^(\\d+%（[^）]+）)/)\n   if (match && match[1]) {\n-    // 移除空格，格式化为 \"5%(4/73)\"\n-    return match[1].replace(/\\s+/g, '')\n+    // 转换为英文括号格式 \"5%(4/73)\"\n+    return match[1].replace(/（/g, '(').replace(/）/g, ')')\n   }\n \n-  // 如果没有匹配到，使用props中的progress值\n+  // 如果没有匹配到，返回空字符串\n   return ''\n })\n \n const statusIcon = computed(() => {\n"
                },
                {
                    "date": 1753538767598,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -84,20 +84,29 @@\n const displayTitle = computed(() => {\n   // 如果有自定义标题，优先使用\n   if (props.title) return props.title\n \n-  // 如果是工作流进度阶段，显示\"正在处理图片...\"\n+  if (!props.description) return '处理中...'\n+\n+  // 如果是工作流进度阶段，显示\"工作流执行中...\"\n   if (isWorkflowProgress.value) {\n-    return '正在处理图片...'\n+    return '工作流执行中...'\n   }\n \n-  // 非工作流阶段，从描述中提取主要信息作为标题\n-  if (props.description) {\n-    // 移除警告信息，只保留主要状态\n-    const cleanTitle = props.description.replace(/⚠️.*$/, '').trim()\n-    return cleanTitle || '处理中...'\n+  // 非工作流阶段，从描述中提取阶段信息作为标题\n+  // 移除警告信息，只保留主要状态\n+  const cleanTitle = props.description.replace(/⚠️.*$/, '').trim()\n+\n+  // 如果提取到的标题是有效的阶段信息，直接使用\n+  if (cleanTitle && cleanTitle !== props.description) {\n+    return cleanTitle\n   }\n \n+  // 如果描述就是阶段信息（没有警告文字），直接使用\n+  if (cleanTitle) {\n+    return cleanTitle\n+  }\n+\n   return '处理中...'\n })\n \n // 显示描述逻辑\n"
                },
                {
                    "date": 1753539082693,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -86,11 +86,11 @@\n   if (props.title) return props.title\n \n   if (!props.description) return '处理中...'\n \n-  // 如果是工作流进度阶段，显示\"工作流执行中...\"\n+  // 如果是工作流进度阶段，显示\"图片处理中...\"\n   if (isWorkflowProgress.value) {\n-    return '工作流执行中...'\n+    return '图片处理中...'\n   }\n \n   // 非工作流阶段，从描述中提取阶段信息作为标题\n   // 移除警告信息，只保留主要状态\n"
                }
            ],
            "date": 1753534596477,
            "name": "Commit-0",
            "content": "<template>\n  <div v-if=\"visible\" class=\"simple-progress-display\">\n    <div class=\"progress-content\">\n      <!-- 状态图标 -->\n      <div class=\"progress-icon\">\n        <van-loading\n          v-if=\"status === 'loading'\"\n          size=\"16\"\n          color=\"var(--van-primary-color)\"\n        />\n        <van-icon\n          v-else\n          :name=\"statusIcon\"\n          size=\"16\"\n          :color=\"iconColor\"\n        />\n      </div>\n\n      <!-- 状态信息 -->\n      <div class=\"progress-info\">\n        <div class=\"progress-title\">{{ title || '处理中...' }}</div>\n        <div class=\"progress-description\">{{ description || '正在处理，请稍候...' }}</div>\n      </div>\n\n    </div>\n\n    <!-- 进度条和进度数据 -->\n    <div v-if=\"showProgress\" class=\"progress-section\">\n      <van-progress\n        :percentage=\"isWorkflowProgress ? progress : 100\"\n        :show-pivot=\"false\"\n        color=\"rgba(255, 255, 255, 0.9)\"\n        track-color=\"rgba(255, 255, 255, 0.2)\"\n        stroke-width=\"3\"\n        :class=\"{ 'progress-animation': !isWorkflowProgress }\"\n      />\n      <!-- 进度数据显示在进度条下方 -->\n      <div v-if=\"isWorkflowProgress\" class=\"progress-data\">\n        {{ progress }}% 完成\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\n\n// Props\nconst props = defineProps({\n  visible: {\n    type: Boolean,\n    default: false\n  },\n  status: {\n    type: String,\n    default: 'loading',\n    validator: (value) => ['loading', 'success', 'error', 'warning', 'info'].includes(value)\n  },\n  title: {\n    type: String,\n    default: ''\n  },\n  description: {\n    type: String,\n    default: ''\n  },\n  progress: {\n    type: Number,\n    default: 0\n  },\n  showProgress: {\n    type: Boolean,\n    default: true\n  }\n})\n\n// Computed\nconst isWorkflowProgress = computed(() => {\n  // 判断是否是工作流进度（包含百分比和节点信息的格式）\n  return props.description && props.description.includes('（') && props.description.includes('）')\n})\n\nconst statusIcon = computed(() => {\n  const iconMap = {\n    loading: 'loading',\n    success: 'success',\n    error: 'close',\n    warning: 'warning-o',\n    info: 'info-o'\n  }\n  return iconMap[props.status] || 'info-o'\n})\n\nconst iconColor = computed(() => {\n  const colorMap = {\n    loading: 'var(--van-primary-color)',\n    success: 'var(--van-success-color)',\n    error: 'var(--van-danger-color)',\n    warning: 'var(--van-warning-color)',\n    info: 'var(--van-info-color)'\n  }\n  return colorMap[props.status] || 'var(--van-primary-color)'\n})\n</script>\n\n<style scoped>\n.simple-progress-display {\n  background: linear-gradient(135deg,\n    rgba(25, 137, 250, 0.1) 0%,\n    rgba(25, 137, 250, 0.05) 100%);\n  border: 1px solid rgba(25, 137, 250, 0.2);\n  border-radius: 12px;\n  padding: 16px;\n  margin: 16px 0;\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n}\n\n.progress-content {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.progress-icon {\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  background: rgba(25, 137, 250, 0.1);\n  border-radius: 50%;\n}\n\n.progress-info {\n  flex: 1;\n  min-width: 0;\n}\n\n.progress-title {\n  font-weight: 600;\n  font-size: 14px;\n  color: var(--van-text-color);\n  margin-bottom: 4px;\n}\n\n.progress-description {\n  font-size: 12px;\n  color: var(--van-text-color-2);\n  line-height: 1.4;\n  word-break: break-all;\n}\n\n.progress-bar-container {\n  flex-shrink: 0;\n  width: 80px;\n}\n\n/* 进度条动画 */\n.progress-animation :deep(.van-progress__portion) {\n  animation: progressPulse 2s ease-in-out infinite;\n}\n\n@keyframes progressPulse {\n  0%, 100% {\n    opacity: 0.8;\n  }\n  50% {\n    opacity: 1;\n  }\n}\n\n/* 响应式设计 */\n@media (max-width: 480px) {\n  .simple-progress-display {\n    margin: 12px 0;\n    padding: 12px;\n  }\n\n  .progress-content {\n    gap: 8px;\n  }\n\n  .progress-icon {\n    width: 28px;\n    height: 28px;\n  }\n\n  .progress-title {\n    font-size: 13px;\n  }\n\n  .progress-description {\n    font-size: 11px;\n  }\n\n  .progress-bar-container {\n    width: 60px;\n  }\n}\n\n/* 深色主题适配 */\n@media (prefers-color-scheme: dark) {\n  .simple-progress-display {\n    background: linear-gradient(135deg,\n      rgba(25, 137, 250, 0.15) 0%,\n      rgba(25, 137, 250, 0.08) 100%);\n    border-color: rgba(25, 137, 250, 0.3);\n  }\n\n  .progress-icon {\n    background: rgba(25, 137, 250, 0.2);\n  }\n}\n</style>\n"
        }
    ]
}