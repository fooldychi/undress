{
    "sourceFile": "client/src/components/templates/AIProcessingTemplate.vue",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 55,
            "patches": [
                {
                    "date": 1752384788723,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1752387123181,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -175,15 +175,16 @@\n /* 页面头部样式 */\n .ai-page-header {\n   text-align: center;\n   padding: 16px 0;\n-  background: rgba(255, 255, 255, 0.1);\n-  backdrop-filter: blur(10px);\n-  -webkit-backdrop-filter: blur(10px);\n+  /* Removing frosted glass effect */\n+  background: transparent;\n+  /* backdrop-filter: blur(10px); - Removed */\n+  /* -webkit-backdrop-filter: blur(10px); - Removed */\n   border-radius: 16px;\n   margin-bottom: 20px;\n-  border: 1px solid rgba(255, 255, 255, 0.2);\n-  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n+  border: 1px solid rgba(255, 255, 255, 0.1); /* Reduced opacity from 0.2 */\n+  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05); /* Reduced opacity from 0.1 */\n }\n \n .page-title {\n   display: flex;\n@@ -280,10 +281,10 @@\n \n /* 深色主题适配 */\n @media (prefers-color-scheme: dark) {\n   .ai-page-header {\n-    background: rgba(0, 0, 0, 0.3);\n-    border: 1px solid rgba(255, 255, 255, 0.1);\n+    background: transparent; /* Changed from rgba(0, 0, 0, 0.3) */\n+    border: 1px solid rgba(255, 255, 255, 0.05); /* Reduced opacity from 0.1 */\n   }\n \n   .upload-tips {\n     background: rgba(0, 0, 0, 0.2);\n@@ -295,4 +296,5 @@\n     border: 1px solid rgba(255, 255, 255, 0.05);\n   }\n }\n </style>\n+\n"
                },
                {
                    "date": 1752387151564,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -181,10 +181,8 @@\n   /* backdrop-filter: blur(10px); - Removed */\n   /* -webkit-backdrop-filter: blur(10px); - Removed */\n   border-radius: 16px;\n   margin-bottom: 20px;\n-  border: 1px solid rgba(255, 255, 255, 0.1); /* Reduced opacity from 0.2 */\n-  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05); /* Reduced opacity from 0.1 */\n }\n \n .page-title {\n   display: flex;\n"
                },
                {
                    "date": 1752395933129,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -295,4 +295,5 @@\n   }\n }\n </style>\n \n+\n"
                },
                {
                    "date": 1752421280821,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,8 +81,30 @@\n \n     <!-- 结果展示 -->\n     <div v-if=\"resultData\" class=\"result-section\">\n       <slot name=\"result\" :result=\"resultData\" />\n+\n+      <!-- 结果操作按钮 -->\n+      <div class=\"result-actions\">\n+        <van-button\n+          type=\"primary\"\n+          size=\"large\"\n+          @click=\"$emit('download')\"\n+          :loading=\"downloadLoading\"\n+          class=\"result-action-btn\"\n+        >\n+          下载图片\n+        </van-button>\n+\n+        <van-button\n+          type=\"default\"\n+          size=\"large\"\n+          @click=\"$emit('reprocess')\"\n+          class=\"result-action-btn\"\n+        >\n+          重新处理\n+        </van-button>\n+      </div>\n     </div>\n   </MobilePageContainer>\n </template>\n \n"
                },
                {
                    "date": 1752421309403,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -185,13 +185,19 @@\n   // 结果数据\n   resultData: {\n     type: [Object, String],\n     default: null\n+  },\n+\n+  // 下载状态\n+  downloadLoading: {\n+    type: Boolean,\n+    default: false\n   }\n })\n \n // Events\n-defineEmits(['login', 'logout', 'process'])\n+defineEmits(['login', 'logout', 'process', 'download', 'reprocess'])\n </script>\n \n <style scoped>\n /* 页面头部样式 */\n"
                },
                {
                    "date": 1752421334246,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -278,8 +278,25 @@\n .result-section {\n   margin-top: 24px;\n }\n \n+/* 结果操作按钮样式 */\n+.result-actions {\n+  display: flex;\n+  gap: 12px;\n+  justify-content: center;\n+  margin-top: 20px;\n+  padding: 0 16px;\n+}\n+\n+.result-action-btn {\n+  flex: 1;\n+  max-width: 150px;\n+  font-size: 14px;\n+  font-weight: 500;\n+  border-radius: 8px;\n+}\n+\n /* 移动端优化 */\n @media (max-width: 768px) {\n   .ai-page-header {\n     padding: 12px 0;\n@@ -302,8 +319,18 @@\n   .upload-tips {\n     padding: 16px;\n     margin-top: 16px;\n   }\n+\n+  .result-actions {\n+    gap: 8px;\n+    margin-top: 16px;\n+    padding: 0 12px;\n+  }\n+\n+  .result-action-btn {\n+    font-size: 13px;\n+  }\n }\n \n /* 深色主题适配 */\n @media (prefers-color-scheme: dark) {\n"
                },
                {
                    "date": 1752421486742,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -87,9 +87,9 @@\n       <div class=\"result-actions\">\n         <van-button\n           type=\"primary\"\n           size=\"large\"\n-          @click=\"$emit('download')\"\n+          @click=\"$emit('download', resultData)\"\n           :loading=\"downloadLoading\"\n           class=\"result-action-btn\"\n         >\n           下载图片\n"
                },
                {
                    "date": 1752424008694,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,14 +25,14 @@\n       </div>\n     </template>\n \n     <!-- 主要内容 -->\n-    <div v-if=\"!resultData\" class=\"input-section\">\n-      <!-- 输入区域插槽 -->\n+    <div class=\"input-section\">\n+      <!-- 输入区域插槽 - 始终显示，让子组件决定显示什么 -->\n       <slot name=\"inputs\" />\n \n-      <!-- 处理按钮 -->\n-      <div v-if=\"canProcess && !isProcessing\" class=\"action-section\">\n+      <!-- 处理按钮 - 只在没有结果且不在处理时显示 -->\n+      <div v-if=\"!resultData && canProcess && !isProcessing\" class=\"action-section\">\n         <MobileActionButton\n           @click=\"$emit('process')\"\n           type=\"primary\"\n           block\n@@ -49,10 +49,10 @@\n           {{ processButtonText }}\n         </MobileActionButton>\n       </div>\n \n-      <!-- 上传提示 -->\n-      <div v-else-if=\"showUploadTips\" class=\"upload-tips\">\n+      <!-- 上传提示 - 只在没有结果且显示提示时显示 -->\n+      <div v-else-if=\"!resultData && showUploadTips\" class=\"upload-tips\">\n         <slot name=\"upload-tips\" />\n       </div>\n     </div>\n \n"
                },
                {
                    "date": 1752424026779,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,10 +78,11 @@\n         </div>\n       </template>\n     </MobileStatusCard>\n \n-    <!-- 结果展示 -->\n+    <!-- 结果展示 - 只在需要显示额外结果信息时使用 -->\n     <div v-if=\"resultData\" class=\"result-section\">\n+      <!-- 只显示不在输入区域的结果内容 -->\n       <slot name=\"result\" :result=\"resultData\" />\n \n       <!-- 结果操作按钮 -->\n       <div class=\"result-actions\">\n"
                },
                {
                    "date": 1752424930157,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,14 +25,14 @@\n       </div>\n     </template>\n \n     <!-- 主要内容 -->\n-    <div class=\"input-section\">\n-      <!-- 输入区域插槽 - 始终显示，让子组件决定显示什么 -->\n+    <div v-if=\"!resultData\" class=\"input-section\">\n+      <!-- 输入区域插槽 -->\n       <slot name=\"inputs\" />\n \n-      <!-- 处理按钮 - 只在没有结果且不在处理时显示 -->\n-      <div v-if=\"!resultData && canProcess && !isProcessing\" class=\"action-section\">\n+      <!-- 处理按钮 -->\n+      <div v-if=\"canProcess && !isProcessing\" class=\"action-section\">\n         <MobileActionButton\n           @click=\"$emit('process')\"\n           type=\"primary\"\n           block\n@@ -49,10 +49,10 @@\n           {{ processButtonText }}\n         </MobileActionButton>\n       </div>\n \n-      <!-- 上传提示 - 只在没有结果且显示提示时显示 -->\n-      <div v-else-if=\"!resultData && showUploadTips\" class=\"upload-tips\">\n+      <!-- 上传提示 -->\n+      <div v-else-if=\"showUploadTips\" class=\"upload-tips\">\n         <slot name=\"upload-tips\" />\n       </div>\n     </div>\n \n@@ -78,11 +78,10 @@\n         </div>\n       </template>\n     </MobileStatusCard>\n \n-    <!-- 结果展示 - 只在需要显示额外结果信息时使用 -->\n+    <!-- 结果展示 -->\n     <div v-if=\"resultData\" class=\"result-section\">\n-      <!-- 只显示不在输入区域的结果内容 -->\n       <slot name=\"result\" :result=\"resultData\" />\n \n       <!-- 结果操作按钮 -->\n       <div class=\"result-actions\">\n"
                },
                {
                    "date": 1752427398783,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,14 +25,14 @@\n       </div>\n     </template>\n \n     <!-- 主要内容 -->\n-    <div v-if=\"!resultData\" class=\"input-section\">\n-      <!-- 输入区域插槽 -->\n+    <div class=\"input-section\">\n+      <!-- 输入区域插槽 - 始终显示，包含对比组件 -->\n       <slot name=\"inputs\" />\n \n-      <!-- 处理按钮 -->\n-      <div v-if=\"canProcess && !isProcessing\" class=\"action-section\">\n+      <!-- 处理按钮 - 只在没有结果且可以处理时显示 -->\n+      <div v-if=\"!resultData && canProcess && !isProcessing\" class=\"action-section\">\n         <MobileActionButton\n           @click=\"$emit('process')\"\n           type=\"primary\"\n           block\n@@ -49,10 +49,10 @@\n           {{ processButtonText }}\n         </MobileActionButton>\n       </div>\n \n-      <!-- 上传提示 -->\n-      <div v-else-if=\"showUploadTips\" class=\"upload-tips\">\n+      <!-- 上传提示 - 只在没有结果时显示 -->\n+      <div v-else-if=\"!resultData && showUploadTips\" class=\"upload-tips\">\n         <slot name=\"upload-tips\" />\n       </div>\n     </div>\n \n"
                },
                {
                    "date": 1752427418905,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,33 +78,34 @@\n         </div>\n       </template>\n     </MobileStatusCard>\n \n-    <!-- 结果展示 -->\n+    <!-- 结果展示 - 只显示额外的结果信息，操作按钮始终在底部 -->\n     <div v-if=\"resultData\" class=\"result-section\">\n+      <!-- 额外的结果信息插槽 -->\n       <slot name=\"result\" :result=\"resultData\" />\n+    </div>\n \n-      <!-- 结果操作按钮 -->\n-      <div class=\"result-actions\">\n-        <van-button\n-          type=\"primary\"\n-          size=\"large\"\n-          @click=\"$emit('download', resultData)\"\n-          :loading=\"downloadLoading\"\n-          class=\"result-action-btn\"\n-        >\n-          下载图片\n-        </van-button>\n+    <!-- 结果操作按钮 - 有结果时显示 -->\n+    <div v-if=\"resultData\" class=\"result-actions\">\n+      <van-button\n+        type=\"primary\"\n+        size=\"large\"\n+        @click=\"$emit('download', resultData)\"\n+        :loading=\"downloadLoading\"\n+        class=\"result-action-btn\"\n+      >\n+        下载图片\n+      </van-button>\n \n-        <van-button\n-          type=\"default\"\n-          size=\"large\"\n-          @click=\"$emit('reprocess')\"\n-          class=\"result-action-btn\"\n-        >\n-          重新处理\n-        </van-button>\n-      </div>\n+      <van-button\n+        type=\"default\"\n+        size=\"large\"\n+        @click=\"$emit('reprocess')\"\n+        class=\"result-action-btn\"\n+      >\n+        重新处理\n+      </van-button>\n     </div>\n   </MobilePageContainer>\n </template>\n \n"
                },
                {
                    "date": 1752435662083,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,20 +64,9 @@\n       :description=\"processingDescription\"\n       :progress=\"progress\"\n       :show-progress=\"showProgress\"\n     >\n-      <template #extra>\n-        <div v-if=\"processingInfo\" class=\"processing-info\">\n-          <div v-if=\"processingInfo.promptId\" class=\"info-item\">\n-            <span class=\"info-label\">任务ID:</span>\n-            <span class=\"info-value\">{{ processingInfo.promptId }}</span>\n-          </div>\n-          <div v-if=\"processingInfo.processingTime > 0\" class=\"info-item\">\n-            <span class=\"info-label\">处理时间:</span>\n-            <span class=\"info-value\">{{ Math.floor(processingInfo.processingTime / 1000) }}秒</span>\n-          </div>\n-        </div>\n-      </template>\n+\n     </MobileStatusCard>\n \n     <!-- 结果展示 - 只显示额外的结果信息，操作按钮始终在底部 -->\n     <div v-if=\"resultData\" class=\"result-section\">\n"
                },
                {
                    "date": 1752435742932,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -88,12 +88,12 @@\n \n       <van-button\n         type=\"default\"\n         size=\"large\"\n-        @click=\"$emit('reprocess')\"\n+        @click=\"$emit('reset')\"\n         class=\"result-action-btn\"\n       >\n-        重新处理\n+        重新选择\n       </van-button>\n     </div>\n   </MobilePageContainer>\n </template>\n"
                },
                {
                    "date": 1752499604364,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -55,20 +55,19 @@\n         <slot name=\"upload-tips\" />\n       </div>\n     </div>\n \n-    <!-- 处理状态 -->\n-    <MobileStatusCard\n+    <!-- 固定顶部处理状态 -->\n+    <MobileFixedStatusBar\n       v-if=\"isProcessing\"\n+      :visible=\"isProcessing\"\n       status=\"loading\"\n       :title=\"processingTitle\"\n-      :description=\"processingDescription\"\n+      :description=\"processingStatusDescription\"\n       :progress=\"progress\"\n       :show-progress=\"showProgress\"\n-    >\n+    />\n \n-    </MobileStatusCard>\n-\n     <!-- 结果展示 - 只显示额外的结果信息，操作按钮始终在底部 -->\n     <div v-if=\"resultData\" class=\"result-section\">\n       <!-- 额外的结果信息插槽 -->\n       <slot name=\"result\" :result=\"resultData\" />\n"
                },
                {
                    "date": 1752499676536,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,10 +97,10 @@\n   </MobilePageContainer>\n </template>\n \n <script setup>\n-import { computed } from 'vue'\n-import { MobilePageContainer, MobileActionButton, MobileStatusCard } from '../mobile'\n+import { computed, watch, onMounted, onUnmounted } from 'vue'\n+import { MobilePageContainer, MobileActionButton, MobileStatusCard, MobileFixedStatusBar } from '../mobile'\n \n // Props\n const props = defineProps({\n   // 页面基本信息\n"
                },
                {
                    "date": 1752499747692,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -185,8 +185,56 @@\n })\n \n // Events\n defineEmits(['login', 'logout', 'process', 'download', 'reprocess'])\n+\n+// Computed\n+const processingStatusDescription = computed(() => {\n+  if (!props.isProcessing) return ''\n+\n+  const baseDescription = props.processingDescription || '请耐心等待，处理时间可能需要几分钟'\n+  const warningText = '⚠️请不要离开当前页面，等待处理完成后可自行下载'\n+\n+  return `${baseDescription} ${warningText}`\n+})\n+\n+// 页面离开警告\n+const handleBeforeUnload = (event) => {\n+  if (props.isProcessing) {\n+    event.preventDefault()\n+    event.returnValue = '正在处理中，确定要离开页面吗？处理进度将会丢失。'\n+    return '正在处理中，确定要离开页面吗？处理进度将会丢失。'\n+  }\n+}\n+\n+// 监听处理状态变化，添加/移除页面离开警告\n+watch(() => props.isProcessing, (isProcessing) => {\n+  if (isProcessing) {\n+    // 添加页面顶部间距\n+    document.body.classList.add('has-fixed-status-bar')\n+    // 添加页面离开警告\n+    window.addEventListener('beforeunload', handleBeforeUnload)\n+  } else {\n+    // 移除页面顶部间距\n+    document.body.classList.remove('has-fixed-status-bar')\n+    // 移除页面离开警告\n+    window.removeEventListener('beforeunload', handleBeforeUnload)\n+  }\n+})\n+\n+// 组件挂载时检查处理状态\n+onMounted(() => {\n+  if (props.isProcessing) {\n+    document.body.classList.add('has-fixed-status-bar')\n+    window.addEventListener('beforeunload', handleBeforeUnload)\n+  }\n+})\n+\n+// 组件卸载时清理\n+onUnmounted(() => {\n+  document.body.classList.remove('has-fixed-status-bar')\n+  window.removeEventListener('beforeunload', handleBeforeUnload)\n+})\n </script>\n \n <style scoped>\n /* 页面头部样式 */\n"
                },
                {
                    "date": 1753531685516,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,391 +1,391 @@\n-<template>\n-  <MobilePageContainer\n-    :title=\"title\"\n-    @login=\"$emit('login', $event)\"\n-    @logout=\"$emit('logout', $event)\"\n-  >\n-    <!-- 页面头部描述 -->\n-    <template #header>\n-      <div class=\"ai-page-header\">\n-        <div class=\"page-title\">\n-          <component\n-            :is=\"titleIcon\"\n-            v-if=\"titleIcon\"\n-            :size=\"24\"\n-            :color=\"titleIconColor\"\n-          />\n-          <van-icon\n-            v-else-if=\"titleIconName\"\n-            :name=\"titleIconName\"\n-            :size=\"24\"\n-            :color=\"titleIconColor\"\n-          />\n-          <span>{{ description }}</span>\n-        </div>\n-      </div>\n-    </template>\n-\n-    <!-- 主要内容 -->\n-    <div class=\"input-section\">\n-      <!-- 输入区域插槽 - 始终显示，包含对比组件 -->\n-      <slot name=\"inputs\" />\n-\n-      <!-- 处理按钮 - 只在没有结果且可以处理时显示 -->\n-      <div v-if=\"!resultData && canProcess && !isProcessing\" class=\"action-section\">\n-        <MobileActionButton\n-          @click=\"$emit('process')\"\n-          type=\"primary\"\n-          block\n-          variant=\"floating\"\n-          :icon=\"processButtonIcon\"\n-        >\n-          <template v-if=\"processButtonIcon\" #icon>\n-            <component\n-              :is=\"processButtonIcon\"\n-              :size=\"18\"\n-              color=\"white\"\n-            />\n-          </template>\n-          {{ processButtonText }}\n-        </MobileActionButton>\n-      </div>\n-\n-      <!-- 上传提示 - 只在没有结果时显示 -->\n-      <div v-else-if=\"!resultData && showUploadTips\" class=\"upload-tips\">\n-        <slot name=\"upload-tips\" />\n-      </div>\n-    </div>\n-\n-    <!-- 固定顶部处理状态 -->\n-    <MobileFixedStatusBar\n-      v-if=\"isProcessing\"\n-      :visible=\"isProcessing\"\n-      status=\"loading\"\n-      :title=\"processingTitle\"\n-      :description=\"processingStatusDescription\"\n-      :progress=\"progress\"\n-      :show-progress=\"showProgress\"\n-    />\n-\n-    <!-- 结果展示 - 只显示额外的结果信息，操作按钮始终在底部 -->\n-    <div v-if=\"resultData\" class=\"result-section\">\n-      <!-- 额外的结果信息插槽 -->\n-      <slot name=\"result\" :result=\"resultData\" />\n-    </div>\n-\n-    <!-- 结果操作按钮 - 有结果时显示 -->\n-    <div v-if=\"resultData\" class=\"result-actions\">\n-      <van-button\n-        type=\"primary\"\n-        size=\"large\"\n-        @click=\"$emit('download', resultData)\"\n-        :loading=\"downloadLoading\"\n-        class=\"result-action-btn\"\n-      >\n-        下载图片\n-      </van-button>\n-\n-      <van-button\n-        type=\"default\"\n-        size=\"large\"\n-        @click=\"$emit('reset')\"\n-        class=\"result-action-btn\"\n-      >\n-        重新选择\n-      </van-button>\n-    </div>\n-  </MobilePageContainer>\n-</template>\n-\n-<script setup>\n-import { computed, watch, onMounted, onUnmounted } from 'vue'\n-import { MobilePageContainer, MobileActionButton, MobileStatusCard, MobileFixedStatusBar } from '../mobile'\n-\n-// Props\n-const props = defineProps({\n-  // 页面基本信息\n-  title: {\n-    type: String,\n-    required: true\n-  },\n-  description: {\n-    type: String,\n-    required: true\n-  },\n-  titleIcon: {\n-    type: [String, Object],\n-    default: null\n-  },\n-  titleIconName: {\n-    type: String,\n-    default: ''\n-  },\n-  titleIconColor: {\n-    type: String,\n-    default: 'var(--van-primary-color)'\n-  },\n-\n-  // 处理状态\n-  isProcessing: {\n-    type: Boolean,\n-    default: false\n-  },\n-  canProcess: {\n-    type: Boolean,\n-    default: false\n-  },\n-  showUploadTips: {\n-    type: Boolean,\n-    default: true\n-  },\n-\n-  // 处理按钮\n-  processButtonText: {\n-    type: String,\n-    default: '开始处理'\n-  },\n-  processButtonIcon: {\n-    type: [String, Object],\n-    default: null\n-  },\n-\n-  // 处理进度\n-  progress: {\n-    type: Number,\n-    default: 0\n-  },\n-  showProgress: {\n-    type: Boolean,\n-    default: true\n-  },\n-  processingTitle: {\n-    type: String,\n-    default: '正在处理...'\n-  },\n-  processingDescription: {\n-    type: String,\n-    default: '请耐心等待，处理时间可能需要几分钟'\n-  },\n-  processingInfo: {\n-    type: Object,\n-    default: () => ({})\n-  },\n-\n-  // 结果数据\n-  resultData: {\n-    type: [Object, String],\n-    default: null\n-  },\n-\n-  // 下载状态\n-  downloadLoading: {\n-    type: Boolean,\n-    default: false\n-  }\n-})\n-\n-// Events\n-defineEmits(['login', 'logout', 'process', 'download', 'reprocess'])\n-\n-// Computed\n-const processingStatusDescription = computed(() => {\n-  if (!props.isProcessing) return ''\n-\n-  const baseDescription = props.processingDescription || '请耐心等待，处理时间可能需要几分钟'\n-  const warningText = '⚠️请不要离开当前页面，等待处理完成后可自行下载'\n-\n-  return `${baseDescription} ${warningText}`\n-})\n-\n-// 页面离开警告\n-const handleBeforeUnload = (event) => {\n-  if (props.isProcessing) {\n-    event.preventDefault()\n-    event.returnValue = '正在处理中，确定要离开页面吗？处理进度将会丢失。'\n-    return '正在处理中，确定要离开页面吗？处理进度将会丢失。'\n-  }\n-}\n-\n-// 监听处理状态变化，添加/移除页面离开警告\n-watch(() => props.isProcessing, (isProcessing) => {\n-  if (isProcessing) {\n-    // 添加页面顶部间距\n-    document.body.classList.add('has-fixed-status-bar')\n-    // 添加页面离开警告\n-    window.addEventListener('beforeunload', handleBeforeUnload)\n-  } else {\n-    // 移除页面顶部间距\n-    document.body.classList.remove('has-fixed-status-bar')\n-    // 移除页面离开警告\n-    window.removeEventListener('beforeunload', handleBeforeUnload)\n-  }\n-})\n-\n-// 组件挂载时检查处理状态\n-onMounted(() => {\n-  if (props.isProcessing) {\n-    document.body.classList.add('has-fixed-status-bar')\n-    window.addEventListener('beforeunload', handleBeforeUnload)\n-  }\n-})\n-\n-// 组件卸载时清理\n-onUnmounted(() => {\n-  document.body.classList.remove('has-fixed-status-bar')\n-  window.removeEventListener('beforeunload', handleBeforeUnload)\n-})\n-</script>\n-\n-<style scoped>\n-/* 页面头部样式 */\n-.ai-page-header {\n-  text-align: center;\n-  padding: 16px 0;\n-  /* Removing frosted glass effect */\n-  background: transparent;\n-  /* backdrop-filter: blur(10px); - Removed */\n-  /* -webkit-backdrop-filter: blur(10px); - Removed */\n-  border-radius: 16px;\n-  margin-bottom: 20px;\n-}\n-\n-.page-title {\n-  display: flex;\n-  align-items: center;\n-  justify-content: center;\n-  gap: 12px;\n-  font-size: 18px;\n-  font-weight: 700;\n-  color: rgba(255, 255, 255, 0.95);\n-  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n-}\n-\n-/* 输入区域样式 */\n-.input-section {\n-  display: flex;\n-  flex-direction: column;\n-  gap: 20px;\n-}\n-\n-.action-section {\n-  padding: 0 16px;\n-  margin-top: 24px;\n-}\n-\n-/* 上传提示样式 */\n-.upload-tips {\n-  padding: 20px;\n-  background: rgba(255, 255, 255, 0.1);\n-  backdrop-filter: blur(10px);\n-  -webkit-backdrop-filter: blur(10px);\n-  border-radius: 12px;\n-  margin-top: 20px;\n-  border: 1px solid rgba(255, 255, 255, 0.2);\n-  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);\n-}\n-\n-/* 处理信息样式 */\n-.processing-info {\n-  margin-top: 16px;\n-  padding: 16px;\n-  background: rgba(255, 255, 255, 0.05);\n-  border-radius: 8px;\n-  border: 1px solid rgba(255, 255, 255, 0.1);\n-}\n-\n-.info-item {\n-  display: flex;\n-  justify-content: space-between;\n-  align-items: center;\n-  padding: 6px 0;\n-  font-size: 14px;\n-}\n-\n-.info-label {\n-  color: rgba(255, 255, 255, 0.7);\n-}\n-\n-.info-value {\n-  color: rgba(255, 255, 255, 0.9);\n-  font-weight: 600;\n-  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n-}\n-\n-/* 结果区域样式 */\n-.result-section {\n-  margin-top: 24px;\n-}\n-\n-/* 结果操作按钮样式 */\n-.result-actions {\n-  display: flex;\n-  gap: 12px;\n-  justify-content: center;\n-  margin-top: 20px;\n-  padding: 0 16px;\n-}\n-\n-.result-action-btn {\n-  flex: 1;\n-  max-width: 150px;\n-  font-size: 14px;\n-  font-weight: 500;\n-  border-radius: 8px;\n-}\n-\n-/* 移动端优化 */\n-@media (max-width: 768px) {\n-  .ai-page-header {\n-    padding: 12px 0;\n-    margin-bottom: 16px;\n-  }\n-\n-  .page-title {\n-    font-size: 16px;\n-    gap: 8px;\n-  }\n-\n-  .input-section {\n-    gap: 16px;\n-  }\n-\n-  .action-section {\n-    margin-top: 20px;\n-  }\n-\n-  .upload-tips {\n-    padding: 16px;\n-    margin-top: 16px;\n-  }\n-\n-  .result-actions {\n-    gap: 8px;\n-    margin-top: 16px;\n-    padding: 0 12px;\n-  }\n-\n-  .result-action-btn {\n-    font-size: 13px;\n-  }\n-}\n-\n-/* 深色主题适配 */\n-@media (prefers-color-scheme: dark) {\n-  .ai-page-header {\n-    background: transparent; /* Changed from rgba(0, 0, 0, 0.3) */\n-    border: 1px solid rgba(255, 255, 255, 0.05); /* Reduced opacity from 0.1 */\n-  }\n-\n-  .upload-tips {\n-    background: rgba(0, 0, 0, 0.2);\n-    border: 1px solid rgba(255, 255, 255, 0.1);\n-  }\n-\n-  .processing-info {\n-    background: rgba(0, 0, 0, 0.2);\n-    border: 1px solid rgba(255, 255, 255, 0.05);\n-  }\n-}\n-</style>\n-\n-\n+<template>\r\n+  <MobilePageContainer\r\n+    :title=\"title\"\r\n+    @login=\"$emit('login', $event)\"\r\n+    @logout=\"$emit('logout', $event)\"\r\n+  >\r\n+    <!-- 页面头部描述 -->\r\n+    <template #header>\r\n+      <div class=\"ai-page-header\">\r\n+        <div class=\"page-title\">\r\n+          <component\r\n+            :is=\"titleIcon\"\r\n+            v-if=\"titleIcon\"\r\n+            :size=\"24\"\r\n+            :color=\"titleIconColor\"\r\n+          />\r\n+          <van-icon\r\n+            v-else-if=\"titleIconName\"\r\n+            :name=\"titleIconName\"\r\n+            :size=\"24\"\r\n+            :color=\"titleIconColor\"\r\n+          />\r\n+          <span>{{ description }}</span>\r\n+        </div>\r\n+      </div>\r\n+    </template>\r\n+\r\n+    <!-- 主要内容 -->\r\n+    <div class=\"input-section\">\r\n+      <!-- 输入区域插槽 - 始终显示，包含对比组件 -->\r\n+      <slot name=\"inputs\" />\r\n+\r\n+      <!-- 处理按钮 - 只在没有结果且可以处理时显示 -->\r\n+      <div v-if=\"!resultData && canProcess && !isProcessing\" class=\"action-section\">\r\n+        <MobileActionButton\r\n+          @click=\"$emit('process')\"\r\n+          type=\"primary\"\r\n+          block\r\n+          variant=\"floating\"\r\n+          :icon=\"processButtonIcon\"\r\n+        >\r\n+          <template v-if=\"processButtonIcon\" #icon>\r\n+            <component\r\n+              :is=\"processButtonIcon\"\r\n+              :size=\"18\"\r\n+              color=\"white\"\r\n+            />\r\n+          </template>\r\n+          {{ processButtonText }}\r\n+        </MobileActionButton>\r\n+      </div>\r\n+\r\n+      <!-- 上传提示 - 只在没有结果时显示 -->\r\n+      <div v-else-if=\"!resultData && showUploadTips\" class=\"upload-tips\">\r\n+        <slot name=\"upload-tips\" />\r\n+      </div>\r\n+    </div>\r\n+\r\n+    <!-- 固定顶部处理状态 -->\r\n+    <MobileFixedStatusBar\r\n+      v-if=\"isProcessing\"\r\n+      :visible=\"isProcessing\"\r\n+      status=\"loading\"\r\n+      :title=\"processingTitle\"\r\n+      :description=\"processingStatusDescription\"\r\n+      :progress=\"progress\"\r\n+      :show-progress=\"showProgress\"\r\n+    />\r\n+\r\n+    <!-- 结果展示 - 只显示额外的结果信息，操作按钮始终在底部 -->\r\n+    <div v-if=\"resultData\" class=\"result-section\">\r\n+      <!-- 额外的结果信息插槽 -->\r\n+      <slot name=\"result\" :result=\"resultData\" />\r\n+    </div>\r\n+\r\n+    <!-- 结果操作按钮 - 有结果时显示 -->\r\n+    <div v-if=\"resultData\" class=\"result-actions\">\r\n+      <van-button\r\n+        type=\"primary\"\r\n+        size=\"large\"\r\n+        @click=\"$emit('download', resultData)\"\r\n+        :loading=\"downloadLoading\"\r\n+        class=\"result-action-btn\"\r\n+      >\r\n+        下载图片\r\n+      </van-button>\r\n+\r\n+      <van-button\r\n+        type=\"default\"\r\n+        size=\"large\"\r\n+        @click=\"$emit('reset')\"\r\n+        class=\"result-action-btn\"\r\n+      >\r\n+        重新选择\r\n+      </van-button>\r\n+    </div>\r\n+  </MobilePageContainer>\r\n+</template>\r\n+\r\n+<script setup>\r\n+import { computed, watch, onMounted, onUnmounted } from 'vue'\r\n+import { MobilePageContainer, MobileActionButton, MobileStatusCard, MobileFixedStatusBar } from '../mobile'\r\n+\r\n+// Props\r\n+const props = defineProps({\r\n+  // 页面基本信息\r\n+  title: {\r\n+    type: String,\r\n+    required: true\r\n+  },\r\n+  description: {\r\n+    type: String,\r\n+    required: true\r\n+  },\r\n+  titleIcon: {\r\n+    type: [String, Object],\r\n+    default: null\r\n+  },\r\n+  titleIconName: {\r\n+    type: String,\r\n+    default: ''\r\n+  },\r\n+  titleIconColor: {\r\n+    type: String,\r\n+    default: 'var(--van-primary-color)'\r\n+  },\r\n+\r\n+  // 处理状态\r\n+  isProcessing: {\r\n+    type: Boolean,\r\n+    default: false\r\n+  },\r\n+  canProcess: {\r\n+    type: Boolean,\r\n+    default: false\r\n+  },\r\n+  showUploadTips: {\r\n+    type: Boolean,\r\n+    default: true\r\n+  },\r\n+\r\n+  // 处理按钮\r\n+  processButtonText: {\r\n+    type: String,\r\n+    default: '开始处理'\r\n+  },\r\n+  processButtonIcon: {\r\n+    type: [String, Object],\r\n+    default: null\r\n+  },\r\n+\r\n+  // 处理进度\r\n+  progress: {\r\n+    type: Number,\r\n+    default: 0\r\n+  },\r\n+  showProgress: {\r\n+    type: Boolean,\r\n+    default: true\r\n+  },\r\n+  processingTitle: {\r\n+    type: String,\r\n+    default: '正在处理...'\r\n+  },\r\n+  processingDescription: {\r\n+    type: String,\r\n+    default: ''\r\n+  },\r\n+  processingInfo: {\r\n+    type: Object,\r\n+    default: () => ({})\r\n+  },\r\n+\r\n+  // 结果数据\r\n+  resultData: {\r\n+    type: [Object, String],\r\n+    default: null\r\n+  },\r\n+\r\n+  // 下载状态\r\n+  downloadLoading: {\r\n+    type: Boolean,\r\n+    default: false\r\n+  }\r\n+})\r\n+\r\n+// Events\r\n+defineEmits(['login', 'logout', 'process', 'download', 'reprocess'])\r\n+\r\n+// Computed\r\n+const processingStatusDescription = computed(() => {\r\n+  if (!props.isProcessing) return ''\r\n+\r\n+  const baseDescription = props.processingDescription || '请耐心等待，处理时间可能需要几分钟'\r\n+  const warningText = '⚠️请不要离开当前页面，等待处理完成后可自行下载'\r\n+\r\n+  return `${baseDescription} ${warningText}`\r\n+})\r\n+\r\n+// 页面离开警告\r\n+const handleBeforeUnload = (event) => {\r\n+  if (props.isProcessing) {\r\n+    event.preventDefault()\r\n+    event.returnValue = '正在处理中，确定要离开页面吗？处理进度将会丢失。'\r\n+    return '正在处理中，确定要离开页面吗？处理进度将会丢失。'\r\n+  }\r\n+}\r\n+\r\n+// 监听处理状态变化，添加/移除页面离开警告\r\n+watch(() => props.isProcessing, (isProcessing) => {\r\n+  if (isProcessing) {\r\n+    // 添加页面顶部间距\r\n+    document.body.classList.add('has-fixed-status-bar')\r\n+    // 添加页面离开警告\r\n+    window.addEventListener('beforeunload', handleBeforeUnload)\r\n+  } else {\r\n+    // 移除页面顶部间距\r\n+    document.body.classList.remove('has-fixed-status-bar')\r\n+    // 移除页面离开警告\r\n+    window.removeEventListener('beforeunload', handleBeforeUnload)\r\n+  }\r\n+})\r\n+\r\n+// 组件挂载时检查处理状态\r\n+onMounted(() => {\r\n+  if (props.isProcessing) {\r\n+    document.body.classList.add('has-fixed-status-bar')\r\n+    window.addEventListener('beforeunload', handleBeforeUnload)\r\n+  }\r\n+})\r\n+\r\n+// 组件卸载时清理\r\n+onUnmounted(() => {\r\n+  document.body.classList.remove('has-fixed-status-bar')\r\n+  window.removeEventListener('beforeunload', handleBeforeUnload)\r\n+})\r\n+</script>\r\n+\r\n+<style scoped>\r\n+/* 页面头部样式 */\r\n+.ai-page-header {\r\n+  text-align: center;\r\n+  padding: 16px 0;\r\n+  /* Removing frosted glass effect */\r\n+  background: transparent;\r\n+  /* backdrop-filter: blur(10px); - Removed */\r\n+  /* -webkit-backdrop-filter: blur(10px); - Removed */\r\n+  border-radius: 16px;\r\n+  margin-bottom: 20px;\r\n+}\r\n+\r\n+.page-title {\r\n+  display: flex;\r\n+  align-items: center;\r\n+  justify-content: center;\r\n+  gap: 12px;\r\n+  font-size: 18px;\r\n+  font-weight: 700;\r\n+  color: rgba(255, 255, 255, 0.95);\r\n+  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n+}\r\n+\r\n+/* 输入区域样式 */\r\n+.input-section {\r\n+  display: flex;\r\n+  flex-direction: column;\r\n+  gap: 20px;\r\n+}\r\n+\r\n+.action-section {\r\n+  padding: 0 16px;\r\n+  margin-top: 24px;\r\n+}\r\n+\r\n+/* 上传提示样式 */\r\n+.upload-tips {\r\n+  padding: 20px;\r\n+  background: rgba(255, 255, 255, 0.1);\r\n+  backdrop-filter: blur(10px);\r\n+  -webkit-backdrop-filter: blur(10px);\r\n+  border-radius: 12px;\r\n+  margin-top: 20px;\r\n+  border: 1px solid rgba(255, 255, 255, 0.2);\r\n+  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);\r\n+}\r\n+\r\n+/* 处理信息样式 */\r\n+.processing-info {\r\n+  margin-top: 16px;\r\n+  padding: 16px;\r\n+  background: rgba(255, 255, 255, 0.05);\r\n+  border-radius: 8px;\r\n+  border: 1px solid rgba(255, 255, 255, 0.1);\r\n+}\r\n+\r\n+.info-item {\r\n+  display: flex;\r\n+  justify-content: space-between;\r\n+  align-items: center;\r\n+  padding: 6px 0;\r\n+  font-size: 14px;\r\n+}\r\n+\r\n+.info-label {\r\n+  color: rgba(255, 255, 255, 0.7);\r\n+}\r\n+\r\n+.info-value {\r\n+  color: rgba(255, 255, 255, 0.9);\r\n+  font-weight: 600;\r\n+  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\r\n+}\r\n+\r\n+/* 结果区域样式 */\r\n+.result-section {\r\n+  margin-top: 24px;\r\n+}\r\n+\r\n+/* 结果操作按钮样式 */\r\n+.result-actions {\r\n+  display: flex;\r\n+  gap: 12px;\r\n+  justify-content: center;\r\n+  margin-top: 20px;\r\n+  padding: 0 16px;\r\n+}\r\n+\r\n+.result-action-btn {\r\n+  flex: 1;\r\n+  max-width: 150px;\r\n+  font-size: 14px;\r\n+  font-weight: 500;\r\n+  border-radius: 8px;\r\n+}\r\n+\r\n+/* 移动端优化 */\r\n+@media (max-width: 768px) {\r\n+  .ai-page-header {\r\n+    padding: 12px 0;\r\n+    margin-bottom: 16px;\r\n+  }\r\n+\r\n+  .page-title {\r\n+    font-size: 16px;\r\n+    gap: 8px;\r\n+  }\r\n+\r\n+  .input-section {\r\n+    gap: 16px;\r\n+  }\r\n+\r\n+  .action-section {\r\n+    margin-top: 20px;\r\n+  }\r\n+\r\n+  .upload-tips {\r\n+    padding: 16px;\r\n+    margin-top: 16px;\r\n+  }\r\n+\r\n+  .result-actions {\r\n+    gap: 8px;\r\n+    margin-top: 16px;\r\n+    padding: 0 12px;\r\n+  }\r\n+\r\n+  .result-action-btn {\r\n+    font-size: 13px;\r\n+  }\r\n+}\r\n+\r\n+/* 深色主题适配 */\r\n+@media (prefers-color-scheme: dark) {\r\n+  .ai-page-header {\r\n+    background: transparent; /* Changed from rgba(0, 0, 0, 0.3) */\r\n+    border: 1px solid rgba(255, 255, 255, 0.05); /* Reduced opacity from 0.1 */\r\n+  }\r\n+\r\n+  .upload-tips {\r\n+    background: rgba(0, 0, 0, 0.2);\r\n+    border: 1px solid rgba(255, 255, 255, 0.1);\r\n+  }\r\n+\r\n+  .processing-info {\r\n+    background: rgba(0, 0, 0, 0.2);\r\n+    border: 1px solid rgba(255, 255, 255, 0.05);\r\n+  }\r\n+}\r\n+</style>\r\n+\r\n+\r\n"
                },
                {
                    "date": 1753531698509,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -190,12 +190,12 @@\n // Computed\r\n const processingStatusDescription = computed(() => {\r\n   if (!props.isProcessing) return ''\r\n \r\n-  const baseDescription = props.processingDescription || '请耐心等待，处理时间可能需要几分钟'\r\n+  const baseDescription = props.processingDescription || ''\r\n   const warningText = '⚠️请不要离开当前页面，等待处理完成后可自行下载'\r\n \r\n-  return `${baseDescription} ${warningText}`\r\n+  return baseDescription ? `${baseDescription} ${warningText}` : warningText\r\n })\r\n \r\n // 页面离开警告\r\n const handleBeforeUnload = (event) => {\r\n"
                },
                {
                    "date": 1753533908509,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -188,14 +188,18 @@\n defineEmits(['login', 'logout', 'process', 'download', 'reprocess'])\r\n \r\n // Computed\r\n const processingStatusDescription = computed(() => {\r\n+  console.log('🔍 AIProcessingTemplate - isProcessing:', props.isProcessing, 'processingDescription:', props.processingDescription)\r\n+\r\n   if (!props.isProcessing) return ''\r\n \r\n   const baseDescription = props.processingDescription || ''\r\n   const warningText = '⚠️请不要离开当前页面，等待处理完成后可自行下载'\r\n \r\n-  return baseDescription ? `${baseDescription} ${warningText}` : warningText\r\n+  const result = baseDescription ? `${baseDescription} ${warningText}` : warningText\r\n+  console.log('🔍 AIProcessingTemplate - 最终描述:', result)\r\n+  return result\r\n })\r\n \r\n // 页面离开警告\r\n const handleBeforeUnload = (event) => {\r\n"
                },
                {
                    "date": 1753534040291,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -188,18 +188,14 @@\n defineEmits(['login', 'logout', 'process', 'download', 'reprocess'])\r\n \r\n // Computed\r\n const processingStatusDescription = computed(() => {\r\n-  console.log('🔍 AIProcessingTemplate - isProcessing:', props.isProcessing, 'processingDescription:', props.processingDescription)\r\n-\r\n   if (!props.isProcessing) return ''\r\n \r\n   const baseDescription = props.processingDescription || ''\r\n   const warningText = '⚠️请不要离开当前页面，等待处理完成后可自行下载'\r\n \r\n-  const result = baseDescription ? `${baseDescription} ${warningText}` : warningText\r\n-  console.log('🔍 AIProcessingTemplate - 最终描述:', result)\r\n-  return result\r\n+  return baseDescription ? `${baseDescription} ${warningText}` : warningText\r\n })\r\n \r\n // 页面离开警告\r\n const handleBeforeUnload = (event) => {\r\n"
                },
                {
                    "date": 1753534315431,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -55,10 +55,10 @@\n         <slot name=\"upload-tips\" />\r\n       </div>\r\n     </div>\r\n \r\n-    <!-- 固定顶部处理状态 -->\r\n-    <MobileFixedStatusBar\r\n+    <!-- 处理状态显示 -->\r\n+    <SimpleProgressDisplay\r\n       v-if=\"isProcessing\"\r\n       :visible=\"isProcessing\"\r\n       status=\"loading\"\r\n       :title=\"processingTitle\"\r\n"
                },
                {
                    "date": 1753534327912,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,9 +98,10 @@\n </template>\r\n \r\n <script setup>\r\n import { computed, watch, onMounted, onUnmounted } from 'vue'\r\n-import { MobilePageContainer, MobileActionButton, MobileStatusCard, MobileFixedStatusBar } from '../mobile'\r\n+import { MobilePageContainer, MobileActionButton, MobileStatusCard } from '../mobile'\r\n+import SimpleProgressDisplay from '../mobile/SimpleProgressDisplay.vue'\r\n \r\n // Props\r\n const props = defineProps({\r\n   // 页面基本信息\r\n"
                },
                {
                    "date": 1753534763302,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,10 +98,9 @@\n </template>\r\n \r\n <script setup>\r\n import { computed, watch, onMounted, onUnmounted } from 'vue'\r\n-import { MobilePageContainer, MobileActionButton, MobileStatusCard } from '../mobile'\r\n-import SimpleProgressDisplay from '../mobile/SimpleProgressDisplay.vue'\r\n+import { MobilePageContainer, MobileActionButton, MobileStatusCard, SimpleProgressDisplay } from '../mobile'\r\n \r\n // Props\r\n const props = defineProps({\r\n   // 页面基本信息\r\n"
                },
                {
                    "date": 1753537764395,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -315,15 +315,28 @@\n .result-section {\r\n   margin-top: 24px;\r\n }\r\n \r\n-/* 结果操作按钮样式 */\r\n+/* 结果操作按钮样式 - 固定底部显示 */\r\n .result-actions {\r\n+  position: fixed;\r\n+  bottom: 16px;\r\n+  left: 16px;\r\n+  right: 16px;\r\n   display: flex;\r\n   gap: 12px;\r\n   justify-content: center;\r\n-  margin-top: 20px;\r\n-  padding: 0 16px;\r\n+  padding: 16px;\r\n+  background: rgba(15, 15, 30, 0.6);\r\n+  backdrop-filter: blur(20px);\r\n+  -webkit-backdrop-filter: blur(20px);\r\n+  border: 1px solid rgba(30, 30, 60, 0.3);\r\n+  border-radius: 16px;\r\n+  box-shadow:\r\n+    0 8px 32px rgba(0, 0, 0, 0.2),\r\n+    0 4px 16px rgba(0, 0, 0, 0.1),\r\n+    inset 0 1px 0 rgba(255, 255, 255, 0.05);\r\n+  z-index: 1000;\r\n }\r\n \r\n .result-action-btn {\r\n   flex: 1;\r\n"
                },
                {
                    "date": 1753537777972,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -245,9 +245,8 @@\n   background: transparent;\r\n   /* backdrop-filter: blur(10px); - Removed */\r\n   /* -webkit-backdrop-filter: blur(10px); - Removed */\r\n   border-radius: 16px;\r\n-  margin-bottom: 20px;\r\n }\r\n \r\n .page-title {\r\n   display: flex;\r\n"
                },
                {
                    "date": 1753537825296,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -334,10 +334,29 @@\n     0 8px 32px rgba(0, 0, 0, 0.2),\r\n     0 4px 16px rgba(0, 0, 0, 0.1),\r\n     inset 0 1px 0 rgba(255, 255, 255, 0.05);\r\n   z-index: 1000;\r\n+  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n }\r\n \r\n+/* 确保页面内容不被底部按钮遮挡 */\r\n+.ai-processing-template:has(.result-actions) .mobile-page-main {\r\n+  padding-bottom: 120px;\r\n+}\r\n+\r\n+/* 响应式设计 */\r\n+@media (max-width: 480px) {\r\n+  .result-actions {\r\n+    margin: 0 12px 12px 12px;\r\n+    padding: 14px;\r\n+    gap: 10px;\r\n+  }\r\n+\r\n+  .ai-processing-template:has(.result-actions) .mobile-page-main {\r\n+    padding-bottom: 110px;\r\n+  }\r\n+}\r\n+\r\n .result-action-btn {\r\n   flex: 1;\r\n   max-width: 150px;\r\n   font-size: 14px;\r\n"
                },
                {
                    "date": 1753538010540,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -245,8 +245,9 @@\n   background: transparent;\r\n   /* backdrop-filter: blur(10px); - Removed */\r\n   /* -webkit-backdrop-filter: blur(10px); - Removed */\r\n   border-radius: 16px;\r\n+  /* margin-bottom removed */\r\n }\r\n \r\n .page-title {\r\n   display: flex;\r\n"
                },
                {
                    "date": 1753538187758,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -368,9 +368,8 @@\n /* 移动端优化 */\r\n @media (max-width: 768px) {\r\n   .ai-page-header {\r\n     padding: 12px 0;\r\n-    margin-bottom: 16px;\r\n   }\r\n \r\n   .page-title {\r\n     font-size: 16px;\r\n"
                },
                {
                    "date": 1753539069294,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -60,9 +60,8 @@\n     <SimpleProgressDisplay\r\n       v-if=\"isProcessing\"\r\n       :visible=\"isProcessing\"\r\n       status=\"loading\"\r\n-      :title=\"processingTitle\"\r\n       :description=\"processingStatusDescription\"\r\n       :progress=\"progress\"\r\n       :show-progress=\"showProgress\"\r\n     />\r\n"
                },
                {
                    "date": 1753539724616,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,8 +31,14 @@\n       <slot name=\"inputs\" />\r\n \r\n       <!-- 处理按钮 - 只在没有结果且可以处理时显示 -->\r\n       <div v-if=\"!resultData && canProcess && !isProcessing\" class=\"action-section\">\r\n+        <!-- 积分消耗提示 -->\r\n+        <div v-if=\"pointsCost\" class=\"points-cost-notice\">\r\n+          <van-icon name=\"gold-coin-o\" size=\"16\" color=\"#FFD700\" />\r\n+          <span>本次处理将消耗 <strong>{{ pointsCost }}</strong> 积分</span>\r\n+        </div>\r\n+\r\n         <MobileActionButton\r\n           @click=\"$emit('process')\"\r\n           type=\"primary\"\r\n           block\r\n"
                },
                {
                    "date": 1753539739008,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -153,8 +153,14 @@\n     type: [String, Object],\r\n     default: null\r\n   },\r\n \r\n+  // 积分消耗\r\n+  pointsCost: {\r\n+    type: Number,\r\n+    default: 0\r\n+  },\r\n+\r\n   // 处理进度\r\n   progress: {\r\n     type: Number,\r\n     default: 0\r\n"
                },
                {
                    "date": 1753539756376,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -277,8 +277,29 @@\n   flex-direction: column;\r\n   gap: 20px;\r\n }\r\n \r\n+/* 积分消耗提示样式 */\r\n+.points-cost-notice {\r\n+  display: flex;\r\n+  align-items: center;\r\n+  justify-content: center;\r\n+  gap: 8px;\r\n+  padding: 12px 16px;\r\n+  margin-bottom: 16px;\r\n+  background: rgba(255, 215, 0, 0.1);\r\n+  border: 1px solid rgba(255, 215, 0, 0.3);\r\n+  border-radius: 12px;\r\n+  color: rgba(255, 255, 255, 0.9);\r\n+  font-size: 14px;\r\n+  text-align: center;\r\n+}\r\n+\r\n+.points-cost-notice strong {\r\n+  color: #FFD700;\r\n+  font-weight: 600;\r\n+}\r\n+\r\n .action-section {\r\n   padding: 0 16px;\r\n   margin-top: 24px;\r\n }\r\n"
                },
                {
                    "date": 1753540579968,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,8 +98,16 @@\n       >\r\n         重新选择\r\n       </van-button>\r\n     </div>\r\n+\r\n+    <!-- 底部固定积分消耗提醒 - 用户上传图片前显示，开始处理时不显示 -->\r\n+    <div v-if=\"shouldShowBottomPointsNotice\" class=\"bottom-points-notice\">\r\n+      <div class=\"points-notice-content\">\r\n+        <van-icon name=\"gold-coin-o\" size=\"18\" color=\"#FFD700\" />\r\n+        <span>{{ title }}将消耗 <strong>{{ pointsCost }}</strong> 积分</span>\r\n+      </div>\r\n+    </div>\r\n   </MobilePageContainer>\r\n </template>\r\n \r\n <script setup>\r\n"
                },
                {
                    "date": 1753540593817,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -215,8 +215,16 @@\n \r\n   return baseDescription ? `${baseDescription} ${warningText}` : warningText\r\n })\r\n \r\n+// 控制底部积分提醒显示时机：用户上传图片前显示，开始处理时不显示\r\n+const shouldShowBottomPointsNotice = computed(() => {\r\n+  return props.pointsCost > 0 && // 有积分消耗\r\n+         !props.isProcessing && // 未在处理中\r\n+         !props.resultData && // 没有结果\r\n+         !props.canProcess // 用户还未上传图片（不能处理）\r\n+})\r\n+\r\n // 页面离开警告\r\n const handleBeforeUnload = (event) => {\r\n   if (props.isProcessing) {\r\n     event.preventDefault()\r\n"
                },
                {
                    "date": 1753540609368,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -391,8 +391,57 @@\n .ai-processing-template:has(.result-actions) .mobile-page-main {\r\n   padding-bottom: 120px;\r\n }\r\n \r\n+/* 底部固定积分消耗提醒样式 */\r\n+.bottom-points-notice {\r\n+  position: fixed;\r\n+  bottom: 0;\r\n+  left: 0;\r\n+  right: 0;\r\n+  background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 193, 7, 0.1));\r\n+  border-top: 1px solid rgba(255, 215, 0, 0.3);\r\n+  backdrop-filter: blur(20px);\r\n+  -webkit-backdrop-filter: blur(20px);\r\n+  z-index: 1000;\r\n+  padding: 16px;\r\n+  box-shadow: 0 -4px 16px rgba(0, 0, 0, 0.1);\r\n+  animation: slideUpIn 0.3s ease-out;\r\n+}\r\n+\r\n+.points-notice-content {\r\n+  display: flex;\r\n+  align-items: center;\r\n+  justify-content: center;\r\n+  gap: 8px;\r\n+  color: rgba(255, 255, 255, 0.9);\r\n+  font-size: 14px;\r\n+  font-weight: 500;\r\n+  text-align: center;\r\n+}\r\n+\r\n+.points-notice-content strong {\r\n+  color: #FFD700;\r\n+  font-weight: 600;\r\n+  font-size: 16px;\r\n+}\r\n+\r\n+/* 确保页面内容不被底部积分提醒遮挡 */\r\n+.ai-processing-template:has(.bottom-points-notice) .mobile-page-main {\r\n+  padding-bottom: 80px;\r\n+}\r\n+\r\n+@keyframes slideUpIn {\r\n+  from {\r\n+    transform: translateY(100%);\r\n+    opacity: 0;\r\n+  }\r\n+  to {\r\n+    transform: translateY(0);\r\n+    opacity: 1;\r\n+  }\r\n+}\r\n+\r\n /* 响应式设计 */\r\n @media (max-width: 480px) {\r\n   .result-actions {\r\n     margin: 0 12px 12px 12px;\r\n"
                },
                {
                    "date": 1753540623905,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -219,10 +219,10 @@\n // 控制底部积分提醒显示时机：用户上传图片前显示，开始处理时不显示\r\n const shouldShowBottomPointsNotice = computed(() => {\r\n   return props.pointsCost > 0 && // 有积分消耗\r\n          !props.isProcessing && // 未在处理中\r\n-         !props.resultData && // 没有结果\r\n-         !props.canProcess // 用户还未上传图片（不能处理）\r\n+         !props.resultData // 没有结果\r\n+         // 无论是否可以处理都显示，让用户知道积分消耗\r\n })\r\n \r\n // 页面离开警告\r\n const handleBeforeUnload = (event) => {\r\n"
                },
                {
                    "date": 1753540928639,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -215,14 +215,14 @@\n \r\n   return baseDescription ? `${baseDescription} ${warningText}` : warningText\r\n })\r\n \r\n-// 控制底部积分提醒显示时机：用户上传图片前显示，开始处理时不显示\r\n+// 控制底部积分提醒显示时机：用户上传图片前显示，上传图片后删除底部提示，开始处理时不显示\r\n const shouldShowBottomPointsNotice = computed(() => {\r\n   return props.pointsCost > 0 && // 有积分消耗\r\n          !props.isProcessing && // 未在处理中\r\n-         !props.resultData // 没有结果\r\n-         // 无论是否可以处理都显示，让用户知道积分消耗\r\n+         !props.resultData && // 没有结果\r\n+         !props.canProcess // 用户还未上传图片（不能处理时才显示）\r\n })\r\n \r\n // 页面离开警告\r\n const handleBeforeUnload = (event) => {\r\n"
                },
                {
                    "date": 1753540953782,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -391,44 +391,54 @@\n .ai-processing-template:has(.result-actions) .mobile-page-main {\r\n   padding-bottom: 120px;\r\n }\r\n \r\n-/* 底部固定积分消耗提醒样式 */\r\n+/* 底部固定积分消耗提醒样式 - 圆角提示浮层，与进度条配色一致 */\r\n .bottom-points-notice {\r\n   position: fixed;\r\n-  bottom: 0;\r\n-  left: 0;\r\n-  right: 0;\r\n-  background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 193, 7, 0.1));\r\n-  border-top: 1px solid rgba(255, 215, 0, 0.3);\r\n+  bottom: 16px;\r\n+  left: 16px;\r\n+  right: 16px;\r\n+  z-index: 1000;\r\n+  /* 与进度条配色保持一致 */\r\n+  background: rgba(15, 15, 30, 0.6);\r\n   backdrop-filter: blur(20px);\r\n   -webkit-backdrop-filter: blur(20px);\r\n-  z-index: 1000;\r\n+  border: 1px solid rgba(30, 30, 60, 0.3);\r\n+  border-radius: 16px;\r\n   padding: 16px;\r\n-  box-shadow: 0 -4px 16px rgba(0, 0, 0, 0.1);\r\n+  box-shadow:\r\n+    0 8px 32px rgba(0, 0, 0, 0.2),\r\n+    0 4px 16px rgba(0, 0, 0, 0.1),\r\n+    inset 0 1px 0 rgba(255, 255, 255, 0.05);\r\n   animation: slideUpIn 0.3s ease-out;\r\n+  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n }\r\n \r\n .points-notice-content {\r\n   display: flex;\r\n   align-items: center;\r\n   justify-content: center;\r\n   gap: 8px;\r\n-  color: rgba(255, 255, 255, 0.9);\r\n+  color: rgba(255, 255, 255, 0.95);\r\n   font-size: 14px;\r\n   font-weight: 500;\r\n   text-align: center;\r\n }\r\n \r\n .points-notice-content strong {\r\n-  color: #FFD700;\r\n+  /* 使用与进度条一致的渐变色 */\r\n+  background: linear-gradient(90deg, #6366f1, #818cf8);\r\n+  -webkit-background-clip: text;\r\n+  -webkit-text-fill-color: transparent;\r\n+  background-clip: text;\r\n   font-weight: 600;\r\n   font-size: 16px;\r\n }\r\n \r\n /* 确保页面内容不被底部积分提醒遮挡 */\r\n .ai-processing-template:has(.bottom-points-notice) .mobile-page-main {\r\n-  padding-bottom: 80px;\r\n+  padding-bottom: 100px;\r\n }\r\n \r\n @keyframes slideUpIn {\r\n   from {\r\n"
                },
                {
                    "date": 1753541066648,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,14 +31,8 @@\n       <slot name=\"inputs\" />\r\n \r\n       <!-- 处理按钮 - 只在没有结果且可以处理时显示 -->\r\n       <div v-if=\"!resultData && canProcess && !isProcessing\" class=\"action-section\">\r\n-        <!-- 积分消耗提示 -->\r\n-        <div v-if=\"pointsCost\" class=\"points-cost-notice\">\r\n-          <van-icon name=\"gold-coin-o\" size=\"16\" color=\"#FFD700\" />\r\n-          <span>本次处理将消耗 <strong>{{ pointsCost }}</strong> 积分</span>\r\n-        </div>\r\n-\r\n         <MobileActionButton\r\n           @click=\"$emit('process')\"\r\n           type=\"primary\"\r\n           block\r\n"
                },
                {
                    "date": 1753541080861,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -287,28 +287,9 @@\n   flex-direction: column;\r\n   gap: 20px;\r\n }\r\n \r\n-/* 积分消耗提示样式 */\r\n-.points-cost-notice {\r\n-  display: flex;\r\n-  align-items: center;\r\n-  justify-content: center;\r\n-  gap: 8px;\r\n-  padding: 12px 16px;\r\n-  margin-bottom: 16px;\r\n-  background: rgba(255, 215, 0, 0.1);\r\n-  border: 1px solid rgba(255, 215, 0, 0.3);\r\n-  border-radius: 12px;\r\n-  color: rgba(255, 255, 255, 0.9);\r\n-  font-size: 14px;\r\n-  text-align: center;\r\n-}\r\n \r\n-.points-cost-notice strong {\r\n-  color: #FFD700;\r\n-  font-weight: 600;\r\n-}\r\n \r\n .action-section {\r\n   padding: 0 16px;\r\n   margin-top: 24px;\r\n"
                },
                {
                    "date": 1753541117715,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -155,14 +155,8 @@\n     type: [String, Object],\r\n     default: null\r\n   },\r\n \r\n-  // 积分消耗\r\n-  pointsCost: {\r\n-    type: Number,\r\n-    default: 0\r\n-  },\r\n-\r\n   // 处理进度\r\n   progress: {\r\n     type: Number,\r\n     default: 0\r\n"
                },
                {
                    "date": 1753541134861,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,9 +97,9 @@\n     <!-- 底部固定积分消耗提醒 - 用户上传图片前显示，开始处理时不显示 -->\r\n     <div v-if=\"shouldShowBottomPointsNotice\" class=\"bottom-points-notice\">\r\n       <div class=\"points-notice-content\">\r\n         <van-icon name=\"gold-coin-o\" size=\"18\" color=\"#FFD700\" />\r\n-        <span>{{ title }}将消耗 <strong>{{ pointsCost }}</strong> 积分</span>\r\n+        <span>{{ title }}将消耗 <strong>20</strong> 积分</span>\r\n       </div>\r\n     </div>\r\n   </MobilePageContainer>\r\n </template>\r\n"
                },
                {
                    "date": 1753541150117,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -205,10 +205,9 @@\n })\r\n \r\n // 控制底部积分提醒显示时机：用户上传图片前显示，上传图片后删除底部提示，开始处理时不显示\r\n const shouldShowBottomPointsNotice = computed(() => {\r\n-  return props.pointsCost > 0 && // 有积分消耗\r\n-         !props.isProcessing && // 未在处理中\r\n+  return !props.isProcessing && // 未在处理中\r\n          !props.resultData && // 没有结果\r\n          !props.canProcess // 用户还未上传图片（不能处理时才显示）\r\n })\r\n \r\n"
                },
                {
                    "date": 1753541356568,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -283,10 +283,27 @@\n \r\n \r\n \r\n .action-section {\r\n-  padding: 0 16px;\r\n-  margin-top: 24px;\r\n+  position: fixed;\r\n+  bottom: 16px;\r\n+  left: 16px;\r\n+  right: 16px;\r\n+  display: flex;\r\n+  gap: 12px;\r\n+  justify-content: center;\r\n+  padding: 16px;\r\n+  background: rgba(15, 15, 30, 0.6);\r\n+  backdrop-filter: blur(20px);\r\n+  -webkit-backdrop-filter: blur(20px);\r\n+  border: 1px solid rgba(30, 30, 60, 0.3);\r\n+  border-radius: 16px;\r\n+  box-shadow:\r\n+    0 8px 32px rgba(0, 0, 0, 0.2),\r\n+    0 4px 16px rgba(0, 0, 0, 0.1),\r\n+    inset 0 1px 0 rgba(255, 255, 255, 0.05);\r\n+  z-index: 1000;\r\n+  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n }\r\n \r\n /* 上传提示样式 */\r\n .upload-tips {\r\n@@ -420,15 +437,15 @@\n }\r\n \r\n /* 响应式设计 */\r\n @media (max-width: 480px) {\r\n-  .result-actions {\r\n+  .action-section {\r\n     margin: 0 12px 12px 12px;\r\n     padding: 14px;\r\n     gap: 10px;\r\n   }\r\n \r\n-  .ai-processing-template:has(.result-actions) .mobile-page-main {\r\n+  .ai-processing-template:has(.action-section) .mobile-page-main {\r\n     padding-bottom: 110px;\r\n   }\r\n }\r\n \r\n"
                },
                {
                    "date": 1753541807784,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -93,15 +93,9 @@\n         重新选择\r\n       </van-button>\r\n     </div>\r\n \r\n-    <!-- 底部固定积分消耗提醒 - 用户上传图片前显示，开始处理时不显示 -->\r\n-    <div v-if=\"shouldShowBottomPointsNotice\" class=\"bottom-points-notice\">\r\n-      <div class=\"points-notice-content\">\r\n-        <van-icon name=\"gold-coin-o\" size=\"18\" color=\"#FFD700\" />\r\n-        <span>{{ title }}将消耗 <strong>20</strong> 积分</span>\r\n-      </div>\r\n-    </div>\r\n+\r\n   </MobilePageContainer>\r\n </template>\r\n \r\n <script setup>\r\n"
                },
                {
                    "date": 1753541880435,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -197,15 +197,10 @@\n \r\n   return baseDescription ? `${baseDescription} ${warningText}` : warningText\r\n })\r\n \r\n-// 控制底部积分提醒显示时机：用户上传图片前显示，上传图片后删除底部提示，开始处理时不显示\r\n-const shouldShowBottomPointsNotice = computed(() => {\r\n-  return !props.isProcessing && // 未在处理中\r\n-         !props.resultData && // 没有结果\r\n-         !props.canProcess // 用户还未上传图片（不能处理时才显示）\r\n-})\r\n \r\n+\r\n // 页面离开警告\r\n const handleBeforeUnload = (event) => {\r\n   if (props.isProcessing) {\r\n     event.preventDefault()\r\n"
                },
                {
                    "date": 1753541905625,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -365,67 +365,10 @@\n .ai-processing-template:has(.result-actions) .mobile-page-main {\r\n   padding-bottom: 120px;\r\n }\r\n \r\n-/* 底部固定积分消耗提醒样式 - 圆角提示浮层，与进度条配色一致 */\r\n-.bottom-points-notice {\r\n-  position: fixed;\r\n-  bottom: 16px;\r\n-  left: 16px;\r\n-  right: 16px;\r\n-  z-index: 1000;\r\n-  /* 与进度条配色保持一致 */\r\n-  background: rgba(15, 15, 30, 0.6);\r\n-  backdrop-filter: blur(20px);\r\n-  -webkit-backdrop-filter: blur(20px);\r\n-  border: 1px solid rgba(30, 30, 60, 0.3);\r\n-  border-radius: 16px;\r\n-  padding: 16px;\r\n-  box-shadow:\r\n-    0 8px 32px rgba(0, 0, 0, 0.2),\r\n-    0 4px 16px rgba(0, 0, 0, 0.1),\r\n-    inset 0 1px 0 rgba(255, 255, 255, 0.05);\r\n-  animation: slideUpIn 0.3s ease-out;\r\n-  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n-}\r\n \r\n-.points-notice-content {\r\n-  display: flex;\r\n-  align-items: center;\r\n-  justify-content: center;\r\n-  gap: 8px;\r\n-  color: rgba(255, 255, 255, 0.95);\r\n-  font-size: 14px;\r\n-  font-weight: 500;\r\n-  text-align: center;\r\n-}\r\n \r\n-.points-notice-content strong {\r\n-  /* 使用与进度条一致的渐变色 */\r\n-  background: linear-gradient(90deg, #6366f1, #818cf8);\r\n-  -webkit-background-clip: text;\r\n-  -webkit-text-fill-color: transparent;\r\n-  background-clip: text;\r\n-  font-weight: 600;\r\n-  font-size: 16px;\r\n-}\r\n-\r\n-/* 确保页面内容不被底部积分提醒遮挡 */\r\n-.ai-processing-template:has(.bottom-points-notice) .mobile-page-main {\r\n-  padding-bottom: 100px;\r\n-}\r\n-\r\n-@keyframes slideUpIn {\r\n-  from {\r\n-    transform: translateY(100%);\r\n-    opacity: 0;\r\n-  }\r\n-  to {\r\n-    transform: translateY(0);\r\n-    opacity: 1;\r\n-  }\r\n-}\r\n-\r\n /* 响应式设计 */\r\n @media (max-width: 480px) {\r\n   .action-section {\r\n     margin: 0 12px 12px 12px;\r\n"
                },
                {
                    "date": 1753542217759,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -93,9 +93,17 @@\n         重新选择\r\n       </van-button>\r\n     </div>\r\n \r\n+    <!-- 底部固定积分消耗提醒 - 用户上传图片前显示，上传图片后隐藏 -->\r\n+    <div v-if=\"shouldShowBottomPointsNotice\" class=\"bottom-points-notice\">\r\n+      <div class=\"points-notice-content\">\r\n+        <van-icon name=\"gold-coin-o\" size=\"18\" color=\"#FFD700\" />\r\n+        <span>{{ title }}将消耗 <strong>20</strong> 积分</span>\r\n+      </div>\r\n+    </div>\r\n \r\n+\r\n   </MobilePageContainer>\r\n </template>\r\n \r\n <script setup>\r\n"
                },
                {
                    "date": 1753542244014,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -205,10 +205,15 @@\n \r\n   return baseDescription ? `${baseDescription} ${warningText}` : warningText\r\n })\r\n \r\n+// 控制底部积分提醒显示时机：用户上传图片前显示，上传图片后隐藏，避免遮挡提交按钮\r\n+const shouldShowBottomPointsNotice = computed(() => {\r\n+  return !props.isProcessing && // 未在处理中\r\n+         !props.resultData && // 没有结果\r\n+         !props.canProcess // 用户还未上传图片（不能处理时才显示）\r\n+})\r\n \r\n-\r\n // 页面离开警告\r\n const handleBeforeUnload = (event) => {\r\n   if (props.isProcessing) {\r\n     event.preventDefault()\r\n"
                },
                {
                    "date": 1753542267249,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -373,15 +373,74 @@\n   z-index: 1000;\r\n   transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n }\r\n \r\n+/* 底部固定积分消耗提醒样式 - 圆角提示浮层，与进度条配色一致 */\r\n+.bottom-points-notice {\r\n+  position: fixed;\r\n+  bottom: 16px;\r\n+  left: 16px;\r\n+  right: 16px;\r\n+  z-index: 1000;\r\n+  /* 与进度条配色保持一致 */\r\n+  background: rgba(15, 15, 30, 0.6);\r\n+  backdrop-filter: blur(20px);\r\n+  -webkit-backdrop-filter: blur(20px);\r\n+  border: 1px solid rgba(30, 30, 60, 0.3);\r\n+  border-radius: 16px;\r\n+  padding: 16px;\r\n+  box-shadow:\r\n+    0 8px 32px rgba(0, 0, 0, 0.2),\r\n+    0 4px 16px rgba(0, 0, 0, 0.1),\r\n+    inset 0 1px 0 rgba(255, 255, 255, 0.05);\r\n+  animation: slideUpIn 0.3s ease-out;\r\n+  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n+}\r\n+\r\n+.points-notice-content {\r\n+  display: flex;\r\n+  align-items: center;\r\n+  justify-content: center;\r\n+  gap: 8px;\r\n+  color: rgba(255, 255, 255, 0.95);\r\n+  font-size: 14px;\r\n+  font-weight: 500;\r\n+  text-align: center;\r\n+}\r\n+\r\n+.points-notice-content strong {\r\n+  /* 使用与进度条一致的渐变色 */\r\n+  background: linear-gradient(90deg, #6366f1, #818cf8);\r\n+  -webkit-background-clip: text;\r\n+  -webkit-text-fill-color: transparent;\r\n+  background-clip: text;\r\n+  font-weight: 600;\r\n+  font-size: 16px;\r\n+}\r\n+\r\n+/* 确保页面内容不被底部积分提醒遮挡 */\r\n+.ai-processing-template:has(.bottom-points-notice) .mobile-page-main {\r\n+  padding-bottom: 100px;\r\n+}\r\n+\r\n /* 确保页面内容不被底部按钮遮挡 */\r\n .ai-processing-template:has(.result-actions) .mobile-page-main {\r\n   padding-bottom: 120px;\r\n }\r\n \r\n+@keyframes slideUpIn {\r\n+  from {\r\n+    transform: translateY(100%);\r\n+    opacity: 0;\r\n+  }\r\n+  to {\r\n+    transform: translateY(0);\r\n+    opacity: 1;\r\n+  }\r\n+}\r\n \r\n \r\n+\r\n /* 响应式设计 */\r\n @media (max-width: 480px) {\r\n   .action-section {\r\n     margin: 0 12px 12px 12px;\r\n"
                },
                {
                    "date": 1753542285881,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -189,8 +189,14 @@\n   // 下载状态\r\n   downloadLoading: {\r\n     type: Boolean,\r\n     default: false\r\n+  },\r\n+\r\n+  // 积分消耗\r\n+  pointsCost: {\r\n+    type: Number,\r\n+    default: 0\r\n   }\r\n })\r\n \r\n // Events\r\n"
                },
                {
                    "date": 1753542302643,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,9 +97,9 @@\n     <!-- 底部固定积分消耗提醒 - 用户上传图片前显示，上传图片后隐藏 -->\r\n     <div v-if=\"shouldShowBottomPointsNotice\" class=\"bottom-points-notice\">\r\n       <div class=\"points-notice-content\">\r\n         <van-icon name=\"gold-coin-o\" size=\"18\" color=\"#FFD700\" />\r\n-        <span>{{ title }}将消耗 <strong>20</strong> 积分</span>\r\n+        <span>{{ title }}将消耗 <strong>{{ pointsCost }}</strong> 积分</span>\r\n       </div>\r\n     </div>\r\n \r\n \r\n"
                },
                {
                    "date": 1753542316890,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -213,9 +213,10 @@\n })\r\n \r\n // 控制底部积分提醒显示时机：用户上传图片前显示，上传图片后隐藏，避免遮挡提交按钮\r\n const shouldShowBottomPointsNotice = computed(() => {\r\n-  return !props.isProcessing && // 未在处理中\r\n+  return props.pointsCost > 0 && // 有积分消耗\r\n+         !props.isProcessing && // 未在处理中\r\n          !props.resultData && // 没有结果\r\n          !props.canProcess // 用户还未上传图片（不能处理时才显示）\r\n })\r\n \r\n"
                },
                {
                    "date": 1753542691352,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -96,9 +96,8 @@\n \r\n     <!-- 底部固定积分消耗提醒 - 用户上传图片前显示，上传图片后隐藏 -->\r\n     <div v-if=\"shouldShowBottomPointsNotice\" class=\"bottom-points-notice\">\r\n       <div class=\"points-notice-content\">\r\n-        <van-icon name=\"gold-coin-o\" size=\"18\" color=\"#FFD700\" />\r\n         <span>{{ title }}将消耗 <strong>{{ pointsCost }}</strong> 积分</span>\r\n       </div>\r\n     </div>\r\n \r\n"
                }
            ],
            "date": 1752384788723,
            "name": "Commit-0",
            "content": "<template>\n  <MobilePageContainer\n    :title=\"title\"\n    @login=\"$emit('login', $event)\"\n    @logout=\"$emit('logout', $event)\"\n  >\n    <!-- 页面头部描述 -->\n    <template #header>\n      <div class=\"ai-page-header\">\n        <div class=\"page-title\">\n          <component\n            :is=\"titleIcon\"\n            v-if=\"titleIcon\"\n            :size=\"24\"\n            :color=\"titleIconColor\"\n          />\n          <van-icon\n            v-else-if=\"titleIconName\"\n            :name=\"titleIconName\"\n            :size=\"24\"\n            :color=\"titleIconColor\"\n          />\n          <span>{{ description }}</span>\n        </div>\n      </div>\n    </template>\n\n    <!-- 主要内容 -->\n    <div v-if=\"!resultData\" class=\"input-section\">\n      <!-- 输入区域插槽 -->\n      <slot name=\"inputs\" />\n\n      <!-- 处理按钮 -->\n      <div v-if=\"canProcess && !isProcessing\" class=\"action-section\">\n        <MobileActionButton\n          @click=\"$emit('process')\"\n          type=\"primary\"\n          block\n          variant=\"floating\"\n          :icon=\"processButtonIcon\"\n        >\n          <template v-if=\"processButtonIcon\" #icon>\n            <component\n              :is=\"processButtonIcon\"\n              :size=\"18\"\n              color=\"white\"\n            />\n          </template>\n          {{ processButtonText }}\n        </MobileActionButton>\n      </div>\n\n      <!-- 上传提示 -->\n      <div v-else-if=\"showUploadTips\" class=\"upload-tips\">\n        <slot name=\"upload-tips\" />\n      </div>\n    </div>\n\n    <!-- 处理状态 -->\n    <MobileStatusCard\n      v-if=\"isProcessing\"\n      status=\"loading\"\n      :title=\"processingTitle\"\n      :description=\"processingDescription\"\n      :progress=\"progress\"\n      :show-progress=\"showProgress\"\n    >\n      <template #extra>\n        <div v-if=\"processingInfo\" class=\"processing-info\">\n          <div v-if=\"processingInfo.promptId\" class=\"info-item\">\n            <span class=\"info-label\">任务ID:</span>\n            <span class=\"info-value\">{{ processingInfo.promptId }}</span>\n          </div>\n          <div v-if=\"processingInfo.processingTime > 0\" class=\"info-item\">\n            <span class=\"info-label\">处理时间:</span>\n            <span class=\"info-value\">{{ Math.floor(processingInfo.processingTime / 1000) }}秒</span>\n          </div>\n        </div>\n      </template>\n    </MobileStatusCard>\n\n    <!-- 结果展示 -->\n    <div v-if=\"resultData\" class=\"result-section\">\n      <slot name=\"result\" :result=\"resultData\" />\n    </div>\n  </MobilePageContainer>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\nimport { MobilePageContainer, MobileActionButton, MobileStatusCard } from '../mobile'\n\n// Props\nconst props = defineProps({\n  // 页面基本信息\n  title: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  titleIcon: {\n    type: [String, Object],\n    default: null\n  },\n  titleIconName: {\n    type: String,\n    default: ''\n  },\n  titleIconColor: {\n    type: String,\n    default: 'var(--van-primary-color)'\n  },\n\n  // 处理状态\n  isProcessing: {\n    type: Boolean,\n    default: false\n  },\n  canProcess: {\n    type: Boolean,\n    default: false\n  },\n  showUploadTips: {\n    type: Boolean,\n    default: true\n  },\n\n  // 处理按钮\n  processButtonText: {\n    type: String,\n    default: '开始处理'\n  },\n  processButtonIcon: {\n    type: [String, Object],\n    default: null\n  },\n\n  // 处理进度\n  progress: {\n    type: Number,\n    default: 0\n  },\n  showProgress: {\n    type: Boolean,\n    default: true\n  },\n  processingTitle: {\n    type: String,\n    default: '正在处理...'\n  },\n  processingDescription: {\n    type: String,\n    default: '请耐心等待，处理时间可能需要几分钟'\n  },\n  processingInfo: {\n    type: Object,\n    default: () => ({})\n  },\n\n  // 结果数据\n  resultData: {\n    type: [Object, String],\n    default: null\n  }\n})\n\n// Events\ndefineEmits(['login', 'logout', 'process'])\n</script>\n\n<style scoped>\n/* 页面头部样式 */\n.ai-page-header {\n  text-align: center;\n  padding: 16px 0;\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n  border-radius: 16px;\n  margin-bottom: 20px;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n}\n\n.page-title {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  font-size: 18px;\n  font-weight: 700;\n  color: rgba(255, 255, 255, 0.95);\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n\n/* 输入区域样式 */\n.input-section {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.action-section {\n  padding: 0 16px;\n  margin-top: 24px;\n}\n\n/* 上传提示样式 */\n.upload-tips {\n  padding: 20px;\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n  border-radius: 12px;\n  margin-top: 20px;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);\n}\n\n/* 处理信息样式 */\n.processing-info {\n  margin-top: 16px;\n  padding: 16px;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 8px;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.info-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 6px 0;\n  font-size: 14px;\n}\n\n.info-label {\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.info-value {\n  color: rgba(255, 255, 255, 0.9);\n  font-weight: 600;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n\n/* 结果区域样式 */\n.result-section {\n  margin-top: 24px;\n}\n\n/* 移动端优化 */\n@media (max-width: 768px) {\n  .ai-page-header {\n    padding: 12px 0;\n    margin-bottom: 16px;\n  }\n\n  .page-title {\n    font-size: 16px;\n    gap: 8px;\n  }\n\n  .input-section {\n    gap: 16px;\n  }\n\n  .action-section {\n    margin-top: 20px;\n  }\n\n  .upload-tips {\n    padding: 16px;\n    margin-top: 16px;\n  }\n}\n\n/* 深色主题适配 */\n@media (prefers-color-scheme: dark) {\n  .ai-page-header {\n    background: rgba(0, 0, 0, 0.3);\n    border: 1px solid rgba(255, 255, 255, 0.1);\n  }\n\n  .upload-tips {\n    background: rgba(0, 0, 0, 0.2);\n    border: 1px solid rgba(255, 255, 255, 0.1);\n  }\n\n  .processing-info {\n    background: rgba(0, 0, 0, 0.2);\n    border: 1px solid rgba(255, 255, 255, 0.05);\n  }\n}\n</style>\n"
        }
    ]
}