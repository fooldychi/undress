{
    "sourceFile": "client/src/views/FaceSwap.vue",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 5,
            "patches": [
                {
                    "date": 1752348807217,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1752348821426,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,8 +115,9 @@\n import ProcessingStatus from '../components/ProcessingStatus.vue'\r\n import ImageComparison from '../components/ImageComparison.vue'\r\n import PointsDisplay from '../components/PointsDisplay.vue'\r\n import UserInfo from '../components/UserInfo.vue'\r\n+import BackToHomeButton from '../components/BackToHomeButton.vue'\r\n import { FaceSwapIcon } from '../components/icons'\r\n \r\n // é™æ€å¯¼å…¥ComfyUIæœåŠ¡\r\n import { processFaceSwapImage } from '../services/comfyui.js'\r\n"
                },
                {
                    "date": 1752351589068,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,23 +1,21 @@\n <template>\r\n-  <div class=\"feature-page\">\r\n+  <div class=\"mobile-page\">\r\n     <!-- å³ä¸Šè§’ç”¨æˆ·ä¿¡æ¯ -->\r\n     <div class=\"top-corner\">\r\n       <UserInfo @login=\"handleUserLogin\" @logout=\"handleUserLogout\" />\r\n     </div>\r\n \r\n-    <div class=\"container\">\r\n-      <header class=\"page-header\">\r\n-        <BackToHomeButton class=\"back-btn\" />\r\n-        <h1 class=\"page-title\">\r\n-          <FaceSwapIcon :size=\"32\" color=\"var(--warning-color)\" class=\"page-icon\" />\r\n-          æé€Ÿæ¢è„¸\r\n-        </h1>\r\n-        <p class=\"page-description\">ä¸Šä¼ 4å¼ äººè„¸ç…§ç‰‡å’Œ1å¼ ç›®æ ‡å›¾ç‰‡ï¼ŒAIå°†ä¸ºæ‚¨æ™ºèƒ½æ¢è„¸</p>\r\n+    <div class=\"mobile-container\">\r\n+      <header class=\"mobile-header\">\r\n+        <BackToHomeButton class=\"mobile-header-back\" />\r\n+        <h1 class=\"mobile-header-title\">æé€Ÿæ¢è„¸</h1>\r\n+        <div></div>\r\n       </header>\r\n \r\n       <!-- ä½“éªŒç‚¹æ˜¾ç¤º -->\r\n-      <PointsDisplay ref=\"pointsDisplayRef\" />\r\n+      <div class=\"mobile-content\">\r\n+        <PointsDisplay ref=\"pointsDisplayRef\" />\r\n \r\n       <main class=\"page-content\">\r\n         <div v-if=\"!resultImage\" class=\"upload-section\">\r\n           <!-- äººè„¸ç…§ç‰‡ä¸Šä¼ åŒºåŸŸ -->\r\n"
                },
                {
                    "date": 1752352751828,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,10 +14,8 @@\n \r\n       <!-- ä½“éªŒç‚¹æ˜¾ç¤º -->\r\n       <div class=\"mobile-content\">\r\n         <PointsDisplay ref=\"pointsDisplayRef\" />\r\n-\r\n-      <main class=\"page-content\">\r\n         <div v-if=\"!resultImage\" class=\"upload-section\">\r\n           <!-- äººè„¸ç…§ç‰‡ä¸Šä¼ åŒºåŸŸ -->\r\n           <div class=\"face-photos-section\">\r\n             <h3 class=\"section-title\">\r\n"
                },
                {
                    "date": 1752353188970,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -96,9 +96,9 @@\n           :original-image=\"targetImageForComparison\"\r\n           :result-image=\"resultImage\"\r\n           @reset=\"resetProcess\"\r\n         />\r\n-      </main>\r\n+      </div>\r\n     </div>\r\n   </div>\r\n </template>\r\n \r\n"
                },
                {
                    "date": 1752354037622,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,21 +1,25 @@\n <template>\r\n-  <div class=\"mobile-page\">\r\n+  <div class=\"feature-page\">\r\n     <!-- å³ä¸Šè§’ç”¨æˆ·ä¿¡æ¯ -->\r\n     <div class=\"top-corner\">\r\n       <UserInfo @login=\"handleUserLogin\" @logout=\"handleUserLogout\" />\r\n     </div>\r\n \r\n-    <div class=\"mobile-container\">\r\n-      <header class=\"mobile-header\">\r\n-        <BackToHomeButton class=\"mobile-header-back\" />\r\n-        <h1 class=\"mobile-header-title\">æé€Ÿæ¢è„¸</h1>\r\n-        <div></div>\r\n+    <div class=\"container\">\r\n+      <header class=\"page-header\">\r\n+        <BackToHomeButton class=\"back-btn\" />\r\n+        <h1 class=\"page-title\">\r\n+          <FaceSwapIcon :size=\"32\" color=\"var(--warning-color)\" class=\"page-icon\" />\r\n+          æé€Ÿæ¢è„¸\r\n+        </h1>\r\n+        <p class=\"page-description\">ä¸Šä¼ 4å¼ äººè„¸ç…§ç‰‡å’Œ1å¼ ç›®æ ‡å›¾ç‰‡ï¼ŒAIå°†ä¸ºæ‚¨æ™ºèƒ½æ¢è„¸</p>\r\n       </header>\r\n \r\n       <!-- ä½“éªŒç‚¹æ˜¾ç¤º -->\r\n-      <div class=\"mobile-content\">\r\n-        <PointsDisplay ref=\"pointsDisplayRef\" />\r\n+      <PointsDisplay ref=\"pointsDisplayRef\" />\r\n+\r\n+      <main class=\"page-content\">\r\n         <div v-if=\"!resultImage\" class=\"upload-section\">\r\n           <!-- äººè„¸ç…§ç‰‡ä¸Šä¼ åŒºåŸŸ -->\r\n           <div class=\"face-photos-section\">\r\n             <h3 class=\"section-title\">\r\n@@ -96,9 +100,9 @@\n           :original-image=\"targetImageForComparison\"\r\n           :result-image=\"resultImage\"\r\n           @reset=\"resetProcess\"\r\n         />\r\n-      </div>\r\n+      </main>\r\n     </div>\r\n   </div>\r\n </template>\r\n \r\n"
                }
            ],
            "date": 1752348807217,
            "name": "Commit-0",
            "content": "<template>\r\n  <div class=\"feature-page\">\r\n    <!-- å³ä¸Šè§’ç”¨æˆ·ä¿¡æ¯ -->\r\n    <div class=\"top-corner\">\r\n      <UserInfo @login=\"handleUserLogin\" @logout=\"handleUserLogout\" />\r\n    </div>\r\n\r\n    <div class=\"container\">\r\n      <header class=\"page-header\">\r\n        <BackToHomeButton class=\"back-btn\" />\r\n        <h1 class=\"page-title\">\r\n          <FaceSwapIcon :size=\"32\" color=\"var(--warning-color)\" class=\"page-icon\" />\r\n          æé€Ÿæ¢è„¸\r\n        </h1>\r\n        <p class=\"page-description\">ä¸Šä¼ 4å¼ äººè„¸ç…§ç‰‡å’Œ1å¼ ç›®æ ‡å›¾ç‰‡ï¼ŒAIå°†ä¸ºæ‚¨æ™ºèƒ½æ¢è„¸</p>\r\n      </header>\r\n\r\n      <!-- ä½“éªŒç‚¹æ˜¾ç¤º -->\r\n      <PointsDisplay ref=\"pointsDisplayRef\" />\r\n\r\n      <main class=\"page-content\">\r\n        <div v-if=\"!resultImage\" class=\"upload-section\">\r\n          <!-- äººè„¸ç…§ç‰‡ä¸Šä¼ åŒºåŸŸ -->\r\n          <div class=\"face-photos-section\">\r\n            <h3 class=\"section-title\">\r\n              <FaceSwapIcon :size=\"20\" color=\"var(--primary-color)\" class=\"section-icon\" />\r\n              äººè„¸ç…§ç‰‡ (1-4å¼ )\r\n            </h3>\r\n            <!-- <p class=\"section-description\">ä¸€æ¬¡æ€§é€‰æ‹©1-4å¼ æ¸…æ™°çš„äººè„¸ç…§ç‰‡</p> -->\r\n\r\n            <MultiImageUpload\r\n              v-model=\"facePhotos\"\r\n              :disabled=\"isLoading\"\r\n              @change=\"handleFacePhotosChange\"\r\n            />\r\n          </div>\r\n\r\n          <!-- ç›®æ ‡å›¾ç‰‡ä¸Šä¼ åŒºåŸŸ -->\r\n          <div class=\"target-image-section\">\r\n            <h3 class=\"section-title\">\r\n              <Image :size=\"20\" color=\"var(--success-color)\" class=\"section-icon\" />\r\n              ç›®æ ‡å›¾ç‰‡\r\n            </h3>\r\n            <!-- <p class=\"section-description\">ä¸Šä¼ éœ€è¦æ¢è„¸çš„ç›®æ ‡å›¾ç‰‡</p> -->\r\n\r\n            <ImageUpload\r\n              v-model=\"targetImage\"\r\n              title=\"ä¸Šä¼ éœ€è¦æ¢è„¸çš„ç›®æ ‡å›¾ç‰‡\"\r\n              description=\"æ”¯æŒ JPGã€PNG æ ¼å¼ï¼Œå»ºè®®å°ºå¯¸ 512x512 ä»¥ä¸Š\"\r\n              icon=\"Image\"\r\n              :icon-size=\"48\"\r\n              :disabled=\"isLoading\"\r\n              @change=\"handleTargetImageChange\"\r\n            />\r\n          </div>\r\n\r\n          <!-- å¤„ç†æŒ‰é’® -->\r\n          <div v-if=\"canProcess && !isLoading\" class=\"action-section\">\r\n            <van-button\r\n              @click=\"processImages\"\r\n              type=\"primary\"\r\n              size=\"large\"\r\n              round\r\n              block\r\n              class=\"process-btn\"\r\n            >\r\n              <Users :size=\"20\" color=\"white\" class=\"btn-icon\" />\r\n              å¼€å§‹æ¢è„¸\r\n            </van-button>\r\n          </div>\r\n\r\n          <!-- ä¸Šä¼ æç¤º -->\r\n          <div v-else class=\"upload-tips\">\r\n            <div class=\"tip-item\">\r\n              <Image :size=\"16\" color=\"var(--primary-color)\" class=\"tip-icon\" />\r\n              <span>å·²ä¸Šä¼  {{ uploadedFacePhotos }}/4 å¼ äººè„¸ç…§ç‰‡</span>\r\n            </div>\r\n            <div class=\"tip-item\">\r\n              <Image :size=\"16\" color=\"var(--success-color)\" class=\"tip-icon\" />\r\n              <van-icon :name=\"targetImage ? 'success' : 'cross'\" size=\"16\" :color=\"targetImage ? 'var(--success-color)' : 'var(--error-color)'\" />\r\n              <span>ç›®æ ‡å›¾ç‰‡</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- å¤„ç†çŠ¶æ€ -->\r\n        <ProcessingStatus\r\n          v-if=\"isLoading\"\r\n          status=\"loading\"\r\n          title=\"æ­£åœ¨å¤„ç†æ¢è„¸...\"\r\n          description=\"è¯·è€å¿ƒç­‰å¾…ï¼Œå¤„ç†æ—¶é—´å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿ\"\r\n          :progress=\"progressPercent\"\r\n          :prompt-id=\"promptId\"\r\n          :processing-time=\"processingTime\"\r\n        />\r\n\r\n        <!-- ç»“æœå±•ç¤ºåŒºåŸŸ -->\r\n        <ImageComparison\r\n          v-if=\"resultImage\"\r\n          :original-image=\"targetImageForComparison\"\r\n          :result-image=\"resultImage\"\r\n          @reset=\"resetProcess\"\r\n        />\r\n      </main>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, onUnmounted } from 'vue'\r\nimport { Toast } from 'vant'\r\nimport { Image } from 'lucide-vue-next'\r\nimport ImageUpload from '../components/ImageUpload.vue'\r\nimport MultiImageUpload from '../components/MultiImageUpload.vue'\r\nimport ProcessingStatus from '../components/ProcessingStatus.vue'\r\nimport ImageComparison from '../components/ImageComparison.vue'\r\nimport PointsDisplay from '../components/PointsDisplay.vue'\r\nimport UserInfo from '../components/UserInfo.vue'\r\nimport { FaceSwapIcon } from '../components/icons'\r\n\r\n// é™æ€å¯¼å…¥ComfyUIæœåŠ¡\r\nimport { processFaceSwapImage } from '../services/comfyui.js'\r\n\r\nconsole.log('FaceSwapç»„ä»¶å·²åŠ è½½ï¼ŒComfyUIæœåŠ¡å·²å¯¼å…¥')\r\n\r\n// å“åº”å¼æ•°æ®\r\nconst facePhotos = ref([]) // äººè„¸ç…§ç‰‡æ•°ç»„ï¼ˆ1-4å¼ ï¼Œè‡ªåŠ¨è¡¥é½åˆ°4å¼ ï¼‰\r\nconst targetImage = ref(null) // ç›®æ ‡å›¾ç‰‡ï¼ˆç”¨äºä¸Šä¼ ï¼‰\r\nconst targetImageForComparison = ref(null) // ç›®æ ‡å›¾ç‰‡ï¼ˆç”¨äºå¯¹æ¯”æ˜¾ç¤ºï¼‰\r\nconst resultImage = ref(null) // å¤„ç†ç»“æœ\r\nconst isLoading = ref(false)\r\nconst processingStatus = ref('')\r\nconst promptId = ref('')\r\nconst processingTime = ref('')\r\nconst progressPercent = ref(0)\r\n\r\n// æ‹–æ‹½å¯¹æ¯”åŠŸèƒ½\r\nconst sliderPosition = ref(50)\r\nconst isDragging = ref(false)\r\nconst comparisonContainer = ref(null)\r\nconst startTime = ref(null)\r\n\r\n// ä½“éªŒç‚¹ç»„ä»¶å¼•ç”¨\r\nconst pointsDisplayRef = ref(null)\r\n\r\n// ä½¿ç”¨VantUI Toastç³»ç»Ÿ\r\n\r\n// è®¡ç®—å±æ€§\r\nconst uploadedFacePhotos = computed(() => {\r\n  return facePhotos.value.length\r\n})\r\n\r\nconst canProcess = computed(() => {\r\n  return facePhotos.value.length === 4 && targetImage.value !== null\r\n})\r\n\r\n// å¤„ç†äººè„¸ç…§ç‰‡ä¸Šä¼ ï¼ˆå¤šé€‰ï¼‰\r\nconst handleFacePhotosChange = (images, originalCount) => {\r\n  facePhotos.value = images\r\n  resultImage.value = null // æ¸…é™¤ä¹‹å‰çš„ç»“æœ\r\n\r\n  if (originalCount > 0) {\r\n    Toast.success(`å·²é€‰æ‹© ${originalCount} å¼ ç…§ç‰‡${originalCount < 4 ? 'ï¼Œè‡ªåŠ¨è¡¥é½è‡³4å¼ ' : ''}`)\r\n  }\r\n}\r\n\r\n// å¤„ç†ç›®æ ‡å›¾ç‰‡ä¸Šä¼ \r\nconst handleTargetImageChange = (imageData, file) => {\r\n  targetImage.value = imageData\r\n  resultImage.value = null // æ¸…é™¤ä¹‹å‰çš„ç»“æœ\r\n}\r\n\r\n// ToaståŠŸèƒ½å·²ç§»è‡³useToastç»„åˆå¼å‡½æ•°\r\n\r\n// å¤„ç†å›¾ç‰‡\r\nconst processImages = async () => {\r\n  if (!canProcess.value) return\r\n\r\n  isLoading.value = true\r\n  processingStatus.value = 'æ­£åœ¨åŠ è½½æœåŠ¡...'\r\n  progressPercent.value = 10\r\n  startTime.value = Date.now()\r\n\r\n  try {\r\n    console.log('ğŸš€ å¼€å§‹æé€Ÿæ¢è„¸å¤„ç†')\r\n\r\n    // ComfyUIæœåŠ¡å·²é™æ€å¯¼å…¥ï¼Œæ— éœ€åŠ¨æ€åŠ è½½\r\n\r\n    processingStatus.value = 'æ­£åœ¨ä¸Šä¼ å›¾ç‰‡...'\r\n    progressPercent.value = 30\r\n\r\n    // è°ƒç”¨æ¢è„¸å¤„ç†æœåŠ¡\r\n    const result = await processFaceSwapImage({\r\n      facePhotos: facePhotos.value,\r\n      targetImage: targetImage.value,\r\n      onProgress: (status, percent) => {\r\n        processingStatus.value = status\r\n        progressPercent.value = Math.max(progressPercent.value, percent)\r\n      }\r\n    })\r\n\r\n    if (result.success && result.imageUrl) {\r\n      resultImage.value = result.imageUrl\r\n      // ä¿å­˜ç›®æ ‡å›¾åƒç”¨äºå¯¹æ¯”ï¼ˆä½¿ç”¨æœåŠ¡å™¨è¿”å›çš„æˆ–åŸå§‹çš„ç›®æ ‡å›¾åƒï¼‰\r\n      targetImageForComparison.value = result.targetImageUrl || targetImage.value\r\n      promptId.value = result.promptId || ''\r\n\r\n      // è®¡ç®—å¤„ç†æ—¶é—´\r\n      const endTime = Date.now()\r\n      const duration = Math.round((endTime - startTime.value) / 1000)\r\n      processingTime.value = `${duration}ç§’`\r\n\r\n      // æ›´æ–°ä½“éªŒç‚¹æ˜¾ç¤º\r\n      if (pointsDisplayRef.value) {\r\n        pointsDisplayRef.value.updatePointsStatus()\r\n      }\r\n\r\n      // æ˜¾ç¤ºæˆåŠŸtoast\r\n      const pointsInfo = result.pointsConsumed ? `ï¼ˆæ¶ˆè€—${result.pointsConsumed}ç‚¹ï¼‰` : ''\r\n      Toast.success(`ğŸ‰ æ¢è„¸å®Œæˆï¼${pointsInfo}å¯ä»¥æ‹–æ‹½ä¸­é—´çº¿å¯¹æ¯”ç›®æ ‡å›¾åƒå’Œæ¢è„¸ç»“æœ`)\r\n      console.log('âœ… æ¢è„¸å¤„ç†å®Œæˆ')\r\n    } else {\r\n      throw new Error(result.error || 'æ¢è„¸å¤„ç†å¤±è´¥')\r\n    }\r\n  } catch (error) {\r\n    console.error('âŒ æ¢è„¸å¤„ç†å¤±è´¥:', error)\r\n    Toast.fail(`æ¢è„¸å¤±è´¥: ${error.message}`)\r\n  } finally {\r\n    isLoading.value = false\r\n    processingStatus.value = ''\r\n    progressPercent.value = 0\r\n  }\r\n}\r\n\r\n// ä¸‹è½½ç»“æœ\r\nconst downloadResult = () => {\r\n  if (!resultImage.value) return\r\n\r\n  const link = document.createElement('a')\r\n  link.href = resultImage.value\r\n  link.download = `faceswap_result_${Date.now()}.png`\r\n  document.body.appendChild(link)\r\n  link.click()\r\n  document.body.removeChild(link)\r\n\r\n  Toast.success('å›¾ç‰‡ä¸‹è½½å·²å¼€å§‹')\r\n}\r\n\r\n// é‡ç½®å¤„ç†\r\nconst resetProcess = () => {\r\n  facePhotos.value = [null, null, null, null]\r\n  targetImage.value = null\r\n  targetImageForComparison.value = null\r\n  resultImage.value = null\r\n  processingStatus.value = ''\r\n  promptId.value = ''\r\n  processingTime.value = ''\r\n  sliderPosition.value = 50\r\n  Toast.success('å·²é‡ç½®ï¼Œå¯ä»¥é‡æ–°é€‰æ‹©å›¾ç‰‡')\r\n}\r\n\r\n// æ‹–æ‹½åŠŸèƒ½\r\nconst startDrag = (e) => {\r\n  isDragging.value = true\r\n  document.addEventListener('mousemove', onDrag)\r\n  document.addEventListener('mouseup', stopDrag)\r\n  document.addEventListener('touchmove', onDrag)\r\n  document.addEventListener('touchend', stopDrag)\r\n  e.preventDefault()\r\n}\r\n\r\nconst onDrag = (e) => {\r\n  if (!isDragging.value || !comparisonContainer.value) return\r\n\r\n  const rect = comparisonContainer.value.getBoundingClientRect()\r\n  const clientX = e.clientX || (e.touches && e.touches[0].clientX)\r\n  const x = clientX - rect.left\r\n  const percentage = Math.max(0, Math.min(100, (x / rect.width) * 100))\r\n  sliderPosition.value = percentage\r\n}\r\n\r\nconst stopDrag = () => {\r\n  isDragging.value = false\r\n  document.removeEventListener('mousemove', onDrag)\r\n  document.removeEventListener('mouseup', stopDrag)\r\n  document.removeEventListener('touchmove', onDrag)\r\n  document.removeEventListener('touchend', stopDrag)\r\n}\r\n\r\n\r\n\r\n// ç”Ÿå‘½å‘¨æœŸ\r\nonMounted(() => {\r\n  console.log('FaceSwapç»„ä»¶å·²æŒ‚è½½ï¼ŒComfyUIæœåŠ¡å·²å‡†å¤‡å°±ç»ª')\r\n})\r\n\r\nonUnmounted(() => {\r\n  if (isDragging.value) {\r\n    stopDrag()\r\n  }\r\n})\r\n\r\n// ç”¨æˆ·ç™»å½•æˆåŠŸå›è°ƒ\r\nconst handleUserLogin = (data) => {\r\n  console.log('ç”¨æˆ·ç™»å½•æˆåŠŸ:', data)\r\n  // å¯ä»¥åœ¨è¿™é‡Œè§¦å‘ä¸€äº›éœ€è¦ç™»å½•çŠ¶æ€çš„æ“ä½œ\r\n}\r\n\r\n// ç”¨æˆ·ç™»å‡ºå›è°ƒ\r\nconst handleUserLogout = () => {\r\n  console.log('ç”¨æˆ·å·²ç™»å‡º')\r\n  // å¯ä»¥åœ¨è¿™é‡Œæ¸…ç†ä¸€äº›ç”¨æˆ·ç›¸å…³çš„çŠ¶æ€\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.feature-page {\r\n  min-height: 100vh;\r\n  padding: 20px;\r\n  background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);\r\n  position: relative;\r\n}\r\n\r\n/* å³ä¸Šè§’ç”¨æˆ·ä¿¡æ¯ */\r\n.top-corner {\r\n  position: fixed;\r\n  top: 20px;\r\n  right: 20px;\r\n  z-index: 1000;\r\n}\r\n\r\n.container {\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.page-header {\r\n  text-align: center;\r\n  margin-bottom: 40px;\r\n}\r\n\r\n.page-title {\r\n  color: var(--text-color);\r\n  font-size: 2.5rem;\r\n  font-weight: 700;\r\n  margin-bottom: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 16px;\r\n}\r\n\r\n.page-icon {\r\n  flex-shrink: 0;\r\n}\r\n\r\n.page-description {\r\n  color: var(--text-light);\r\n  font-size: 1.1rem;\r\n  margin: 0;\r\n  line-height: 1.5;\r\n}\r\n\r\n.section-title {\r\n  color: var(--text-color);\r\n  font-size: 1.3rem;\r\n  font-weight: 600;\r\n  margin-bottom: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.section-icon {\r\n  flex-shrink: 0;\r\n}\r\n\r\n.section-description {\r\n  color: var(--text-light);\r\n  font-size: 0.95rem;\r\n  margin-bottom: 24px;\r\n  line-height: 1.5;\r\n}\r\n\r\n.face-photos-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: 20px;\r\n  margin-bottom: 32px;\r\n}\r\n\r\n.upload-tips {\r\n  background: var(--bg-card);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  margin-top: 24px;\r\n}\r\n\r\n.tip-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  margin-bottom: 12px;\r\n  color: var(--text-light);\r\n  font-size: 0.95rem;\r\n}\r\n\r\n.tip-item:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.tip-icon {\r\n  flex-shrink: 0;\r\n}\r\n\r\n.process-btn {\r\n  margin-top: 24px;\r\n}\r\n\r\n.process-btn .van-button__content {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 8px;\r\n}\r\n\r\n.loading-icon,\r\n.btn-icon {\r\n  flex-shrink: 0;\r\n}\r\n\r\n.back-btn {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  color: rgba(255, 255, 255, 0.9);\r\n  text-decoration: none;\r\n  font-size: 1rem;\r\n  margin-bottom: 20px;\r\n  transition: var(--transition);\r\n}\r\n\r\n.back-btn:hover {\r\n  color: white;\r\n  transform: translateX(-4px);\r\n}\r\n\r\n.back-icon {\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.page-title {\r\n  font-size: 3rem;\r\n  color: white;\r\n  margin-bottom: 16px;\r\n  text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.page-icon {\r\n  margin-right: 16px;\r\n}\r\n\r\n.page-description {\r\n  font-size: 1.2rem;\r\n  color: rgba(255, 255, 255, 0.8);\r\n}\r\n\r\n.page-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 40px;\r\n}\r\n\r\n.upload-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 40px;\r\n}\r\n\r\n/* äººè„¸ç…§ç‰‡åŒºåŸŸæ ·å¼ */\r\n.face-photos-section, .target-image-section {\r\n  background: var(--bg-card);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 20px;\r\n  padding: 32px;\r\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.section-title {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  font-size: 1.5rem;\r\n  color: var(--text-color);\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.section-icon {\r\n  font-size: 1.8rem;\r\n}\r\n\r\n.section-description {\r\n  color: var(--text-light);\r\n  margin-bottom: 24px;\r\n  line-height: 1.6;\r\n}\r\n\r\n/* äººè„¸ç…§ç‰‡ç½‘æ ¼æ ·å¼å·²ç§»è‡³ MultiImageUpload ç»„ä»¶ */\r\n\r\n/* äººè„¸ç…§ç‰‡ç›¸å…³æ ·å¼å·²ç§»è‡³ MultiImageUpload ç»„ä»¶ */\r\n\r\n.target-image-card {\r\n  max-width: 400px;\r\n  margin: 0 auto;\r\n  background: var(--bg-dark-light);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 16px;\r\n  overflow: hidden;\r\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);\r\n  transition: var(--transition);\r\n}\r\n\r\n.target-image-card:hover {\r\n  border-color: var(--primary-color);\r\n  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.4);\r\n}\r\n\r\n.target-image-area {\r\n  display: block;\r\n  cursor: pointer;\r\n  min-height: 300px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  padding: 32px;\r\n}\r\n\r\n.target-image-placeholder {\r\n  text-align: center;\r\n  color: var(--text-light);\r\n}\r\n\r\n.target-image-placeholder h3 {\r\n  margin: 16px 0 12px;\r\n  color: var(--text-color);\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.target-image-placeholder p {\r\n  font-size: 0.9rem;\r\n  margin: 0;\r\n  line-height: 1.5;\r\n}\r\n\r\n.target-image-preview {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n/* ä¸Šä¼ æç¤ºæ ·å¼å·²ç§»è‡³ shared.css */\r\n\r\n/* å¤„ç†çŠ¶æ€æ ·å¼å·²ç§»è‡³ shared.css */\r\n\r\n.hidden {\r\n  display: none;\r\n}\r\n\r\n.image-preview {\r\n  position: relative;\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n}\r\n\r\n.preview-image {\r\n  max-width: 100%;\r\n  max-height: 200px;\r\n  border-radius: 12px;\r\n  display: block;\r\n}\r\n\r\n.image-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  opacity: 0;\r\n  transition: var(--transition);\r\n}\r\n\r\n.image-preview:hover .image-overlay {\r\n  opacity: 1;\r\n}\r\n\r\n.upload-grid {\r\n  display: grid;\r\n  grid-template-columns: 1fr auto 1fr;\r\n  gap: 32px;\r\n  align-items: center;\r\n  margin-bottom: 32px;\r\n}\r\n\r\n.upload-card {\r\n  background: var(--bg-card);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 20px;\r\n  padding: 24px;\r\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.upload-title {\r\n  text-align: center;\r\n  margin-bottom: 16px;\r\n  color: var(--text-color);\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.upload-area {\r\n  display: block;\r\n  cursor: pointer;\r\n  border: 3px dashed var(--border-color);\r\n  border-radius: 16px;\r\n  padding: 32px 16px;\r\n  text-align: center;\r\n  transition: var(--transition);\r\n  min-height: 250px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n}\r\n\r\n.upload-area:hover {\r\n  border-color: var(--primary-color);\r\n  background: rgba(102, 126, 234, 0.05);\r\n}\r\n\r\n.upload-placeholder p {\r\n  margin: 12px 0 4px;\r\n  color: var(--text-color);\r\n  font-weight: 600;\r\n}\r\n\r\n.upload-hint {\r\n  font-size: 0.85rem;\r\n  color: var(--text-light);\r\n}\r\n\r\n.upload-icon {\r\n  font-size: 3rem;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.swap-arrow {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  border-radius: 50%;\r\n  width: 60px;\r\n  height: 60px;\r\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.arrow-icon {\r\n  font-size: 1.5rem;\r\n  color: var(--primary-color);\r\n  font-weight: bold;\r\n}\r\n\r\n.action-section {\r\n  text-align: center;\r\n}\r\n\r\n.swap-options {\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 32px;\r\n  margin-bottom: 24px;\r\n  background: var(--bg-card);\r\n  border: 1px solid var(--border-color);\r\n  padding: 20px;\r\n  border-radius: 12px;\r\n}\r\n\r\n.option-group label {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  color: var(--text-color);\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n}\r\n\r\n.option-group input[type=\"checkbox\"] {\r\n  width: 18px;\r\n  height: 18px;\r\n  accent-color: var(--primary-color);\r\n}\r\n\r\n.swap-btn {\r\n  font-size: 1.1rem;\r\n  padding: 16px 32px;\r\n  min-width: 200px;\r\n}\r\n\r\n.result-section {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.result-card {\r\n  background: var(--bg-card);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 20px;\r\n  padding: 32px;\r\n  text-align: center;\r\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\r\n  max-width: 800px;\r\n  width: 100%;\r\n}\r\n\r\n.result-title {\r\n  font-size: 1.5rem;\r\n  margin-bottom: 24px;\r\n  color: var(--text-color);\r\n}\r\n\r\n.result-comparison {\r\n  display: grid;\r\n  grid-template-columns: 1fr auto 1fr;\r\n  gap: 24px;\r\n  align-items: center;\r\n  margin: 24px 0;\r\n}\r\n\r\n.comparison-item {\r\n  text-align: center;\r\n}\r\n\r\n.comparison-item h4 {\r\n  margin-bottom: 12px;\r\n  color: var(--text-color);\r\n}\r\n\r\n.comparison-image {\r\n  max-width: 100%;\r\n  max-height: 300px;\r\n  border-radius: 12px;\r\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.comparison-arrow {\r\n  font-size: 2rem;\r\n  color: var(--primary-color);\r\n  font-weight: bold;\r\n}\r\n\r\n/* ç»“æœå±•ç¤ºæ ·å¼ */\r\n.result-container {\r\n  background: var(--bg-card);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 20px;\r\n  padding: 32px;\r\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.comparison-container {\r\n  position: relative;\r\n  margin: 24px 0;\r\n  border-radius: 16px;\r\n  overflow: hidden;\r\n  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.15);\r\n  user-select: none;\r\n  background: #f8f9fa;\r\n  width: 100%;\r\n  height: 80vh;\r\n  min-height: 700px;\r\n  max-height: 900px;\r\n}\r\n\r\n.comparison-wrapper {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  background: var(--bg-dark);\r\n}\r\n\r\n.image-before, .image-after {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.comparison-image {\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n  width: auto;\r\n  height: auto;\r\n  object-fit: contain;\r\n  object-position: center;\r\n  display: block;\r\n}\r\n\r\n.image-label {\r\n  position: absolute;\r\n  top: 16px;\r\n  left: 16px;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  color: white;\r\n  padding: 8px 16px;\r\n  border-radius: 20px;\r\n  font-size: 0.9rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.slider-handle {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 4px;\r\n  cursor: ew-resize;\r\n  z-index: 10;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.slider-line {\r\n  width: 4px;\r\n  height: 100%;\r\n  background: white;\r\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.slider-button {\r\n  position: absolute;\r\n  background: white;\r\n  border-radius: 50%;\r\n  width: 40px;\r\n  height: 40px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 1.2rem;\r\n  color: var(--primary-color);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\r\n  cursor: ew-resize;\r\n  user-select: none;\r\n}\r\n\r\n.result-actions {\r\n  display: flex;\r\n  gap: 16px;\r\n  justify-content: center;\r\n  margin-top: 24px;\r\n}\r\n\r\n/* å¤„ç†ä¿¡æ¯æ ·å¼ */\r\n.process-info {\r\n  display: flex;\r\n  gap: 24px;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n/* æŒ‰é’®æ ·å¼å·²ç§»è‡³AppButtonç»„ä»¶ */\r\n\r\n@media (max-width: 768px) {\r\n  .page-title {\r\n    font-size: 2rem;\r\n  }\r\n\r\n  .face-photos-grid {\r\n    grid-template-columns: repeat(2, 1fr);\r\n    gap: 16px;\r\n  }\r\n\r\n  .comparison-container {\r\n    height: 60vh;\r\n    min-height: 400px;\r\n    max-height: 600px;\r\n    margin: 16px 0;\r\n  }\r\n\r\n  .result-actions {\r\n    flex-direction: column;\r\n    gap: 12px;\r\n  }\r\n\r\n  .process-info {\r\n    flex-direction: column;\r\n    gap: 16px;\r\n    text-align: center;\r\n  }\r\n\r\n  .upload-tips {\r\n    padding: 16px;\r\n  }\r\n\r\n  .tip-item {\r\n    font-size: 1rem;\r\n  }\r\n}\r\n</style>\r\n"
        }
    ]
}