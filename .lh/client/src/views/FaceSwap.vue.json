{
    "sourceFile": "client/src/views/FaceSwap.vue",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 5,
            "patches": [
                {
                    "date": 1752348807217,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1752348821426,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,8 +115,9 @@\n import ProcessingStatus from '../components/ProcessingStatus.vue'\r\n import ImageComparison from '../components/ImageComparison.vue'\r\n import PointsDisplay from '../components/PointsDisplay.vue'\r\n import UserInfo from '../components/UserInfo.vue'\r\n+import BackToHomeButton from '../components/BackToHomeButton.vue'\r\n import { FaceSwapIcon } from '../components/icons'\r\n \r\n // 静态导入ComfyUI服务\r\n import { processFaceSwapImage } from '../services/comfyui.js'\r\n"
                },
                {
                    "date": 1752351589068,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,23 +1,21 @@\n <template>\r\n-  <div class=\"feature-page\">\r\n+  <div class=\"mobile-page\">\r\n     <!-- 右上角用户信息 -->\r\n     <div class=\"top-corner\">\r\n       <UserInfo @login=\"handleUserLogin\" @logout=\"handleUserLogout\" />\r\n     </div>\r\n \r\n-    <div class=\"container\">\r\n-      <header class=\"page-header\">\r\n-        <BackToHomeButton class=\"back-btn\" />\r\n-        <h1 class=\"page-title\">\r\n-          <FaceSwapIcon :size=\"32\" color=\"var(--warning-color)\" class=\"page-icon\" />\r\n-          极速换脸\r\n-        </h1>\r\n-        <p class=\"page-description\">上传4张人脸照片和1张目标图片，AI将为您智能换脸</p>\r\n+    <div class=\"mobile-container\">\r\n+      <header class=\"mobile-header\">\r\n+        <BackToHomeButton class=\"mobile-header-back\" />\r\n+        <h1 class=\"mobile-header-title\">极速换脸</h1>\r\n+        <div></div>\r\n       </header>\r\n \r\n       <!-- 体验点显示 -->\r\n-      <PointsDisplay ref=\"pointsDisplayRef\" />\r\n+      <div class=\"mobile-content\">\r\n+        <PointsDisplay ref=\"pointsDisplayRef\" />\r\n \r\n       <main class=\"page-content\">\r\n         <div v-if=\"!resultImage\" class=\"upload-section\">\r\n           <!-- 人脸照片上传区域 -->\r\n"
                },
                {
                    "date": 1752352751828,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,10 +14,8 @@\n \r\n       <!-- 体验点显示 -->\r\n       <div class=\"mobile-content\">\r\n         <PointsDisplay ref=\"pointsDisplayRef\" />\r\n-\r\n-      <main class=\"page-content\">\r\n         <div v-if=\"!resultImage\" class=\"upload-section\">\r\n           <!-- 人脸照片上传区域 -->\r\n           <div class=\"face-photos-section\">\r\n             <h3 class=\"section-title\">\r\n"
                },
                {
                    "date": 1752353188970,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -96,9 +96,9 @@\n           :original-image=\"targetImageForComparison\"\r\n           :result-image=\"resultImage\"\r\n           @reset=\"resetProcess\"\r\n         />\r\n-      </main>\r\n+      </div>\r\n     </div>\r\n   </div>\r\n </template>\r\n \r\n"
                },
                {
                    "date": 1752354037622,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,21 +1,25 @@\n <template>\r\n-  <div class=\"mobile-page\">\r\n+  <div class=\"feature-page\">\r\n     <!-- 右上角用户信息 -->\r\n     <div class=\"top-corner\">\r\n       <UserInfo @login=\"handleUserLogin\" @logout=\"handleUserLogout\" />\r\n     </div>\r\n \r\n-    <div class=\"mobile-container\">\r\n-      <header class=\"mobile-header\">\r\n-        <BackToHomeButton class=\"mobile-header-back\" />\r\n-        <h1 class=\"mobile-header-title\">极速换脸</h1>\r\n-        <div></div>\r\n+    <div class=\"container\">\r\n+      <header class=\"page-header\">\r\n+        <BackToHomeButton class=\"back-btn\" />\r\n+        <h1 class=\"page-title\">\r\n+          <FaceSwapIcon :size=\"32\" color=\"var(--warning-color)\" class=\"page-icon\" />\r\n+          极速换脸\r\n+        </h1>\r\n+        <p class=\"page-description\">上传4张人脸照片和1张目标图片，AI将为您智能换脸</p>\r\n       </header>\r\n \r\n       <!-- 体验点显示 -->\r\n-      <div class=\"mobile-content\">\r\n-        <PointsDisplay ref=\"pointsDisplayRef\" />\r\n+      <PointsDisplay ref=\"pointsDisplayRef\" />\r\n+\r\n+      <main class=\"page-content\">\r\n         <div v-if=\"!resultImage\" class=\"upload-section\">\r\n           <!-- 人脸照片上传区域 -->\r\n           <div class=\"face-photos-section\">\r\n             <h3 class=\"section-title\">\r\n@@ -96,9 +100,9 @@\n           :original-image=\"targetImageForComparison\"\r\n           :result-image=\"resultImage\"\r\n           @reset=\"resetProcess\"\r\n         />\r\n-      </div>\r\n+      </main>\r\n     </div>\r\n   </div>\r\n </template>\r\n \r\n"
                }
            ],
            "date": 1752348807217,
            "name": "Commit-0",
            "content": "<template>\r\n  <div class=\"feature-page\">\r\n    <!-- 右上角用户信息 -->\r\n    <div class=\"top-corner\">\r\n      <UserInfo @login=\"handleUserLogin\" @logout=\"handleUserLogout\" />\r\n    </div>\r\n\r\n    <div class=\"container\">\r\n      <header class=\"page-header\">\r\n        <BackToHomeButton class=\"back-btn\" />\r\n        <h1 class=\"page-title\">\r\n          <FaceSwapIcon :size=\"32\" color=\"var(--warning-color)\" class=\"page-icon\" />\r\n          极速换脸\r\n        </h1>\r\n        <p class=\"page-description\">上传4张人脸照片和1张目标图片，AI将为您智能换脸</p>\r\n      </header>\r\n\r\n      <!-- 体验点显示 -->\r\n      <PointsDisplay ref=\"pointsDisplayRef\" />\r\n\r\n      <main class=\"page-content\">\r\n        <div v-if=\"!resultImage\" class=\"upload-section\">\r\n          <!-- 人脸照片上传区域 -->\r\n          <div class=\"face-photos-section\">\r\n            <h3 class=\"section-title\">\r\n              <FaceSwapIcon :size=\"20\" color=\"var(--primary-color)\" class=\"section-icon\" />\r\n              人脸照片 (1-4张)\r\n            </h3>\r\n            <!-- <p class=\"section-description\">一次性选择1-4张清晰的人脸照片</p> -->\r\n\r\n            <MultiImageUpload\r\n              v-model=\"facePhotos\"\r\n              :disabled=\"isLoading\"\r\n              @change=\"handleFacePhotosChange\"\r\n            />\r\n          </div>\r\n\r\n          <!-- 目标图片上传区域 -->\r\n          <div class=\"target-image-section\">\r\n            <h3 class=\"section-title\">\r\n              <Image :size=\"20\" color=\"var(--success-color)\" class=\"section-icon\" />\r\n              目标图片\r\n            </h3>\r\n            <!-- <p class=\"section-description\">上传需要换脸的目标图片</p> -->\r\n\r\n            <ImageUpload\r\n              v-model=\"targetImage\"\r\n              title=\"上传需要换脸的目标图片\"\r\n              description=\"支持 JPG、PNG 格式，建议尺寸 512x512 以上\"\r\n              icon=\"Image\"\r\n              :icon-size=\"48\"\r\n              :disabled=\"isLoading\"\r\n              @change=\"handleTargetImageChange\"\r\n            />\r\n          </div>\r\n\r\n          <!-- 处理按钮 -->\r\n          <div v-if=\"canProcess && !isLoading\" class=\"action-section\">\r\n            <van-button\r\n              @click=\"processImages\"\r\n              type=\"primary\"\r\n              size=\"large\"\r\n              round\r\n              block\r\n              class=\"process-btn\"\r\n            >\r\n              <Users :size=\"20\" color=\"white\" class=\"btn-icon\" />\r\n              开始换脸\r\n            </van-button>\r\n          </div>\r\n\r\n          <!-- 上传提示 -->\r\n          <div v-else class=\"upload-tips\">\r\n            <div class=\"tip-item\">\r\n              <Image :size=\"16\" color=\"var(--primary-color)\" class=\"tip-icon\" />\r\n              <span>已上传 {{ uploadedFacePhotos }}/4 张人脸照片</span>\r\n            </div>\r\n            <div class=\"tip-item\">\r\n              <Image :size=\"16\" color=\"var(--success-color)\" class=\"tip-icon\" />\r\n              <van-icon :name=\"targetImage ? 'success' : 'cross'\" size=\"16\" :color=\"targetImage ? 'var(--success-color)' : 'var(--error-color)'\" />\r\n              <span>目标图片</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 处理状态 -->\r\n        <ProcessingStatus\r\n          v-if=\"isLoading\"\r\n          status=\"loading\"\r\n          title=\"正在处理换脸...\"\r\n          description=\"请耐心等待，处理时间可能需要几分钟\"\r\n          :progress=\"progressPercent\"\r\n          :prompt-id=\"promptId\"\r\n          :processing-time=\"processingTime\"\r\n        />\r\n\r\n        <!-- 结果展示区域 -->\r\n        <ImageComparison\r\n          v-if=\"resultImage\"\r\n          :original-image=\"targetImageForComparison\"\r\n          :result-image=\"resultImage\"\r\n          @reset=\"resetProcess\"\r\n        />\r\n      </main>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, onUnmounted } from 'vue'\r\nimport { Toast } from 'vant'\r\nimport { Image } from 'lucide-vue-next'\r\nimport ImageUpload from '../components/ImageUpload.vue'\r\nimport MultiImageUpload from '../components/MultiImageUpload.vue'\r\nimport ProcessingStatus from '../components/ProcessingStatus.vue'\r\nimport ImageComparison from '../components/ImageComparison.vue'\r\nimport PointsDisplay from '../components/PointsDisplay.vue'\r\nimport UserInfo from '../components/UserInfo.vue'\r\nimport { FaceSwapIcon } from '../components/icons'\r\n\r\n// 静态导入ComfyUI服务\r\nimport { processFaceSwapImage } from '../services/comfyui.js'\r\n\r\nconsole.log('FaceSwap组件已加载，ComfyUI服务已导入')\r\n\r\n// 响应式数据\r\nconst facePhotos = ref([]) // 人脸照片数组（1-4张，自动补齐到4张）\r\nconst targetImage = ref(null) // 目标图片（用于上传）\r\nconst targetImageForComparison = ref(null) // 目标图片（用于对比显示）\r\nconst resultImage = ref(null) // 处理结果\r\nconst isLoading = ref(false)\r\nconst processingStatus = ref('')\r\nconst promptId = ref('')\r\nconst processingTime = ref('')\r\nconst progressPercent = ref(0)\r\n\r\n// 拖拽对比功能\r\nconst sliderPosition = ref(50)\r\nconst isDragging = ref(false)\r\nconst comparisonContainer = ref(null)\r\nconst startTime = ref(null)\r\n\r\n// 体验点组件引用\r\nconst pointsDisplayRef = ref(null)\r\n\r\n// 使用VantUI Toast系统\r\n\r\n// 计算属性\r\nconst uploadedFacePhotos = computed(() => {\r\n  return facePhotos.value.length\r\n})\r\n\r\nconst canProcess = computed(() => {\r\n  return facePhotos.value.length === 4 && targetImage.value !== null\r\n})\r\n\r\n// 处理人脸照片上传（多选）\r\nconst handleFacePhotosChange = (images, originalCount) => {\r\n  facePhotos.value = images\r\n  resultImage.value = null // 清除之前的结果\r\n\r\n  if (originalCount > 0) {\r\n    Toast.success(`已选择 ${originalCount} 张照片${originalCount < 4 ? '，自动补齐至4张' : ''}`)\r\n  }\r\n}\r\n\r\n// 处理目标图片上传\r\nconst handleTargetImageChange = (imageData, file) => {\r\n  targetImage.value = imageData\r\n  resultImage.value = null // 清除之前的结果\r\n}\r\n\r\n// Toast功能已移至useToast组合式函数\r\n\r\n// 处理图片\r\nconst processImages = async () => {\r\n  if (!canProcess.value) return\r\n\r\n  isLoading.value = true\r\n  processingStatus.value = '正在加载服务...'\r\n  progressPercent.value = 10\r\n  startTime.value = Date.now()\r\n\r\n  try {\r\n    console.log('🚀 开始极速换脸处理')\r\n\r\n    // ComfyUI服务已静态导入，无需动态加载\r\n\r\n    processingStatus.value = '正在上传图片...'\r\n    progressPercent.value = 30\r\n\r\n    // 调用换脸处理服务\r\n    const result = await processFaceSwapImage({\r\n      facePhotos: facePhotos.value,\r\n      targetImage: targetImage.value,\r\n      onProgress: (status, percent) => {\r\n        processingStatus.value = status\r\n        progressPercent.value = Math.max(progressPercent.value, percent)\r\n      }\r\n    })\r\n\r\n    if (result.success && result.imageUrl) {\r\n      resultImage.value = result.imageUrl\r\n      // 保存目标图像用于对比（使用服务器返回的或原始的目标图像）\r\n      targetImageForComparison.value = result.targetImageUrl || targetImage.value\r\n      promptId.value = result.promptId || ''\r\n\r\n      // 计算处理时间\r\n      const endTime = Date.now()\r\n      const duration = Math.round((endTime - startTime.value) / 1000)\r\n      processingTime.value = `${duration}秒`\r\n\r\n      // 更新体验点显示\r\n      if (pointsDisplayRef.value) {\r\n        pointsDisplayRef.value.updatePointsStatus()\r\n      }\r\n\r\n      // 显示成功toast\r\n      const pointsInfo = result.pointsConsumed ? `（消耗${result.pointsConsumed}点）` : ''\r\n      Toast.success(`🎉 换脸完成！${pointsInfo}可以拖拽中间线对比目标图像和换脸结果`)\r\n      console.log('✅ 换脸处理完成')\r\n    } else {\r\n      throw new Error(result.error || '换脸处理失败')\r\n    }\r\n  } catch (error) {\r\n    console.error('❌ 换脸处理失败:', error)\r\n    Toast.fail(`换脸失败: ${error.message}`)\r\n  } finally {\r\n    isLoading.value = false\r\n    processingStatus.value = ''\r\n    progressPercent.value = 0\r\n  }\r\n}\r\n\r\n// 下载结果\r\nconst downloadResult = () => {\r\n  if (!resultImage.value) return\r\n\r\n  const link = document.createElement('a')\r\n  link.href = resultImage.value\r\n  link.download = `faceswap_result_${Date.now()}.png`\r\n  document.body.appendChild(link)\r\n  link.click()\r\n  document.body.removeChild(link)\r\n\r\n  Toast.success('图片下载已开始')\r\n}\r\n\r\n// 重置处理\r\nconst resetProcess = () => {\r\n  facePhotos.value = [null, null, null, null]\r\n  targetImage.value = null\r\n  targetImageForComparison.value = null\r\n  resultImage.value = null\r\n  processingStatus.value = ''\r\n  promptId.value = ''\r\n  processingTime.value = ''\r\n  sliderPosition.value = 50\r\n  Toast.success('已重置，可以重新选择图片')\r\n}\r\n\r\n// 拖拽功能\r\nconst startDrag = (e) => {\r\n  isDragging.value = true\r\n  document.addEventListener('mousemove', onDrag)\r\n  document.addEventListener('mouseup', stopDrag)\r\n  document.addEventListener('touchmove', onDrag)\r\n  document.addEventListener('touchend', stopDrag)\r\n  e.preventDefault()\r\n}\r\n\r\nconst onDrag = (e) => {\r\n  if (!isDragging.value || !comparisonContainer.value) return\r\n\r\n  const rect = comparisonContainer.value.getBoundingClientRect()\r\n  const clientX = e.clientX || (e.touches && e.touches[0].clientX)\r\n  const x = clientX - rect.left\r\n  const percentage = Math.max(0, Math.min(100, (x / rect.width) * 100))\r\n  sliderPosition.value = percentage\r\n}\r\n\r\nconst stopDrag = () => {\r\n  isDragging.value = false\r\n  document.removeEventListener('mousemove', onDrag)\r\n  document.removeEventListener('mouseup', stopDrag)\r\n  document.removeEventListener('touchmove', onDrag)\r\n  document.removeEventListener('touchend', stopDrag)\r\n}\r\n\r\n\r\n\r\n// 生命周期\r\nonMounted(() => {\r\n  console.log('FaceSwap组件已挂载，ComfyUI服务已准备就绪')\r\n})\r\n\r\nonUnmounted(() => {\r\n  if (isDragging.value) {\r\n    stopDrag()\r\n  }\r\n})\r\n\r\n// 用户登录成功回调\r\nconst handleUserLogin = (data) => {\r\n  console.log('用户登录成功:', data)\r\n  // 可以在这里触发一些需要登录状态的操作\r\n}\r\n\r\n// 用户登出回调\r\nconst handleUserLogout = () => {\r\n  console.log('用户已登出')\r\n  // 可以在这里清理一些用户相关的状态\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.feature-page {\r\n  min-height: 100vh;\r\n  padding: 20px;\r\n  background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);\r\n  position: relative;\r\n}\r\n\r\n/* 右上角用户信息 */\r\n.top-corner {\r\n  position: fixed;\r\n  top: 20px;\r\n  right: 20px;\r\n  z-index: 1000;\r\n}\r\n\r\n.container {\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.page-header {\r\n  text-align: center;\r\n  margin-bottom: 40px;\r\n}\r\n\r\n.page-title {\r\n  color: var(--text-color);\r\n  font-size: 2.5rem;\r\n  font-weight: 700;\r\n  margin-bottom: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 16px;\r\n}\r\n\r\n.page-icon {\r\n  flex-shrink: 0;\r\n}\r\n\r\n.page-description {\r\n  color: var(--text-light);\r\n  font-size: 1.1rem;\r\n  margin: 0;\r\n  line-height: 1.5;\r\n}\r\n\r\n.section-title {\r\n  color: var(--text-color);\r\n  font-size: 1.3rem;\r\n  font-weight: 600;\r\n  margin-bottom: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.section-icon {\r\n  flex-shrink: 0;\r\n}\r\n\r\n.section-description {\r\n  color: var(--text-light);\r\n  font-size: 0.95rem;\r\n  margin-bottom: 24px;\r\n  line-height: 1.5;\r\n}\r\n\r\n.face-photos-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: 20px;\r\n  margin-bottom: 32px;\r\n}\r\n\r\n.upload-tips {\r\n  background: var(--bg-card);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  margin-top: 24px;\r\n}\r\n\r\n.tip-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  margin-bottom: 12px;\r\n  color: var(--text-light);\r\n  font-size: 0.95rem;\r\n}\r\n\r\n.tip-item:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.tip-icon {\r\n  flex-shrink: 0;\r\n}\r\n\r\n.process-btn {\r\n  margin-top: 24px;\r\n}\r\n\r\n.process-btn .van-button__content {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 8px;\r\n}\r\n\r\n.loading-icon,\r\n.btn-icon {\r\n  flex-shrink: 0;\r\n}\r\n\r\n.back-btn {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  color: rgba(255, 255, 255, 0.9);\r\n  text-decoration: none;\r\n  font-size: 1rem;\r\n  margin-bottom: 20px;\r\n  transition: var(--transition);\r\n}\r\n\r\n.back-btn:hover {\r\n  color: white;\r\n  transform: translateX(-4px);\r\n}\r\n\r\n.back-icon {\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.page-title {\r\n  font-size: 3rem;\r\n  color: white;\r\n  margin-bottom: 16px;\r\n  text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.page-icon {\r\n  margin-right: 16px;\r\n}\r\n\r\n.page-description {\r\n  font-size: 1.2rem;\r\n  color: rgba(255, 255, 255, 0.8);\r\n}\r\n\r\n.page-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 40px;\r\n}\r\n\r\n.upload-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 40px;\r\n}\r\n\r\n/* 人脸照片区域样式 */\r\n.face-photos-section, .target-image-section {\r\n  background: var(--bg-card);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 20px;\r\n  padding: 32px;\r\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.section-title {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  font-size: 1.5rem;\r\n  color: var(--text-color);\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.section-icon {\r\n  font-size: 1.8rem;\r\n}\r\n\r\n.section-description {\r\n  color: var(--text-light);\r\n  margin-bottom: 24px;\r\n  line-height: 1.6;\r\n}\r\n\r\n/* 人脸照片网格样式已移至 MultiImageUpload 组件 */\r\n\r\n/* 人脸照片相关样式已移至 MultiImageUpload 组件 */\r\n\r\n.target-image-card {\r\n  max-width: 400px;\r\n  margin: 0 auto;\r\n  background: var(--bg-dark-light);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 16px;\r\n  overflow: hidden;\r\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);\r\n  transition: var(--transition);\r\n}\r\n\r\n.target-image-card:hover {\r\n  border-color: var(--primary-color);\r\n  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.4);\r\n}\r\n\r\n.target-image-area {\r\n  display: block;\r\n  cursor: pointer;\r\n  min-height: 300px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  padding: 32px;\r\n}\r\n\r\n.target-image-placeholder {\r\n  text-align: center;\r\n  color: var(--text-light);\r\n}\r\n\r\n.target-image-placeholder h3 {\r\n  margin: 16px 0 12px;\r\n  color: var(--text-color);\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.target-image-placeholder p {\r\n  font-size: 0.9rem;\r\n  margin: 0;\r\n  line-height: 1.5;\r\n}\r\n\r\n.target-image-preview {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n/* 上传提示样式已移至 shared.css */\r\n\r\n/* 处理状态样式已移至 shared.css */\r\n\r\n.hidden {\r\n  display: none;\r\n}\r\n\r\n.image-preview {\r\n  position: relative;\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n}\r\n\r\n.preview-image {\r\n  max-width: 100%;\r\n  max-height: 200px;\r\n  border-radius: 12px;\r\n  display: block;\r\n}\r\n\r\n.image-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  opacity: 0;\r\n  transition: var(--transition);\r\n}\r\n\r\n.image-preview:hover .image-overlay {\r\n  opacity: 1;\r\n}\r\n\r\n.upload-grid {\r\n  display: grid;\r\n  grid-template-columns: 1fr auto 1fr;\r\n  gap: 32px;\r\n  align-items: center;\r\n  margin-bottom: 32px;\r\n}\r\n\r\n.upload-card {\r\n  background: var(--bg-card);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 20px;\r\n  padding: 24px;\r\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.upload-title {\r\n  text-align: center;\r\n  margin-bottom: 16px;\r\n  color: var(--text-color);\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.upload-area {\r\n  display: block;\r\n  cursor: pointer;\r\n  border: 3px dashed var(--border-color);\r\n  border-radius: 16px;\r\n  padding: 32px 16px;\r\n  text-align: center;\r\n  transition: var(--transition);\r\n  min-height: 250px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n}\r\n\r\n.upload-area:hover {\r\n  border-color: var(--primary-color);\r\n  background: rgba(102, 126, 234, 0.05);\r\n}\r\n\r\n.upload-placeholder p {\r\n  margin: 12px 0 4px;\r\n  color: var(--text-color);\r\n  font-weight: 600;\r\n}\r\n\r\n.upload-hint {\r\n  font-size: 0.85rem;\r\n  color: var(--text-light);\r\n}\r\n\r\n.upload-icon {\r\n  font-size: 3rem;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.swap-arrow {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  border-radius: 50%;\r\n  width: 60px;\r\n  height: 60px;\r\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.arrow-icon {\r\n  font-size: 1.5rem;\r\n  color: var(--primary-color);\r\n  font-weight: bold;\r\n}\r\n\r\n.action-section {\r\n  text-align: center;\r\n}\r\n\r\n.swap-options {\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 32px;\r\n  margin-bottom: 24px;\r\n  background: var(--bg-card);\r\n  border: 1px solid var(--border-color);\r\n  padding: 20px;\r\n  border-radius: 12px;\r\n}\r\n\r\n.option-group label {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  color: var(--text-color);\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n}\r\n\r\n.option-group input[type=\"checkbox\"] {\r\n  width: 18px;\r\n  height: 18px;\r\n  accent-color: var(--primary-color);\r\n}\r\n\r\n.swap-btn {\r\n  font-size: 1.1rem;\r\n  padding: 16px 32px;\r\n  min-width: 200px;\r\n}\r\n\r\n.result-section {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.result-card {\r\n  background: var(--bg-card);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 20px;\r\n  padding: 32px;\r\n  text-align: center;\r\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\r\n  max-width: 800px;\r\n  width: 100%;\r\n}\r\n\r\n.result-title {\r\n  font-size: 1.5rem;\r\n  margin-bottom: 24px;\r\n  color: var(--text-color);\r\n}\r\n\r\n.result-comparison {\r\n  display: grid;\r\n  grid-template-columns: 1fr auto 1fr;\r\n  gap: 24px;\r\n  align-items: center;\r\n  margin: 24px 0;\r\n}\r\n\r\n.comparison-item {\r\n  text-align: center;\r\n}\r\n\r\n.comparison-item h4 {\r\n  margin-bottom: 12px;\r\n  color: var(--text-color);\r\n}\r\n\r\n.comparison-image {\r\n  max-width: 100%;\r\n  max-height: 300px;\r\n  border-radius: 12px;\r\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.comparison-arrow {\r\n  font-size: 2rem;\r\n  color: var(--primary-color);\r\n  font-weight: bold;\r\n}\r\n\r\n/* 结果展示样式 */\r\n.result-container {\r\n  background: var(--bg-card);\r\n  border: 1px solid var(--border-color);\r\n  border-radius: 20px;\r\n  padding: 32px;\r\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.comparison-container {\r\n  position: relative;\r\n  margin: 24px 0;\r\n  border-radius: 16px;\r\n  overflow: hidden;\r\n  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.15);\r\n  user-select: none;\r\n  background: #f8f9fa;\r\n  width: 100%;\r\n  height: 80vh;\r\n  min-height: 700px;\r\n  max-height: 900px;\r\n}\r\n\r\n.comparison-wrapper {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  background: var(--bg-dark);\r\n}\r\n\r\n.image-before, .image-after {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.comparison-image {\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n  width: auto;\r\n  height: auto;\r\n  object-fit: contain;\r\n  object-position: center;\r\n  display: block;\r\n}\r\n\r\n.image-label {\r\n  position: absolute;\r\n  top: 16px;\r\n  left: 16px;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  color: white;\r\n  padding: 8px 16px;\r\n  border-radius: 20px;\r\n  font-size: 0.9rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.slider-handle {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 4px;\r\n  cursor: ew-resize;\r\n  z-index: 10;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.slider-line {\r\n  width: 4px;\r\n  height: 100%;\r\n  background: white;\r\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.slider-button {\r\n  position: absolute;\r\n  background: white;\r\n  border-radius: 50%;\r\n  width: 40px;\r\n  height: 40px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 1.2rem;\r\n  color: var(--primary-color);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\r\n  cursor: ew-resize;\r\n  user-select: none;\r\n}\r\n\r\n.result-actions {\r\n  display: flex;\r\n  gap: 16px;\r\n  justify-content: center;\r\n  margin-top: 24px;\r\n}\r\n\r\n/* 处理信息样式 */\r\n.process-info {\r\n  display: flex;\r\n  gap: 24px;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n/* 按钮样式已移至AppButton组件 */\r\n\r\n@media (max-width: 768px) {\r\n  .page-title {\r\n    font-size: 2rem;\r\n  }\r\n\r\n  .face-photos-grid {\r\n    grid-template-columns: repeat(2, 1fr);\r\n    gap: 16px;\r\n  }\r\n\r\n  .comparison-container {\r\n    height: 60vh;\r\n    min-height: 400px;\r\n    max-height: 600px;\r\n    margin: 16px 0;\r\n  }\r\n\r\n  .result-actions {\r\n    flex-direction: column;\r\n    gap: 12px;\r\n  }\r\n\r\n  .process-info {\r\n    flex-direction: column;\r\n    gap: 16px;\r\n    text-align: center;\r\n  }\r\n\r\n  .upload-tips {\r\n    padding: 16px;\r\n  }\r\n\r\n  .tip-item {\r\n    font-size: 1rem;\r\n  }\r\n}\r\n</style>\r\n"
        }
    ]
}