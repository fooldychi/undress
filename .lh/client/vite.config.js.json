{
    "sourceFile": "client/vite.config.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 5,
            "patches": [
                {
                    "date": 1752284292222,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1752319383518,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n       port: 3001,\r\n       open: true,\r\n       proxy: {\r\n         '/api': {\r\n-          target: 'http://localhost:3006',\r\n+          target: 'http://localhost:3007',\r\n           changeOrigin: true,\r\n           secure: false,\r\n           configure: (proxy, options) => {\r\n             proxy.on('error', (err, req, res) => {\r\n"
                },
                {
                    "date": 1752340705793,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,11 @@\n-import { defineConfig } from 'vite'\r\n+import { defineConfig, loadEnv } from 'vite'\r\n import vue from '@vitejs/plugin-vue'\r\n \r\n // https://vitejs.dev/config/\r\n export default defineConfig(({ command, mode }) => {\r\n+  const env = loadEnv(mode, process.cwd(), '')\r\n+\r\n   return {\r\n     plugins: [vue()],\r\n \r\n     // 开发服务器配置\r\n"
                },
                {
                    "date": 1752340904756,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,20 +2,25 @@\n import vue from '@vitejs/plugin-vue'\r\n \r\n // https://vitejs.dev/config/\r\n export default defineConfig(({ command, mode }) => {\r\n+  // 加载环境变量\r\n   const env = loadEnv(mode, process.cwd(), '')\r\n \r\n+  // 从环境变量获取端口，如果没有则使用默认值\r\n+  const clientPort = parseInt(env.CLIENT_PORT) || 3001\r\n+  const serverPort = parseInt(env.SERVER_PORT) || 3007\r\n+\r\n   return {\r\n     plugins: [vue()],\r\n \r\n     // 开发服务器配置\r\n     server: {\r\n-      port: 3001,\r\n+      port: clientPort,\r\n       open: true,\r\n       proxy: {\r\n         '/api': {\r\n-          target: 'http://localhost:3007',\r\n+          target: `http://localhost:${serverPort}`,\r\n           changeOrigin: true,\r\n           secure: false,\r\n           configure: (proxy, options) => {\r\n             proxy.on('error', (err, req, res) => {\r\n"
                },
                {
                    "date": 1752352002618,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,8 +15,9 @@\n \r\n     // 开发服务器配置\r\n     server: {\r\n       port: clientPort,\r\n+      host: '0.0.0.0',\r\n       open: true,\r\n       proxy: {\r\n         '/api': {\r\n           target: `http://localhost:${serverPort}`,\r\n"
                },
                {
                    "date": 1752354037917,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,8 @@\n \r\n     // 开发服务器配置\r\n     server: {\r\n       port: clientPort,\r\n-      host: '0.0.0.0',\r\n       open: true,\r\n       proxy: {\r\n         '/api': {\r\n           target: `http://localhost:${serverPort}`,\r\n"
                }
            ],
            "date": 1752284292222,
            "name": "Commit-0",
            "content": "import { defineConfig } from 'vite'\r\nimport vue from '@vitejs/plugin-vue'\r\n\r\n// https://vitejs.dev/config/\r\nexport default defineConfig(({ command, mode }) => {\r\n  return {\r\n    plugins: [vue()],\r\n\r\n    // 开发服务器配置\r\n    server: {\r\n      port: 3001,\r\n      open: true,\r\n      proxy: {\r\n        '/api': {\r\n          target: 'http://localhost:3006',\r\n          changeOrigin: true,\r\n          secure: false,\r\n          configure: (proxy, options) => {\r\n            proxy.on('error', (err, req, res) => {\r\n              console.log('proxy error', err);\r\n            });\r\n            proxy.on('proxyReq', (proxyReq, req, res) => {\r\n              console.log('Sending Request to the Target:', req.method, req.url);\r\n            });\r\n            proxy.on('proxyRes', (proxyRes, req, res) => {\r\n              console.log('Received Response from the Target:', proxyRes.statusCode, req.url);\r\n            });\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    // 构建配置\r\n    build: {\r\n      outDir: 'dist',\r\n      sourcemap: false,\r\n      assetsDir: 'assets'\r\n    },\r\n\r\n    // 基础路径配置 - 自定义域名使用根路径\r\n    base: '/',\r\n\r\n    // 环境变量配置\r\n    define: {\r\n      __VUE_PROD_DEVTOOLS__: false,\r\n      __VUE_OPTIONS_API__: true\r\n    }\r\n  }\r\n})\r\n\r\n\r\n"
        }
    ]
}