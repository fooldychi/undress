{
    "sourceFile": "server/check-admin.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1752401446118,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1752401461553,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,9 +28,9 @@\n \n     if (admins.length > 0) {\n       console.log('ğŸ“‹ ç®¡ç†å‘˜è´¦æˆ·åˆ—è¡¨:');\n       admins.forEach(admin => {\n-        console.log(`   ID: ${admin.id}, ç”¨æˆ·å: ${admin.username}, é‚®ç®±: ${admin.email}`);\n+        console.log(`   ID: ${admin.id}, ç”¨æˆ·å: ${admin.username}, é‚®ç®±: ${admin.email}, è§’è‰²: ${admin.role}, çŠ¶æ€: ${admin.status}`);\n       });\n     } else {\n       console.log('âŒ æ²¡æœ‰ç®¡ç†å‘˜è´¦æˆ·');\n     }\n"
                }
            ],
            "date": 1752401446118,
            "name": "Commit-0",
            "content": "require('dotenv').config();\nconst mysql = require('mysql2/promise');\n\nasync function checkAdminUsers() {\n  let connection;\n  try {\n    connection = await mysql.createConnection({\n      host: process.env.DB_HOST,\n      port: process.env.DB_PORT,\n      user: process.env.DB_USER,\n      password: process.env.DB_PASSWORD,\n      database: process.env.DB_NAME\n    });\n\n    console.log('ğŸ” æ£€æŸ¥ç®¡ç†å‘˜è´¦æˆ·...');\n\n    // æ£€æŸ¥adminsè¡¨æ˜¯å¦å­˜åœ¨\n    const [tables] = await connection.execute('SHOW TABLES LIKE \"admins\"');\n    if (tables.length === 0) {\n      console.log('âŒ adminsè¡¨ä¸å­˜åœ¨');\n      await connection.end();\n      return;\n    }\n\n    // æŸ¥è¯¢ç®¡ç†å‘˜è´¦æˆ·\n    const [admins] = await connection.execute('SELECT id, username, email, real_name, role, status, created_at FROM admins');\n    console.log(`ğŸ“Š ç®¡ç†å‘˜è´¦æˆ·æ•°é‡: ${admins.length}`);\n\n    if (admins.length > 0) {\n      console.log('ğŸ“‹ ç®¡ç†å‘˜è´¦æˆ·åˆ—è¡¨:');\n      admins.forEach(admin => {\n        console.log(`   ID: ${admin.id}, ç”¨æˆ·å: ${admin.username}, é‚®ç®±: ${admin.email}`);\n      });\n    } else {\n      console.log('âŒ æ²¡æœ‰ç®¡ç†å‘˜è´¦æˆ·');\n    }\n\n    await connection.end();\n\n  } catch (error) {\n    console.error('âŒ æ£€æŸ¥å¤±è´¥:', error.message);\n    if (connection) {\n      await connection.end();\n    }\n  }\n}\n\ncheckAdminUsers();\n"
        }
    ]
}