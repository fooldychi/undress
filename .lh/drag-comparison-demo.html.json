{
    "sourceFile": "drag-comparison-demo.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 6,
            "patches": [
                {
                    "date": 1752425416510,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1752425433320,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -359,18 +359,20 @@\n                 <div class=\"comparison-container\" id=\"comparison2\">\n                     <div class=\"comparison-wrapper\">\n                         <div class=\"image-layer original-layer\">\n                             <img\n-                                src=\"https://via.placeholder.com/800x400/ff9800/ffffff?text=Wide+Original+800x400\"\n+                                src=\"https://picsum.photos/800/400?random=3\"\n                                 alt=\"横向原图\"\n                                 class=\"comparison-image\"\n+                                crossorigin=\"anonymous\"\n                             />\n                         </div>\n                         <div class=\"image-layer result-layer\" id=\"resultLayer2\">\n                             <img\n-                                src=\"https://via.placeholder.com/800x400/4caf50/ffffff?text=Wide+Result+800x400\"\n+                                src=\"https://picsum.photos/800/400?random=4\"\n                                 alt=\"横向结果\"\n                                 class=\"comparison-image\"\n+                                crossorigin=\"anonymous\"\n                             />\n                         </div>\n                         <div class=\"comparison-slider\" id=\"slider2\">\n                             <div class=\"slider-line\"></div>\n"
                },
                {
                    "date": 1752425451923,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -394,18 +394,20 @@\n                 <div class=\"comparison-container\" id=\"comparison3\">\n                     <div class=\"comparison-wrapper\">\n                         <div class=\"image-layer original-layer\">\n                             <img\n-                                src=\"https://via.placeholder.com/500x500/9c27b0/ffffff?text=Square+Original+500x500\"\n+                                src=\"https://picsum.photos/500/500?random=5\"\n                                 alt=\"正方形原图\"\n                                 class=\"comparison-image\"\n+                                crossorigin=\"anonymous\"\n                             />\n                         </div>\n                         <div class=\"image-layer result-layer\" id=\"resultLayer3\">\n                             <img\n-                                src=\"https://via.placeholder.com/500x500/e91e63/ffffff?text=Square+Result+500x500\"\n+                                src=\"https://picsum.photos/500/500?random=6\"\n                                 alt=\"正方形结果\"\n                                 class=\"comparison-image\"\n+                                crossorigin=\"anonymous\"\n                             />\n                         </div>\n                         <div class=\"comparison-slider\" id=\"slider3\">\n                             <div class=\"slider-line\"></div>\n"
                },
                {
                    "date": 1752425472810,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -304,24 +304,26 @@\n             <div class=\"comparison-container\" id=\"comparison1\">\n                 <div class=\"comparison-wrapper\">\n                     <!-- 原图层 -->\n                     <div class=\"image-layer original-layer\">\n-                        <img\n-                            src=\"https://picsum.photos/600/800?random=1\"\n-                            alt=\"原图\"\n+                        <canvas\n+                            id=\"originalCanvas1\"\n+                            width=\"600\"\n+                            height=\"800\"\n                             class=\"comparison-image\"\n-                            crossorigin=\"anonymous\"\n-                        />\n+                            style=\"width: 100%; height: 100%; object-fit: contain;\"\n+                        ></canvas>\n                     </div>\n \n                     <!-- 结果图层 -->\n                     <div class=\"image-layer result-layer\" id=\"resultLayer1\">\n-                        <img\n-                            src=\"https://picsum.photos/600/800?random=2\"\n-                            alt=\"处理结果\"\n+                        <canvas\n+                            id=\"resultCanvas1\"\n+                            width=\"600\"\n+                            height=\"800\"\n                             class=\"comparison-image\"\n-                            crossorigin=\"anonymous\"\n-                        />\n+                            style=\"width: 100%; height: 100%; object-fit: contain;\"\n+                        ></canvas>\n                     </div>\n \n                     <!-- 拖拽滑块 -->\n                     <div class=\"comparison-slider\" id=\"slider1\">\n"
                },
                {
                    "date": 1752425494691,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -360,22 +360,24 @@\n                 </div>\n                 <div class=\"comparison-container\" id=\"comparison2\">\n                     <div class=\"comparison-wrapper\">\n                         <div class=\"image-layer original-layer\">\n-                            <img\n-                                src=\"https://picsum.photos/800/400?random=3\"\n-                                alt=\"横向原图\"\n+                            <canvas\n+                                id=\"originalCanvas2\"\n+                                width=\"800\"\n+                                height=\"400\"\n                                 class=\"comparison-image\"\n-                                crossorigin=\"anonymous\"\n-                            />\n+                                style=\"width: 100%; height: 100%; object-fit: contain;\"\n+                            ></canvas>\n                         </div>\n                         <div class=\"image-layer result-layer\" id=\"resultLayer2\">\n-                            <img\n-                                src=\"https://picsum.photos/800/400?random=4\"\n-                                alt=\"横向结果\"\n+                            <canvas\n+                                id=\"resultCanvas2\"\n+                                width=\"800\"\n+                                height=\"400\"\n                                 class=\"comparison-image\"\n-                                crossorigin=\"anonymous\"\n-                            />\n+                                style=\"width: 100%; height: 100%; object-fit: contain;\"\n+                            ></canvas>\n                         </div>\n                         <div class=\"comparison-slider\" id=\"slider2\">\n                             <div class=\"slider-line\"></div>\n                             <div class=\"slider-handle\">\n"
                },
                {
                    "date": 1752425512818,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -397,22 +397,24 @@\n                 </div>\n                 <div class=\"comparison-container\" id=\"comparison3\">\n                     <div class=\"comparison-wrapper\">\n                         <div class=\"image-layer original-layer\">\n-                            <img\n-                                src=\"https://picsum.photos/500/500?random=5\"\n-                                alt=\"正方形原图\"\n+                            <canvas\n+                                id=\"originalCanvas3\"\n+                                width=\"500\"\n+                                height=\"500\"\n                                 class=\"comparison-image\"\n-                                crossorigin=\"anonymous\"\n-                            />\n+                                style=\"width: 100%; height: 100%; object-fit: contain;\"\n+                            ></canvas>\n                         </div>\n                         <div class=\"image-layer result-layer\" id=\"resultLayer3\">\n-                            <img\n-                                src=\"https://picsum.photos/500/500?random=6\"\n-                                alt=\"正方形结果\"\n+                            <canvas\n+                                id=\"resultCanvas3\"\n+                                width=\"500\"\n+                                height=\"500\"\n                                 class=\"comparison-image\"\n-                                crossorigin=\"anonymous\"\n-                            />\n+                                style=\"width: 100%; height: 100%; object-fit: contain;\"\n+                            ></canvas>\n                         </div>\n                         <div class=\"comparison-slider\" id=\"slider3\">\n                             <div class=\"slider-line\"></div>\n                             <div class=\"slider-handle\">\n"
                },
                {
                    "date": 1752425537974,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -522,10 +522,71 @@\n             // 初始化位置\n             updateSlider(50);\n         }\n \n+        // 生成模拟图片\n+        function generateImage(canvasId, width, height, type, text) {\n+            const canvas = document.getElementById(canvasId);\n+            if (!canvas) return;\n+\n+            const ctx = canvas.getContext('2d');\n+\n+            // 创建渐变背景\n+            let gradient;\n+            if (type === 'original') {\n+                gradient = ctx.createLinearGradient(0, 0, width, height);\n+                gradient.addColorStop(0, '#4a90e2');\n+                gradient.addColorStop(0.5, '#357abd');\n+                gradient.addColorStop(1, '#1e5f99');\n+            } else {\n+                gradient = ctx.createLinearGradient(0, 0, width, height);\n+                gradient.addColorStop(0, '#50c878');\n+                gradient.addColorStop(0.5, '#45b566');\n+                gradient.addColorStop(1, '#3a9b56');\n+            }\n+\n+            ctx.fillStyle = gradient;\n+            ctx.fillRect(0, 0, width, height);\n+\n+            // 添加纹理效果\n+            for (let i = 0; i < 100; i++) {\n+                ctx.fillStyle = `rgba(255, 255, 255, ${Math.random() * 0.1})`;\n+                ctx.fillRect(\n+                    Math.random() * width,\n+                    Math.random() * height,\n+                    Math.random() * 50,\n+                    Math.random() * 50\n+                );\n+            }\n+\n+            // 添加文字\n+            ctx.fillStyle = 'white';\n+            ctx.font = 'bold 24px Arial';\n+            ctx.textAlign = 'center';\n+            ctx.textBaseline = 'middle';\n+            ctx.fillText(text, width / 2, height / 2);\n+\n+            // 添加尺寸信息\n+            ctx.font = '16px Arial';\n+            ctx.fillText(`${width} × ${height}`, width / 2, height / 2 + 40);\n+\n+            // 添加边框\n+            ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';\n+            ctx.lineWidth = 2;\n+            ctx.strokeRect(0, 0, width, height);\n+        }\n+\n         // 初始化所有对比组件\n         document.addEventListener('DOMContentLoaded', () => {\n+            // 生成模拟图片\n+            generateImage('originalCanvas1', 600, 800, 'original', '原图');\n+            generateImage('resultCanvas1', 600, 800, 'result', '处理结果');\n+            generateImage('originalCanvas2', 800, 400, 'original', '横向原图');\n+            generateImage('resultCanvas2', 800, 400, 'result', '横向结果');\n+            generateImage('originalCanvas3', 500, 500, 'original', '正方形原图');\n+            generateImage('resultCanvas3', 500, 500, 'result', '正方形结果');\n+\n+            // 初始化拖拽功能\n             initDragComparison('comparison1', 'slider1', 'resultLayer1');\n             initDragComparison('comparison2', 'slider2', 'resultLayer2');\n             initDragComparison('comparison3', 'slider3', 'resultLayer3');\n         });\n"
                }
            ],
            "date": 1752425416510,
            "name": "Commit-0",
            "content": "<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>拖拽对比组件效果展示</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n\n        body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            min-height: 100vh;\n            padding: 20px;\n        }\n\n        .demo-container {\n            max-width: 900px;\n            margin: 0 auto;\n            background: rgba(255, 255, 255, 0.1);\n            backdrop-filter: blur(10px);\n            border-radius: 16px;\n            padding: 20px;\n            border: 1px solid rgba(255, 255, 255, 0.2);\n        }\n\n        .title {\n            text-align: center;\n            color: white;\n            font-size: 24px;\n            font-weight: bold;\n            margin-bottom: 30px;\n        }\n\n        .demo-section {\n            margin-bottom: 40px;\n            background: rgba(255, 255, 255, 0.05);\n            border-radius: 12px;\n            padding: 20px;\n            border: 1px solid rgba(255, 255, 255, 0.1);\n        }\n\n        .section-title {\n            color: white;\n            font-size: 18px;\n            font-weight: bold;\n            margin-bottom: 15px;\n        }\n\n        /* 页面头部样式 */\n        .ai-page-header {\n            text-align: center;\n            padding: 16px 0;\n            background: transparent;\n            border-radius: 16px;\n            margin-bottom: 20px;\n        }\n\n        .page-title {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 12px;\n            font-size: 18px;\n            font-weight: 700;\n            color: rgba(255, 255, 255, 0.95);\n            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n        }\n\n        .page-description {\n            font-size: 14px;\n            color: rgba(255, 255, 255, 0.8);\n            margin-top: 8px;\n            line-height: 1.5;\n        }\n\n        /* 拖拽对比组件样式 */\n        .comparison-container {\n            position: relative;\n            border-radius: 12px;\n            overflow: hidden;\n            background: rgba(255, 255, 255, 0.05);\n            backdrop-filter: blur(10px);\n            -webkit-backdrop-filter: blur(10px);\n            border: 1px solid rgba(255, 255, 255, 0.2);\n            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n            user-select: none;\n            cursor: pointer;\n            transition: all 0.3s ease;\n            min-height: 300px;\n            max-height: 500px;\n            width: 100%;\n            margin: 0 auto;\n        }\n\n        .comparison-wrapper {\n            position: relative;\n            width: 100%;\n            height: 100%;\n            overflow: hidden;\n            cursor: col-resize;\n            background: #000000;\n            min-height: 300px;\n            max-height: 500px;\n        }\n\n        .image-layer {\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n        }\n\n        .comparison-image {\n            width: 100%;\n            height: 100%;\n            object-fit: contain;\n            object-position: center;\n            display: block;\n        }\n\n        .result-layer {\n            transition: clip-path 0.1s ease-out;\n        }\n\n        .comparison-slider {\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            width: 4px;\n            background: white;\n            cursor: col-resize;\n            z-index: 20;\n            transform: translateX(-2px);\n            left: 50%;\n        }\n\n        .slider-line {\n            width: 100%;\n            height: 100%;\n            background: white;\n            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);\n        }\n\n        .slider-handle {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            width: 48px;\n            height: 48px;\n            background: white;\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 4px;\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n            cursor: grab;\n        }\n\n        .slider-handle:active {\n            cursor: grabbing;\n        }\n\n        .slider-circle {\n            width: 8px;\n            height: 8px;\n            background: #1989fa;\n            border-radius: 50%;\n        }\n\n        .slider-arrow {\n            opacity: 0.7;\n            font-size: 12px;\n            color: #666;\n        }\n\n        /* 操作按钮样式 */\n        .result-actions {\n            display: flex;\n            gap: 12px;\n            justify-content: center;\n            margin-top: 20px;\n            padding: 0 16px;\n        }\n\n        .result-action-btn {\n            flex: 1;\n            max-width: 150px;\n            padding: 12px 24px;\n            border: none;\n            border-radius: 8px;\n            font-size: 14px;\n            font-weight: 500;\n            cursor: pointer;\n            transition: all 0.3s ease;\n        }\n\n        .result-action-btn.primary {\n            background: #1989fa;\n            color: white;\n        }\n\n        .result-action-btn.primary:hover {\n            background: #0570d9;\n        }\n\n        .result-action-btn.default {\n            background: rgba(255, 255, 255, 0.2);\n            color: white;\n            border: 1px solid rgba(255, 255, 255, 0.3);\n        }\n\n        .result-action-btn.default:hover {\n            background: rgba(255, 255, 255, 0.3);\n        }\n\n        /* 说明文字样式 */\n        .instruction {\n            color: rgba(255, 255, 255, 0.8);\n            text-align: center;\n            margin-bottom: 15px;\n            font-size: 14px;\n            background: rgba(255, 255, 255, 0.1);\n            padding: 10px;\n            border-radius: 8px;\n        }\n\n        .feature-list {\n            color: white;\n            line-height: 1.6;\n        }\n\n        .feature-list li {\n            margin-bottom: 8px;\n        }\n\n        .highlight {\n            background: rgba(255, 255, 0, 0.2);\n            padding: 2px 4px;\n            border-radius: 4px;\n        }\n\n        /* 移动端适配 */\n        @media (max-width: 768px) {\n            .comparison-container {\n                min-height: 300px;\n                max-height: 400px;\n            }\n\n            .comparison-wrapper {\n                min-height: 300px;\n                max-height: 400px;\n            }\n\n            .result-actions {\n                gap: 8px;\n                margin-top: 16px;\n                padding: 0 12px;\n            }\n\n            .result-action-btn {\n                font-size: 13px;\n                padding: 10px 20px;\n            }\n\n            .slider-handle {\n                width: 36px;\n                height: 36px;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"demo-container\">\n        <h1 class=\"title\">拖拽对比组件效果展示</h1>\n\n        <!-- 完整页面结构演示 -->\n        <div class=\"demo-section\">\n            <h2 class=\"section-title\">完整拖拽对比界面</h2>\n\n            <!-- 页面头部 -->\n            <div class=\"ai-page-header\">\n                <div class=\"page-title\">\n                    <span>🎭</span>\n                    <span>一键褪衣</span>\n                </div>\n                <div class=\"page-description\">\n                    上传人物照片，AI智能移除服装\n                </div>\n            </div>\n\n            <div class=\"instruction\">\n                💡 拖拽中间的白色滑块来对比原图和处理结果\n            </div>\n\n            <!-- 拖拽对比组件 -->\n            <div class=\"comparison-container\" id=\"comparison1\">\n                <div class=\"comparison-wrapper\">\n                    <!-- 原图层 -->\n                    <div class=\"image-layer original-layer\">\n                        <img\n                            src=\"https://picsum.photos/600/800?random=1\"\n                            alt=\"原图\"\n                            class=\"comparison-image\"\n                            crossorigin=\"anonymous\"\n                        />\n                    </div>\n\n                    <!-- 结果图层 -->\n                    <div class=\"image-layer result-layer\" id=\"resultLayer1\">\n                        <img\n                            src=\"https://picsum.photos/600/800?random=2\"\n                            alt=\"处理结果\"\n                            class=\"comparison-image\"\n                            crossorigin=\"anonymous\"\n                        />\n                    </div>\n\n                    <!-- 拖拽滑块 -->\n                    <div class=\"comparison-slider\" id=\"slider1\">\n                        <div class=\"slider-line\"></div>\n                        <div class=\"slider-handle\">\n                            <span class=\"slider-arrow\">←</span>\n                            <div class=\"slider-circle\"></div>\n                            <span class=\"slider-arrow\">→</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <!-- 操作按钮 -->\n            <div class=\"result-actions\">\n                <button class=\"result-action-btn primary\" onclick=\"alert('下载功能')\">\n                    下载图片\n                </button>\n\n                <button class=\"result-action-btn default\" onclick=\"alert('重新处理功能')\">\n                    重新处理\n                </button>\n            </div>\n        </div>\n\n        <!-- 不同尺寸测试 -->\n        <div class=\"demo-section\">\n            <h2 class=\"section-title\">不同尺寸图片测试</h2>\n\n            <div style=\"margin-bottom: 20px;\">\n                <h3 style=\"color: white; margin-bottom: 10px;\">横向图片 (800x400)</h3>\n                <div class=\"instruction\">\n                    测试横向图片的拖拽对比效果\n                </div>\n                <div class=\"comparison-container\" id=\"comparison2\">\n                    <div class=\"comparison-wrapper\">\n                        <div class=\"image-layer original-layer\">\n                            <img\n                                src=\"https://via.placeholder.com/800x400/ff9800/ffffff?text=Wide+Original+800x400\"\n                                alt=\"横向原图\"\n                                class=\"comparison-image\"\n                            />\n                        </div>\n                        <div class=\"image-layer result-layer\" id=\"resultLayer2\">\n                            <img\n                                src=\"https://via.placeholder.com/800x400/4caf50/ffffff?text=Wide+Result+800x400\"\n                                alt=\"横向结果\"\n                                class=\"comparison-image\"\n                            />\n                        </div>\n                        <div class=\"comparison-slider\" id=\"slider2\">\n                            <div class=\"slider-line\"></div>\n                            <div class=\"slider-handle\">\n                                <span class=\"slider-arrow\">←</span>\n                                <div class=\"slider-circle\"></div>\n                                <span class=\"slider-arrow\">→</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div>\n                <h3 style=\"color: white; margin-bottom: 10px;\">正方形图片 (500x500)</h3>\n                <div class=\"instruction\">\n                    测试正方形图片的拖拽对比效果\n                </div>\n                <div class=\"comparison-container\" id=\"comparison3\">\n                    <div class=\"comparison-wrapper\">\n                        <div class=\"image-layer original-layer\">\n                            <img\n                                src=\"https://via.placeholder.com/500x500/9c27b0/ffffff?text=Square+Original+500x500\"\n                                alt=\"正方形原图\"\n                                class=\"comparison-image\"\n                            />\n                        </div>\n                        <div class=\"image-layer result-layer\" id=\"resultLayer3\">\n                            <img\n                                src=\"https://via.placeholder.com/500x500/e91e63/ffffff?text=Square+Result+500x500\"\n                                alt=\"正方形结果\"\n                                class=\"comparison-image\"\n                            />\n                        </div>\n                        <div class=\"comparison-slider\" id=\"slider3\">\n                            <div class=\"slider-line\"></div>\n                            <div class=\"slider-handle\">\n                                <span class=\"slider-arrow\">←</span>\n                                <div class=\"slider-circle\"></div>\n                                <span class=\"slider-arrow\">→</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- 功能特性说明 -->\n        <div class=\"demo-section\">\n            <h2 class=\"section-title\">拖拽对比组件特性</h2>\n\n            <ul class=\"feature-list\">\n                <li><span class=\"highlight\">拖拽交互</span> - 支持鼠标拖拽和触摸拖拽</li>\n                <li><span class=\"highlight\">响应式高度</span> - 高度300-500px（移动端300-400px）</li>\n                <li><span class=\"highlight\">等比例缩放</span> - 图片根据容器高度自动调整宽度</li>\n                <li><span class=\"highlight\">保持原图比例</span> - 使用object-fit: contain确保不变形</li>\n                <li><span class=\"highlight\">流畅动画</span> - 滑块移动有平滑的过渡效果</li>\n                <li><span class=\"highlight\">键盘支持</span> - 支持左右箭头键控制（如果实现）</li>\n                <li><span class=\"highlight\">移动端优化</span> - 触摸友好的滑块大小和交互</li>\n            </ul>\n        </div>\n\n        <!-- 技术实现说明 -->\n        <div class=\"demo-section\">\n            <h2 class=\"section-title\">技术实现要点</h2>\n\n            <div style=\"color: white; line-height: 1.6;\">\n                <p><strong>1. 图层叠加：</strong>使用绝对定位将两张图片叠加</p>\n                <p><strong>2. 裁剪遮罩：</strong>使用CSS clip-path属性控制结果图的显示区域</p>\n                <p><strong>3. 拖拽控制：</strong>监听鼠标和触摸事件，实时更新滑块位置</p>\n                <p><strong>4. 响应式设计：</strong>容器高度固定，宽度根据图片比例自适应</p>\n                <p><strong>5. 性能优化：</strong>使用transform和clip-path实现硬件加速</p>\n            </div>\n        </div>\n    </div>\n\n    <script>\n        // 拖拽功能实现\n        function initDragComparison(containerId, sliderId, resultLayerId) {\n            const container = document.getElementById(containerId);\n            const slider = document.getElementById(sliderId);\n            const resultLayer = document.getElementById(resultLayerId);\n\n            if (!container || !slider || !resultLayer) return;\n\n            let isDragging = false;\n            let sliderPosition = 50; // 初始位置50%\n\n            // 更新滑块位置和裁剪\n            function updateSlider(position) {\n                sliderPosition = Math.max(0, Math.min(100, position));\n                slider.style.left = sliderPosition + '%';\n                resultLayer.style.clipPath = `inset(0 ${100 - sliderPosition}% 0 0)`;\n            }\n\n            // 开始拖拽\n            function startDragging(event) {\n                isDragging = true;\n                event.preventDefault();\n                document.addEventListener('mousemove', handleDrag);\n                document.addEventListener('mouseup', stopDragging);\n                document.addEventListener('touchmove', handleDrag);\n                document.addEventListener('touchend', stopDragging);\n            }\n\n            // 处理拖拽\n            function handleDrag(event) {\n                if (!isDragging) return;\n\n                const rect = container.getBoundingClientRect();\n                const clientX = event.clientX || (event.touches && event.touches[0].clientX);\n                const position = ((clientX - rect.left) / rect.width) * 100;\n\n                updateSlider(position);\n            }\n\n            // 停止拖拽\n            function stopDragging() {\n                isDragging = false;\n                document.removeEventListener('mousemove', handleDrag);\n                document.removeEventListener('mouseup', stopDragging);\n                document.removeEventListener('touchmove', handleDrag);\n                document.removeEventListener('touchend', stopDragging);\n            }\n\n            // 绑定事件\n            slider.addEventListener('mousedown', startDragging);\n            slider.addEventListener('touchstart', startDragging);\n\n            // 点击容器直接跳转\n            container.addEventListener('click', (event) => {\n                if (event.target === slider || slider.contains(event.target)) return;\n\n                const rect = container.getBoundingClientRect();\n                const position = ((event.clientX - rect.left) / rect.width) * 100;\n                updateSlider(position);\n            });\n\n            // 初始化位置\n            updateSlider(50);\n        }\n\n        // 初始化所有对比组件\n        document.addEventListener('DOMContentLoaded', () => {\n            initDragComparison('comparison1', 'slider1', 'resultLayer1');\n            initDragComparison('comparison2', 'slider2', 'resultLayer2');\n            initDragComparison('comparison3', 'slider3', 'resultLayer3');\n        });\n\n        // 响应式检测\n        function checkResponsive() {\n            const isMobile = window.innerWidth <= 768;\n            console.log('当前设备类型:', isMobile ? '移动端' : '桌面端');\n            console.log('窗口宽度:', window.innerWidth);\n        }\n\n        window.addEventListener('resize', checkResponsive);\n        window.addEventListener('load', checkResponsive);\n    </script>\n</body>\n</html>\n"
        }
    ]
}