{
    "sourceFile": "docs/é‡è¦ä¿®å¤-é˜Ÿåˆ—ç«¯ç‚¹é—®é¢˜è§£å†³.md",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1752517206006,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1752517206006,
            "name": "Commit-0",
            "content": "# ğŸ”§ é‡è¦ä¿®å¤ï¼šé˜Ÿåˆ—ç«¯ç‚¹é—®é¢˜è§£å†³\n\n## ğŸ“‹ é—®é¢˜æ€»ç»“\n\nç”¨æˆ·æŠ¥å‘Š \"Failed to fetch\" é”™è¯¯ï¼Œæ— æ³•è·å– ComfyUI æœåŠ¡å™¨çš„é˜Ÿåˆ—ä¿¡æ¯ã€‚\n\n## ğŸ” æ ¹æœ¬åŸå› å‘ç°\n\né€šè¿‡åˆ†æç”¨æˆ·æä¾›çš„å®é™…å·¥ä½œè¯·æ±‚ä¿¡æ¯ï¼Œå‘ç°äº†é—®é¢˜çš„æ ¹æœ¬åŸå› ï¼š\n\n### ç”¨æˆ·æä¾›çš„å®é™…è¯·æ±‚ä¿¡æ¯\n```\nè¯·æ±‚ç½‘å€: https://l9s75ay3rp-8188.cnb.run/api/queue\nè¯·æ±‚æ–¹æ³•: GET\nçŠ¶æ€ä»£ç : 200 OK\n```\n\n### å…³é”®è¯·æ±‚å¤´\n```\nAccept: */*\nCache-Control: max-age=0\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36...\ncomfy-user: priority\n```\n\n## âŒ æˆ‘ä»¬ä¹‹å‰çš„é”™è¯¯\n\n### 1. é”™è¯¯çš„ç«¯ç‚¹è·¯å¾„\n- **é”™è¯¯**: `/queue`\n- **æ­£ç¡®**: `/api/queue`\n\n### 2. ç¼ºå°‘å…³é”®è¯·æ±‚å¤´\n- **ç¼ºå°‘**: `comfy-user` å¤´éƒ¨\n- **é”™è¯¯**: ä½¿ç”¨äº†ä¸åŒ¹é…çš„ Accept å’Œ Cache-Control\n\n### 3. è¯·æ±‚å¤´æ ¼å¼ä¸æ­£ç¡®\n```javascript\n// é”™è¯¯çš„è¯·æ±‚å¤´\nheaders: {\n  'Accept': 'application/json',\n  'Cache-Control': 'no-cache'\n}\n\n// æ­£ç¡®çš„è¯·æ±‚å¤´\nheaders: {\n  'Accept': '*/*',\n  'Cache-Control': 'max-age=0',\n  'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36...',\n  'comfy-user': 'client-identifier'\n}\n```\n\n## âœ… ä¿®å¤æ–¹æ¡ˆ\n\n### 1. æ›´æ–°è´Ÿè½½å‡è¡¡å™¨ (`client/src/services/loadBalancer.js`)\n\n**å¥åº·æ£€æŸ¥ç«¯ç‚¹**:\n```javascript\nconst testEndpoints = [\n  '/api/queue',        // å®é™…çš„é˜Ÿåˆ—ç«¯ç‚¹è·¯å¾„\n  '/api/system_stats', // ç³»ç»ŸçŠ¶æ€ç«¯ç‚¹\n  '/api/object_info',  // èŠ‚ç‚¹ä¿¡æ¯ç«¯ç‚¹\n  '/api/prompt',       // æç¤ºçŠ¶æ€ç«¯ç‚¹\n  '/queue',            // å¤‡ç”¨æ ‡å‡†è·¯å¾„\n  '/system_stats',     // å¤‡ç”¨æ ‡å‡†è·¯å¾„\n  '/'                  // æ ¹è·¯å¾„ï¼Œæœ€åå°è¯•\n]\n```\n\n**è¯·æ±‚å¤´ä¿®å¤**:\n```javascript\nheaders: {\n  'Accept': '*/*',\n  'Cache-Control': 'max-age=0',\n  'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36',\n  'comfy-user': 'loadbalancer-client'\n}\n```\n\n**é˜Ÿåˆ—ç«¯ç‚¹ä¿®å¤**:\n```javascript\nconst response = await fetch(`${serverUrl}/api/queue`, {\n  method: 'GET',\n  signal: controller.signal,\n  headers: {\n    'Accept': '*/*',\n    'Cache-Control': 'max-age=0',\n    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36',\n    'comfy-user': 'loadbalancer-client'\n  }\n})\n```\n\n### 2. æ›´æ–°æµ‹è¯•å·¥å…·\n\n- `simple-queue-test.html` - ä½¿ç”¨æ­£ç¡®çš„ç«¯ç‚¹å’Œè¯·æ±‚å¤´\n- `standalone-test.html` - æ›´æ–°å¥åº·æ£€æŸ¥å’Œé˜Ÿåˆ—è·å–é€»è¾‘\n- `fixed-queue-test.html` - æ–°å¢å¯¹æ¯”æµ‹è¯•å·¥å…·\n\n## ğŸ§ª éªŒè¯ä¿®å¤æ•ˆæœ\n\nåˆ›å»ºäº† `fixed-queue-test.html` æ¥éªŒè¯ä¿®å¤æ•ˆæœï¼š\n\n1. **å¯¹æ¯”æµ‹è¯•**: åŒæ—¶æµ‹è¯•æ—§ç«¯ç‚¹å’Œæ–°ç«¯ç‚¹\n2. **è¯¦ç»†åˆ†æ**: æ˜¾ç¤ºè¯·æ±‚å¤´å·®å¼‚å’Œå“åº”ç»“æœ\n3. **é˜Ÿåˆ—è§£æ**: æ­£ç¡®è§£æé˜Ÿåˆ—æ•°æ®ç»“æ„\n\n## ğŸ“Š ä¿®å¤ç»“æœ\n\nä¿®å¤ååº”è¯¥èƒ½å¤Ÿï¼š\n\n1. âœ… æˆåŠŸè¿æ¥åˆ° `/api/queue` ç«¯ç‚¹\n2. âœ… è·å–æ­£ç¡®çš„é˜Ÿåˆ—æ•°æ®\n3. âœ… è§£æè¿è¡Œä¸­å’Œç­‰å¾…ä¸­çš„ä»»åŠ¡æ•°é‡\n4. âœ… æ­£ç¡®è¿›è¡ŒæœåŠ¡å™¨å¥åº·æ£€æŸ¥\n5. âœ… å®ç°è´Ÿè½½å‡è¡¡åŠŸèƒ½\n\n## ğŸ’¡ ç»éªŒæ•™è®­\n\n1. **å®é™…è¯·æ±‚ä¿¡æ¯æœ€é‡è¦**: ç†è®ºæ–‡æ¡£ä¸å¦‚å®é™…å·¥ä½œçš„è¯·æ±‚ä¿¡æ¯å‡†ç¡®\n2. **è¯·æ±‚å¤´å¾ˆå…³é”®**: æŸäº›æœåŠ¡å™¨å¯èƒ½éœ€è¦ç‰¹å®šçš„è¯·æ±‚å¤´æ‰èƒ½æ­£å¸¸å·¥ä½œ\n3. **ç«¯ç‚¹è·¯å¾„å¯èƒ½ä¸æ ‡å‡†**: ä¸åŒçš„ ComfyUI éƒ¨ç½²å¯èƒ½ä½¿ç”¨ä¸åŒçš„ API è·¯å¾„\n4. **é€æ­¥è°ƒè¯•**: é€šè¿‡å¯¹æ¯”å·¥ä½œå’Œä¸å·¥ä½œçš„è¯·æ±‚æ¥æ‰¾å‡ºå·®å¼‚\n\n## ğŸ”„ åç»­æ­¥éª¤\n\n1. æµ‹è¯•ä¿®å¤åçš„è´Ÿè½½å‡è¡¡å™¨\n2. éªŒè¯æ‰€æœ‰æœåŠ¡å™¨çš„è¿æ¥çŠ¶æ€\n3. ç¡®è®¤é˜Ÿåˆ—ä¿¡æ¯è·å–æ­£å¸¸\n4. æ›´æ–°ç”Ÿäº§ç¯å¢ƒé…ç½®\n\n## ğŸ“ ç›¸å…³æ–‡ä»¶\n\n- `client/src/services/loadBalancer.js` - ä¸»è¦ä¿®å¤æ–‡ä»¶\n- `fixed-queue-test.html` - éªŒè¯ä¿®å¤æ•ˆæœ\n- `simple-queue-test.html` - æ›´æ–°çš„ç®€å•æµ‹è¯•\n- `standalone-test.html` - æ›´æ–°çš„å®Œæ•´æµ‹è¯•\n- `docs/é˜Ÿåˆ—ä¿¡æ¯è·å–é—®é¢˜åˆ†æ.md` - è¯¦ç»†åˆ†ææ–‡æ¡£\n\n## ğŸ¯ **æœ€ç»ˆå®ç°æ•ˆæœ**\n\n### é¡µé¢åŠ è½½æ—¶çš„è¯¦ç»†è¾“å‡º\nç°åœ¨å½“é¡µé¢åŠ è½½æ—¶ï¼Œè´Ÿè½½å‡è¡¡å™¨ä¼šæä¾›è¯¦ç»†çš„æœåŠ¡å™¨é€‰æ‹©å’Œé˜Ÿåˆ—ä¿¡æ¯ï¼š\n\n```\nğŸš€ æ­£åœ¨åˆå§‹åŒ– ComfyUI æœåŠ¡å™¨è¿æ¥...\n============================================================\nğŸ“‹ å‘ç° 2 ä¸ªé…ç½®çš„æœåŠ¡å™¨:\n   1. https://l9s75ay3rp-8188.cnb.run (ä¸»æœåŠ¡å™¨, ä¼˜å…ˆçº§: 1)\n   2. https://0rv00xh2vg-8188.cnb.run (å¤‡ç”¨æœåŠ¡å™¨, ä¼˜å…ˆçº§: 2)\n\nğŸ” å¼€å§‹æœåŠ¡å™¨è¿æ¥å’Œé˜Ÿåˆ—æµ‹è¯•...\n------------------------------------------------------------\n\nğŸ–¥ï¸  æµ‹è¯•æœåŠ¡å™¨: https://l9s75ay3rp-8188.cnb.run\n   ç±»å‹: ä¸»æœåŠ¡å™¨ | ä¼˜å…ˆçº§: 1\n   âœ… å¥åº·æ£€æŸ¥: é€šè¿‡ (245ms)\n   ğŸ”— å¯ç”¨ç«¯ç‚¹: /api/queue\n   ğŸ“Š é˜Ÿåˆ—ä¿¡æ¯: è¿è¡Œä¸­ 0 | ç­‰å¾…ä¸­ 0 | æ€»è®¡ 0\n   ğŸ“ˆ æœåŠ¡å™¨çŠ¶æ€: ğŸŸ¢ ç©ºé—²\n\nğŸ–¥ï¸  æµ‹è¯•æœåŠ¡å™¨: https://0rv00xh2vg-8188.cnb.run\n   ç±»å‹: å¤‡ç”¨æœåŠ¡å™¨ | ä¼˜å…ˆçº§: 2\n   âœ… å¥åº·æ£€æŸ¥: é€šè¿‡ (312ms)\n   ğŸ”— å¯ç”¨ç«¯ç‚¹: /api/queue\n   ğŸ“Š é˜Ÿåˆ—ä¿¡æ¯: è¿è¡Œä¸­ 1 | ç­‰å¾…ä¸­ 2 | æ€»è®¡ 3\n   ğŸ“ˆ æœåŠ¡å™¨çŠ¶æ€: ğŸŸ¡ ç¹å¿™\n\n============================================================\nğŸ“Š æœåŠ¡å™¨è¿æ¥æµ‹è¯•å®Œæˆ: 2/2 ä¸ªæœåŠ¡å™¨å¯ç”¨\n\nğŸ“‹ æœåŠ¡å™¨çŠ¶æ€æ±‡æ€»:\n   çŠ¶æ€ | ç±»å‹     | æœåŠ¡å™¨URL                    | é˜Ÿåˆ—(è¿è¡Œ/ç­‰å¾…/æ€»è®¡) | å“åº”æ—¶é—´\n   -----|----------|------------------------------|---------------------|----------\n   âœ… | ä¸»æœåŠ¡å™¨ | https://l9s75ay3rp-8188.cnb.run | 0/0/0               | 245ms\n   âœ… | å¤‡ç”¨     | https://0rv00xh2vg-8188.cnb.run | 1/2/3               | 312ms\n\nğŸ¯ æœ€ä¼˜æœåŠ¡å™¨é€‰æ‹©ç»“æœ:\n   é€‰æ‹©æœåŠ¡å™¨: https://l9s75ay3rp-8188.cnb.run\n   é€‰æ‹©åŸå› : ä¸»æœåŠ¡å™¨ | é˜Ÿåˆ—æœ€å°‘ (0 ä¸ªä»»åŠ¡)\n   é˜Ÿåˆ—è¯¦æƒ…: è¿è¡Œä¸­ 0 | ç­‰å¾…ä¸­ 0\n   å“åº”æ—¶é—´: 245ms\n   ä¼˜å…ˆçº§: 1\n\nâœ… æœåŠ¡å™¨åˆå§‹åŒ–å®Œæˆï¼Œç³»ç»Ÿå·²å‡†å¤‡å°±ç»ªï¼\n============================================================\n```\n\n### æ¸…ç†åçš„ä»£ç ç»“æ„\n- âœ… åˆ é™¤äº†æ‰€æœ‰è¿‡ç¨‹å¼æµ‹è¯•æ–‡ä»¶\n- âœ… ä¿ç•™äº†ä¸€ä¸ªç®€å•çš„æµ‹è¯•å·¥å…· (`test-initialization.html`)\n- âœ… è´Ÿè½½å‡è¡¡å™¨æä¾›è¯¦ç»†çš„åˆå§‹åŒ–æ—¥å¿—\n- âœ… ä¸»åº”ç”¨åœ¨å¯åŠ¨æ—¶è‡ªåŠ¨è°ƒç”¨åˆå§‹åŒ–\n\n---\n\n**æ€»ç»“**: é€šè¿‡åˆ†æç”¨æˆ·æä¾›çš„å®é™…è¯·æ±‚ä¿¡æ¯ï¼Œæˆ‘ä»¬å‘ç°å¹¶ä¿®å¤äº†ç«¯ç‚¹è·¯å¾„é”™è¯¯å’Œè¯·æ±‚å¤´ç¼ºå¤±çš„é—®é¢˜ã€‚ç°åœ¨ç³»ç»Ÿåœ¨é¡µé¢åŠ è½½æ—¶ä¼šæ¸…æ¥šåœ°æ˜¾ç¤ºæœåŠ¡å™¨é€‰æ‹©è¿‡ç¨‹å’Œé˜Ÿåˆ—ä¿¡æ¯ï¼Œç”¨æˆ·å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°å“ªä¸ªæœåŠ¡å™¨è¢«é€‰æ‹©ä»¥åŠåŸå› ã€‚\n"
        }
    ]
}