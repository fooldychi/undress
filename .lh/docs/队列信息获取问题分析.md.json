{
    "sourceFile": "docs/é˜Ÿåˆ—ä¿¡æ¯è·å–é—®é¢˜åˆ†æ.md",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 6,
            "patches": [
                {
                    "date": 1752515770586,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1752515787686,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,12 +70,38 @@\n   ]\n }\n ```\n \n-## è§£å†³æ–¹æ¡ˆ\n+## åŸºäºå®˜æ–¹æ–‡æ¡£çš„è§£å†³æ–¹æ¡ˆ\n \n-### 1. å¢å¼ºçš„é˜Ÿåˆ—ä¿¡æ¯è§£æ\n+### 1. è°ƒæ•´å¥åº·æ£€æŸ¥ç«¯ç‚¹ä¼˜å…ˆçº§\n \n+æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œé‡æ–°æ’åºå¥åº·æ£€æŸ¥ç«¯ç‚¹ï¼š\n+\n+```javascript\n+const testEndpoints = [\n+  '/system_stats', // å®˜æ–¹æ¨èçš„ç³»ç»ŸçŠ¶æ€ç«¯ç‚¹\n+  '/queue',        // é˜Ÿåˆ—çŠ¶æ€ç«¯ç‚¹\n+  '/object_info',  // èŠ‚ç‚¹ä¿¡æ¯ç«¯ç‚¹\n+  '/prompt',       // æç¤ºçŠ¶æ€ç«¯ç‚¹\n+  '/'              // æ ¹è·¯å¾„ï¼Œæœ€åå°è¯•\n+]\n+```\n+\n+### 2. æ”¹è¿›è¯·æ±‚å¤´\n+\n+æ·»åŠ æ›´ç¬¦åˆ ComfyUI é¢„æœŸçš„è¯·æ±‚å¤´ï¼š\n+\n+```javascript\n+headers: {\n+  'Accept': 'application/json, text/html, text/plain, */*',\n+  'Cache-Control': 'no-cache',\n+  'User-Agent': 'ComfyUI-LoadBalancer/1.0'\n+}\n+```\n+\n+### 3. å¢å¼ºçš„é˜Ÿåˆ—ä¿¡æ¯è§£æ\n+\n ä¿®æ”¹äº† `getServerQueueInfo` æ–¹æ³•ï¼Œæ”¯æŒå¤šç§æ•°æ®æ ¼å¼ï¼š\n \n ```javascript\n // å°è¯•å¤šç§å¯èƒ½çš„æ•°æ®æ ¼å¼\n"
                },
                {
                    "date": 1752515806757,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -150,19 +150,25 @@\n ## æµ‹è¯•å·¥å…·\n \n åˆ›å»ºäº†å¤šä¸ªæµ‹è¯•å·¥å…·æ¥è¯Šæ–­é—®é¢˜ï¼š\n \n-### 1. `debug-queue.html`\n+### 1. `official-api-test.html` â­ **æ–°å¢**\n+- åŸºäº ComfyUI å®˜æ–¹æ–‡æ¡£çš„ API ç«¯ç‚¹æµ‹è¯•\n+- æµ‹è¯•æ‰€æœ‰å®˜æ–¹å®šä¹‰çš„ç«¯ç‚¹\n+- ç¬¦åˆå®˜æ–¹è§„èŒƒçš„è¯·æ±‚æ ¼å¼\n+- è¯¦ç»†çš„é˜Ÿåˆ—æ•°æ®ç»“æ„åˆ†æ\n+\n+### 2. `debug-queue.html`\n - æµ‹è¯•æ‰€æœ‰ç«¯ç‚¹çš„å“åº”\n - æ˜¾ç¤ºè¯¦ç»†çš„HTTPå“åº”ä¿¡æ¯\n - åˆ†æå“åº”å¤´å’ŒçŠ¶æ€ç \n \n-### 2. `queue-test.html`\n+### 3. `queue-test.html`\n - ä¸“é—¨æµ‹è¯•é˜Ÿåˆ—ç«¯ç‚¹\n - è¯¦ç»†çš„æ•°æ®è§£æè¿‡ç¨‹\n - æ”¯æŒå¤šç§æ•°æ®æ ¼å¼çš„è§£æ\n \n-### 3. `standalone-test.html`\n+### 4. `standalone-test.html`\n - å®Œæ•´çš„è´Ÿè½½å‡è¡¡å™¨æµ‹è¯•\n - é›†æˆäº†å¢å¼ºçš„é˜Ÿåˆ—ä¿¡æ¯è·å–\n - æ˜¾ç¤ºè¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯\n \n"
                },
                {
                    "date": 1752515831318,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -197,16 +197,40 @@\n - å¢åŠ è¶…æ—¶æ—¶é—´\n - å®ç°é‡è¯•æœºåˆ¶\n - æä¾›å¤‡ç”¨æœåŠ¡å™¨\n \n-## å»ºè®®\n+## åŸºäºå®˜æ–¹æ–‡æ¡£çš„å»ºè®®\n \n-1. **ä½¿ç”¨æµ‹è¯•å·¥å…·**: å…ˆè¿è¡Œ `queue-test.html` ç¡®è®¤é˜Ÿåˆ—ç«¯ç‚¹çš„å®é™…å“åº”æ ¼å¼\n-2. **æ£€æŸ¥ CORS**: ç¡®è®¤æœåŠ¡å™¨æ˜¯å¦é…ç½®äº†æ­£ç¡®çš„ CORS å¤´\n-3. **æŸ¥çœ‹æ§åˆ¶å°**: è§‚å¯Ÿè¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œè°ƒè¯•æ—¥å¿—\n-4. **æµ‹è¯•ç½‘ç»œ**: ç¡®è®¤æœåŠ¡å™¨ç½‘ç»œè¿æ¥æ­£å¸¸\n-5. **ç‰ˆæœ¬å…¼å®¹**: ç¡®è®¤ ComfyUI ç‰ˆæœ¬å’Œ API å…¼å®¹æ€§\n+1. **ä¼˜å…ˆä½¿ç”¨å®˜æ–¹æµ‹è¯•å·¥å…·**: è¿è¡Œ `official-api-test.html` ç¡®è®¤æœåŠ¡å™¨æ˜¯å¦ç¬¦åˆå®˜æ–¹ API è§„èŒƒ\n+2. **æ£€æŸ¥ç«¯ç‚¹å®ç°**: ç¡®è®¤æœåŠ¡å™¨æ˜¯å¦å®ç°äº†æ‰€æœ‰å®˜æ–¹ç«¯ç‚¹\n+3. **éªŒè¯æ•°æ®æ ¼å¼**: ä½¿ç”¨å®˜æ–¹æµ‹è¯•å·¥å…·æŸ¥çœ‹å®é™…çš„é˜Ÿåˆ—æ•°æ®ç»“æ„\n+4. **æ£€æŸ¥ CORS**: ç¡®è®¤æœåŠ¡å™¨æ˜¯å¦é…ç½®äº†æ­£ç¡®çš„ CORS å¤´\n+5. **æŸ¥çœ‹æ§åˆ¶å°**: è§‚å¯Ÿè¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œè°ƒè¯•æ—¥å¿—\n+6. **æµ‹è¯•ç½‘ç»œ**: ç¡®è®¤æœåŠ¡å™¨ç½‘ç»œè¿æ¥æ­£å¸¸\n+7. **ç‰ˆæœ¬å…¼å®¹**: ç¡®è®¤ ComfyUI ç‰ˆæœ¬å’Œ API å…¼å®¹æ€§\n \n+## å¯èƒ½çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ\n+\n+### 1. æœåŠ¡å™¨æœªå®Œå…¨å®ç°å®˜æ–¹ API\n+**ç°è±¡**: æŸäº›ç«¯ç‚¹è¿”å› 404 æˆ– 500 é”™è¯¯\n+**è§£å†³æ–¹æ¡ˆ**:\n+- æ£€æŸ¥ ComfyUI ç‰ˆæœ¬æ˜¯å¦ä¸ºæœ€æ–°\n+- ç¡®è®¤æœåŠ¡å™¨é…ç½®æ˜¯å¦æ­£ç¡®\n+- è”ç³»æœåŠ¡å™¨ç®¡ç†å‘˜ç¡®è®¤ API å®ç°æƒ…å†µ\n+\n+### 2. é˜Ÿåˆ—æ•°æ®æ ¼å¼ä¸å®˜æ–¹ä¸ç¬¦\n+**ç°è±¡**: é˜Ÿåˆ—ç«¯ç‚¹è¿”å›çš„æ•°æ®ç»“æ„ä¸æ˜¯æ ‡å‡†æ ¼å¼\n+**è§£å†³æ–¹æ¡ˆ**:\n+- ä½¿ç”¨å¤šæ ¼å¼è§£æå™¨é€‚é…ä¸åŒçš„æ•°æ®ç»“æ„\n+- è®°å½•å®é™…çš„æ•°æ®æ ¼å¼å¹¶ç›¸åº”è°ƒæ•´è§£æé€»è¾‘\n+\n+### 3. CORS é…ç½®é—®é¢˜\n+**ç°è±¡**: æµè§ˆå™¨æ§åˆ¶å°æ˜¾ç¤º CORS é”™è¯¯\n+**è§£å†³æ–¹æ¡ˆ**:\n+- æœåŠ¡å™¨éœ€è¦æ·»åŠ é€‚å½“çš„ CORS å¤´\n+- æˆ–è€…é€šè¿‡ä»£ç†æœåŠ¡å™¨è®¿é—®\n+- æˆ–è€…åœ¨åŒåŸŸä¸‹éƒ¨ç½²åº”ç”¨\n+\n ## æ›´æ–°çš„æ–‡ä»¶\n \n 1. `standalone-test.html` - å¢å¼ºçš„é˜Ÿåˆ—ä¿¡æ¯è·å–\n 2. `client/src/services/loadBalancer.js` - å®é™…è´Ÿè½½å‡è¡¡å™¨çš„é˜Ÿåˆ—è§£æ\n"
                },
                {
                    "date": 1752516316001,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,16 +1,34 @@\n # ComfyUI é˜Ÿåˆ—ä¿¡æ¯è·å–é—®é¢˜åˆ†æ\n \n ## é—®é¢˜æè¿°\n \n-åœ¨æµ‹è¯• `standalone-test.html` æ—¶å‘ç°æ— æ³•æ­£ç¡®è·å–é˜Ÿåˆ—ä¿¡æ¯ã€‚æ ¹æ® [ComfyUI å®˜æ–¹æ–‡æ¡£](https://docs.comfy.org/development/comfyui-server/comms_routes) çš„åˆ†æï¼Œå¯èƒ½çš„åŸå› åŒ…æ‹¬ï¼š\n+åœ¨æµ‹è¯• `standalone-test.html` æ—¶å‘ç°æ— æ³•æ­£ç¡®è·å–é˜Ÿåˆ—ä¿¡æ¯ï¼Œå‡ºç° \"Failed to fetch\" é”™è¯¯ã€‚\n \n-1. **CORS è·¨åŸŸé—®é¢˜**: æµè§ˆå™¨é˜»æ­¢è·¨åŸŸè¯·æ±‚\n-2. **æ•°æ®æ ¼å¼ä¸ä¸€è‡´**: ä¸åŒç‰ˆæœ¬çš„ ComfyUI è¿”å›ä¸åŒçš„æ•°æ®æ ¼å¼\n-3. **ç«¯ç‚¹å®ç°å·®å¼‚**: æŸäº›éƒ¨ç½²å¯èƒ½æœªå®Œå…¨å®ç°å®˜æ–¹ API\n-4. **è¯·æ±‚å¤´ä¸æ­£ç¡®**: ç¼ºå°‘å¿…è¦çš„è¯·æ±‚å¤´æˆ–æ ¼å¼ä¸ç¬¦åˆé¢„æœŸ\n-5. **ç½‘ç»œè¿æ¥é—®é¢˜**: æœåŠ¡å™¨å“åº”è¶…æ—¶æˆ–è¿æ¥å¤±è´¥\n+## ğŸ” **æ ¹æœ¬åŸå› å‘ç°**\n \n+é€šè¿‡åˆ†æç”¨æˆ·æä¾›çš„å®é™…è¯·æ±‚ä¿¡æ¯ï¼Œå‘ç°äº†é—®é¢˜çš„æ ¹æœ¬åŸå› ï¼š\n+\n+### å®é™…çš„æœåŠ¡å™¨é…ç½®\n+```\n+è¯·æ±‚ç½‘å€: https://l9s75ay3rp-8188.cnb.run/api/queue\n+è¯·æ±‚æ–¹æ³•: GET\n+çŠ¶æ€ä»£ç : 200 OK\n+```\n+\n+### å…³é”®å‘ç°\n+1. **é”™è¯¯çš„ç«¯ç‚¹è·¯å¾„**: æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ `/queue`ï¼Œä½†å®é™…åº”è¯¥æ˜¯ `/api/queue`\n+2. **ç¼ºå°‘å¿…è¦çš„è¯·æ±‚å¤´**: æœåŠ¡å™¨æœŸæœ› `comfy-user` å¤´éƒ¨\n+3. **è¯·æ±‚å¤´æ ¼å¼ä¸åŒ¹é…**: æˆ‘ä»¬çš„è¯·æ±‚å¤´ä¸å®é™…å·¥ä½œçš„è¯·æ±‚å¤´ä¸ä¸€è‡´\n+\n+### å®é™…å·¥ä½œçš„è¯·æ±‚å¤´\n+```\n+Accept: */*\n+Cache-Control: max-age=0\n+User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36...\n+comfy-user: [ç”¨æˆ·æ ‡è¯†]\n+```\n+\n ## å®˜æ–¹æ–‡æ¡£åˆ†æ\n \n æ ¹æ® ComfyUI å®˜æ–¹æ–‡æ¡£ï¼Œæ ‡å‡†çš„ API ç«¯ç‚¹åŒ…æ‹¬ï¼š\n \n"
                },
                {
                    "date": 1752516342412,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -88,36 +88,56 @@\n   ]\n }\n ```\n \n-## åŸºäºå®˜æ–¹æ–‡æ¡£çš„è§£å†³æ–¹æ¡ˆ\n+## ğŸ› ï¸ **åŸºäºå®é™…è¯·æ±‚ä¿¡æ¯çš„ä¿®å¤æ–¹æ¡ˆ**\n \n-### 1. è°ƒæ•´å¥åº·æ£€æŸ¥ç«¯ç‚¹ä¼˜å…ˆçº§\n+### 1. ä¿®æ­£ç«¯ç‚¹è·¯å¾„\n \n-æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œé‡æ–°æ’åºå¥åº·æ£€æŸ¥ç«¯ç‚¹ï¼š\n+**ä¿®å¤å‰**:\n+```javascript\n+const response = await fetch(`${serverUrl}/queue`, ...)\n+```\n \n+**ä¿®å¤å**:\n ```javascript\n-const testEndpoints = [\n-  '/system_stats', // å®˜æ–¹æ¨èçš„ç³»ç»ŸçŠ¶æ€ç«¯ç‚¹\n-  '/queue',        // é˜Ÿåˆ—çŠ¶æ€ç«¯ç‚¹\n-  '/object_info',  // èŠ‚ç‚¹ä¿¡æ¯ç«¯ç‚¹\n-  '/prompt',       // æç¤ºçŠ¶æ€ç«¯ç‚¹\n-  '/'              // æ ¹è·¯å¾„ï¼Œæœ€åå°è¯•\n-]\n+const response = await fetch(`${serverUrl}/api/queue`, ...)\n ```\n \n-### 2. æ”¹è¿›è¯·æ±‚å¤´\n+### 2. æ·»åŠ å¿…è¦çš„è¯·æ±‚å¤´\n \n-æ·»åŠ æ›´ç¬¦åˆ ComfyUI é¢„æœŸçš„è¯·æ±‚å¤´ï¼š\n+**ä¿®å¤å‰**:\n+```javascript\n+headers: {\n+  'Accept': 'application/json',\n+  'Cache-Control': 'no-cache'\n+}\n+```\n \n+**ä¿®å¤å**:\n ```javascript\n headers: {\n-  'Accept': 'application/json, text/html, text/plain, */*',\n-  'Cache-Control': 'no-cache',\n-  'User-Agent': 'ComfyUI-LoadBalancer/1.0'\n+  'Accept': '*/*',\n+  'Cache-Control': 'max-age=0',\n+  'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36',\n+  'comfy-user': 'loadbalancer-client'\n }\n ```\n \n+### 3. æ›´æ–°å¥åº·æ£€æŸ¥ç«¯ç‚¹\n+\n+```javascript\n+const testEndpoints = [\n+  '/api/queue',        // å®é™…çš„é˜Ÿåˆ—ç«¯ç‚¹è·¯å¾„\n+  '/api/system_stats', // ç³»ç»ŸçŠ¶æ€ç«¯ç‚¹\n+  '/api/object_info',  // èŠ‚ç‚¹ä¿¡æ¯ç«¯ç‚¹\n+  '/api/prompt',       // æç¤ºçŠ¶æ€ç«¯ç‚¹\n+  '/queue',            // å¤‡ç”¨æ ‡å‡†è·¯å¾„\n+  '/system_stats',     // å¤‡ç”¨æ ‡å‡†è·¯å¾„\n+  '/'                  // æ ¹è·¯å¾„ï¼Œæœ€åå°è¯•\n+]\n+```\n+\n ### 3. å¢å¼ºçš„é˜Ÿåˆ—ä¿¡æ¯è§£æ\n \n ä¿®æ”¹äº† `getServerQueueInfo` æ–¹æ³•ï¼Œæ”¯æŒå¤šç§æ•°æ®æ ¼å¼ï¼š\n \n"
                },
                {
                    "date": 1752516364286,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -188,9 +188,15 @@\n ## æµ‹è¯•å·¥å…·\n \n åˆ›å»ºäº†å¤šä¸ªæµ‹è¯•å·¥å…·æ¥è¯Šæ–­é—®é¢˜ï¼š\n \n-### 1. `official-api-test.html` â­ **æ–°å¢**\n+### 1. `fixed-queue-test.html` â­ **æœ€æ–°ä¿®å¤**\n+- åŸºäºç”¨æˆ·å®é™…è¯·æ±‚ä¿¡æ¯çš„ä¿®å¤æµ‹è¯•\n+- å¯¹æ¯”æ–°æ—§ç«¯ç‚¹çš„æµ‹è¯•ç»“æœ\n+- ä½¿ç”¨æ­£ç¡®çš„ `/api/queue` ç«¯ç‚¹å’Œè¯·æ±‚å¤´\n+- éªŒè¯ä¿®å¤æ•ˆæœ\n+\n+### 2. `official-api-test.html`\n - åŸºäº ComfyUI å®˜æ–¹æ–‡æ¡£çš„ API ç«¯ç‚¹æµ‹è¯•\n - æµ‹è¯•æ‰€æœ‰å®˜æ–¹å®šä¹‰çš„ç«¯ç‚¹\n - ç¬¦åˆå®˜æ–¹è§„èŒƒçš„è¯·æ±‚æ ¼å¼\n - è¯¦ç»†çš„é˜Ÿåˆ—æ•°æ®ç»“æ„åˆ†æ\n"
                }
            ],
            "date": 1752515770586,
            "name": "Commit-0",
            "content": "# ComfyUI é˜Ÿåˆ—ä¿¡æ¯è·å–é—®é¢˜åˆ†æ\n\n## é—®é¢˜æè¿°\n\nåœ¨æµ‹è¯• `standalone-test.html` æ—¶å‘ç°æ— æ³•æ­£ç¡®è·å–é˜Ÿåˆ—ä¿¡æ¯ã€‚æ ¹æ® [ComfyUI å®˜æ–¹æ–‡æ¡£](https://docs.comfy.org/development/comfyui-server/comms_routes) çš„åˆ†æï¼Œå¯èƒ½çš„åŸå› åŒ…æ‹¬ï¼š\n\n1. **CORS è·¨åŸŸé—®é¢˜**: æµè§ˆå™¨é˜»æ­¢è·¨åŸŸè¯·æ±‚\n2. **æ•°æ®æ ¼å¼ä¸ä¸€è‡´**: ä¸åŒç‰ˆæœ¬çš„ ComfyUI è¿”å›ä¸åŒçš„æ•°æ®æ ¼å¼\n3. **ç«¯ç‚¹å®ç°å·®å¼‚**: æŸäº›éƒ¨ç½²å¯èƒ½æœªå®Œå…¨å®ç°å®˜æ–¹ API\n4. **è¯·æ±‚å¤´ä¸æ­£ç¡®**: ç¼ºå°‘å¿…è¦çš„è¯·æ±‚å¤´æˆ–æ ¼å¼ä¸ç¬¦åˆé¢„æœŸ\n5. **ç½‘ç»œè¿æ¥é—®é¢˜**: æœåŠ¡å™¨å“åº”è¶…æ—¶æˆ–è¿æ¥å¤±è´¥\n\n## å®˜æ–¹æ–‡æ¡£åˆ†æ\n\næ ¹æ® ComfyUI å®˜æ–¹æ–‡æ¡£ï¼Œæ ‡å‡†çš„ API ç«¯ç‚¹åŒ…æ‹¬ï¼š\n\n| ç«¯ç‚¹ | æ–¹æ³• | ç”¨é€” |\n|------|------|------|\n| `/` | GET | åŠ è½½ ComfyUI ç½‘é¡µ |\n| `/system_stats` | GET | è·å–ç³»ç»Ÿä¿¡æ¯ï¼ˆæ¨èç”¨äºå¥åº·æ£€æŸ¥ï¼‰|\n| `/queue` | GET | è·å–é˜Ÿåˆ—çŠ¶æ€ |\n| `/prompt` | GET | è·å–å½“å‰çŠ¶æ€ |\n| `/object_info` | GET | è·å–èŠ‚ç‚¹ç±»å‹è¯¦æƒ… |\n| `/history` | GET | è·å–é˜Ÿåˆ—å†å² |\n\n**é‡è¦å‘ç°**: å®˜æ–¹æ–‡æ¡£å»ºè®®ä½¿ç”¨ `/system_stats` ä½œä¸ºä¸»è¦çš„å¥åº·æ£€æŸ¥ç«¯ç‚¹ã€‚\n\n## å¸¸è§çš„é˜Ÿåˆ—æ•°æ®æ ¼å¼\n\n### 1. æ ‡å‡† ComfyUI æ ¼å¼\n```json\n{\n  \"queue_running\": [\n    [\"prompt_id_1\", \"prompt_data_1\"],\n    [\"prompt_id_2\", \"prompt_data_2\"]\n  ],\n  \"queue_pending\": [\n    [\"prompt_id_3\", \"prompt_data_3\"]\n  ]\n}\n```\n\n### 2. ç®€åŒ–æ ¼å¼\n```json\n{\n  \"running\": 2,\n  \"pending\": 1\n}\n```\n\n### 3. æ‰§è¡Œä¿¡æ¯æ ¼å¼\n```json\n{\n  \"exec_info\": {\n    \"queue_remaining\": 3\n  }\n}\n```\n\n### 4. ç®€å•æ•°å­—æ ¼å¼\n```json\n3\n```\n\n### 5. é˜Ÿåˆ—å­—æ®µæ ¼å¼\n```json\n{\n  \"queue\": [\n    \"item1\", \"item2\", \"item3\"\n  ]\n}\n```\n\n## è§£å†³æ–¹æ¡ˆ\n\n### 1. å¢å¼ºçš„é˜Ÿåˆ—ä¿¡æ¯è§£æ\n\nä¿®æ”¹äº† `getServerQueueInfo` æ–¹æ³•ï¼Œæ”¯æŒå¤šç§æ•°æ®æ ¼å¼ï¼š\n\n```javascript\n// å°è¯•å¤šç§å¯èƒ½çš„æ•°æ®æ ¼å¼\nlet running = 0;\nlet pending = 0;\n\n// æ ‡å‡† ComfyUI æ ¼å¼\nif (queueData.queue_running !== undefined && queueData.queue_pending !== undefined) {\n  running = Array.isArray(queueData.queue_running) ? queueData.queue_running.length :\n           (typeof queueData.queue_running === 'number' ? queueData.queue_running : 0);\n  pending = Array.isArray(queueData.queue_pending) ? queueData.queue_pending.length :\n           (typeof queueData.queue_pending === 'number' ? queueData.queue_pending : 0);\n}\n// å…¶ä»–æ ¼å¼...\n```\n\n### 2. è¯¦ç»†çš„é”™è¯¯å¤„ç†\n\n```javascript\n} catch (error) {\n  // åŒºåˆ†ä¸åŒç±»å‹çš„é”™è¯¯\n  if (error.name === 'AbortError') {\n    console.log(`âš ï¸ é˜Ÿåˆ—è¯·æ±‚è¶…æ—¶`);\n  } else if (error.message.includes('CORS')) {\n    console.log(`âš ï¸ CORSé”™è¯¯ï¼Œå¯èƒ½éœ€è¦æœåŠ¡å™¨é…ç½®è·¨åŸŸ`);\n  } else if (error.message.includes('Failed to fetch')) {\n    console.log(`âš ï¸ ç½‘ç»œè¿æ¥å¤±è´¥`);\n  }\n}\n```\n\n### 3. å®½å®¹çš„å¥åº·åˆ¤æ–­\n\nå³ä½¿é˜Ÿåˆ—ä¿¡æ¯è·å–å¤±è´¥ï¼Œåªè¦æœåŠ¡å™¨èƒ½å“åº”å¥åº·æ£€æŸ¥ï¼Œä»ç„¶è®¤ä¸ºæœåŠ¡å™¨å¯ç”¨ï¼š\n\n```javascript\nreturn {\n  running: 0,\n  pending: 0,\n  total: 1,        // ä½¿ç”¨ä¼°ç®—å€¼\n  healthy: true,   // ä»ç„¶è®¤ä¸ºå¥åº·\n  isEstimate: true // æ ‡è®°ä¸ºä¼°ç®—\n};\n```\n\n## æµ‹è¯•å·¥å…·\n\nåˆ›å»ºäº†å¤šä¸ªæµ‹è¯•å·¥å…·æ¥è¯Šæ–­é—®é¢˜ï¼š\n\n### 1. `debug-queue.html`\n- æµ‹è¯•æ‰€æœ‰ç«¯ç‚¹çš„å“åº”\n- æ˜¾ç¤ºè¯¦ç»†çš„HTTPå“åº”ä¿¡æ¯\n- åˆ†æå“åº”å¤´å’ŒçŠ¶æ€ç \n\n### 2. `queue-test.html`\n- ä¸“é—¨æµ‹è¯•é˜Ÿåˆ—ç«¯ç‚¹\n- è¯¦ç»†çš„æ•°æ®è§£æè¿‡ç¨‹\n- æ”¯æŒå¤šç§æ•°æ®æ ¼å¼çš„è§£æ\n\n### 3. `standalone-test.html`\n- å®Œæ•´çš„è´Ÿè½½å‡è¡¡å™¨æµ‹è¯•\n- é›†æˆäº†å¢å¼ºçš„é˜Ÿåˆ—ä¿¡æ¯è·å–\n- æ˜¾ç¤ºè¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯\n\n## å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ³•\n\n### 1. CORS é”™è¯¯\n**ç°è±¡**: `Access to fetch at 'xxx' from origin 'xxx' has been blocked by CORS policy`\n\n**è§£å†³æ–¹æ³•**:\n- æœåŠ¡å™¨éœ€è¦é…ç½® CORS å¤´\n- æˆ–è€…é€šè¿‡ä»£ç†æœåŠ¡å™¨è®¿é—®\n- æˆ–è€…åœ¨åŒåŸŸä¸‹éƒ¨ç½²æµ‹è¯•é¡µé¢\n\n### 2. é˜Ÿåˆ—æ•°æ®è§£æå¤±è´¥\n**ç°è±¡**: JSON è§£æé”™è¯¯æˆ–æ•°æ®æ ¼å¼ä¸ç¬¦åˆé¢„æœŸ\n\n**è§£å†³æ–¹æ³•**:\n- ä½¿ç”¨å¤šæ ¼å¼è§£æå™¨\n- è®°å½•åŸå§‹å“åº”æ•°æ®\n- æä¾›é™çº§æ–¹æ¡ˆ\n\n### 3. ç½‘ç»œè¶…æ—¶\n**ç°è±¡**: è¯·æ±‚è¶…æ—¶æˆ–è¿æ¥å¤±è´¥\n\n**è§£å†³æ–¹æ³•**:\n- å¢åŠ è¶…æ—¶æ—¶é—´\n- å®ç°é‡è¯•æœºåˆ¶\n- æä¾›å¤‡ç”¨æœåŠ¡å™¨\n\n## å»ºè®®\n\n1. **ä½¿ç”¨æµ‹è¯•å·¥å…·**: å…ˆè¿è¡Œ `queue-test.html` ç¡®è®¤é˜Ÿåˆ—ç«¯ç‚¹çš„å®é™…å“åº”æ ¼å¼\n2. **æ£€æŸ¥ CORS**: ç¡®è®¤æœåŠ¡å™¨æ˜¯å¦é…ç½®äº†æ­£ç¡®çš„ CORS å¤´\n3. **æŸ¥çœ‹æ§åˆ¶å°**: è§‚å¯Ÿè¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œè°ƒè¯•æ—¥å¿—\n4. **æµ‹è¯•ç½‘ç»œ**: ç¡®è®¤æœåŠ¡å™¨ç½‘ç»œè¿æ¥æ­£å¸¸\n5. **ç‰ˆæœ¬å…¼å®¹**: ç¡®è®¤ ComfyUI ç‰ˆæœ¬å’Œ API å…¼å®¹æ€§\n\n## æ›´æ–°çš„æ–‡ä»¶\n\n1. `standalone-test.html` - å¢å¼ºçš„é˜Ÿåˆ—ä¿¡æ¯è·å–\n2. `client/src/services/loadBalancer.js` - å®é™…è´Ÿè½½å‡è¡¡å™¨çš„é˜Ÿåˆ—è§£æ\n3. `debug-queue.html` - ç«¯ç‚¹è°ƒè¯•å·¥å…·\n4. `queue-test.html` - é˜Ÿåˆ—ä¿¡æ¯ä¸“ç”¨æµ‹è¯•å·¥å…·\n"
        }
    ]
}