{
    "sourceFile": "enable-websocket-service.bat",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1752945226195,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1752945237228,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,9 +78,9 @@\n         echo # ComfyUIæœåŠ¡å™¨åœ°å€\n         echo COMFYUI_SERVER_URL=http://localhost:8188\n         echo.\n         echo # æœåŠ¡å™¨ç«¯å£\n-        echo PORT=3007\n+        echo PORT=3008\n         echo.\n         echo # ç¯å¢ƒ\n         echo NODE_ENV=development\n     ) > .env\n"
                }
            ],
            "date": 1752945226195,
            "name": "Commit-0",
            "content": "@echo off\nchcp 65001 >nul\nsetlocal enabledelayedexpansion\n\necho.\necho ========================================\necho ğŸš€ å¯ç”¨WebSocketæœåŠ¡\necho ========================================\necho.\n\nREM æ£€æŸ¥å½“å‰ç›®å½•\nif not exist \"server\" (\n    echo âŒ é”™è¯¯ï¼šè¯·åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œæ­¤è„šæœ¬\n    echo å½“å‰ç›®å½•åº”åŒ…å« server å’Œ client æ–‡ä»¶å¤¹\n    pause\n    exit /b 1\n)\n\necho ğŸ“ å½“å‰ç›®å½•: %CD%\necho.\n\nREM è¿›å…¥æœåŠ¡å™¨ç›®å½•\ncd server\n\nREM æ£€æŸ¥package.json\nif not exist \"package.json\" (\n    echo âŒ é”™è¯¯ï¼šserver/package.json ä¸å­˜åœ¨\n    pause\n    exit /b 1\n)\n\nREM æ£€æŸ¥WebSocketä¾èµ–\necho ğŸ“¦ æ£€æŸ¥WebSocketä¾èµ–...\nnpm list ws >nul 2>&1\nif errorlevel 1 (\n    echo âš ï¸ WebSocketä¾èµ–æœªå®‰è£…ï¼Œæ­£åœ¨å®‰è£…...\n\n    if exist \"install-websocket-deps.js\" (\n        node install-websocket-deps.js\n    ) else (\n        echo ğŸ“¦ æ‰‹åŠ¨å®‰è£…WebSocketä¾èµ–...\n        npm install ws@8.14.2 uuid@9.0.1\n    )\n\n    if errorlevel 1 (\n        echo âŒ WebSocketä¾èµ–å®‰è£…å¤±è´¥\n        pause\n        exit /b 1\n    ) else (\n        echo âœ… WebSocketä¾èµ–å®‰è£…æˆåŠŸ\n    )\n) else (\n    echo âœ… WebSocketä¾èµ–å·²å®‰è£…\n)\n\nREM æ£€æŸ¥å…¶ä»–ä¾èµ–\necho ğŸ“¦ æ£€æŸ¥é¡¹ç›®ä¾èµ–...\nif not exist \"node_modules\" (\n    echo âš ï¸ æ­£åœ¨å®‰è£…é¡¹ç›®ä¾èµ–...\n    npm install\n\n    if errorlevel 1 (\n        echo âŒ é¡¹ç›®ä¾èµ–å®‰è£…å¤±è´¥\n        pause\n        exit /b 1\n    ) else (\n        echo âœ… é¡¹ç›®ä¾èµ–å®‰è£…æˆåŠŸ\n    )\n) else (\n    echo âœ… é¡¹ç›®ä¾èµ–å·²å®‰è£…\n)\n\nREM æ£€æŸ¥ç¯å¢ƒå˜é‡\necho ğŸ”§ æ£€æŸ¥ç¯å¢ƒé…ç½®...\nif not exist \".env\" (\n    echo âš ï¸ åˆ›å»ºé»˜è®¤ .env æ–‡ä»¶...\n    (\n        echo # ComfyUIæœåŠ¡å™¨åœ°å€\n        echo COMFYUI_SERVER_URL=http://localhost:8188\n        echo.\n        echo # æœåŠ¡å™¨ç«¯å£\n        echo PORT=3007\n        echo.\n        echo # ç¯å¢ƒ\n        echo NODE_ENV=development\n    ) > .env\n    echo âœ… é»˜è®¤ .env æ–‡ä»¶å·²åˆ›å»º\n) else (\n    echo âœ… .env æ–‡ä»¶å·²å­˜åœ¨\n)\n\necho.\necho ========================================\necho ğŸš€ å¯åŠ¨WebSocketæœåŠ¡å™¨\necho ========================================\necho.\n\nREM å¯åŠ¨æœåŠ¡å™¨\necho ğŸ”¥ å¯åŠ¨æœåŠ¡å™¨ï¼ˆåŒ…å«WebSocketæœåŠ¡ï¼‰...\necho.\necho ğŸ“ HTTPæœåŠ¡åœ°å€: http://localhost:3008\necho ğŸ”— WebSocketåœ°å€: ws://localhost:3008/ws\necho.\necho æŒ‰ Ctrl+C åœæ­¢æœåŠ¡å™¨\necho.\n\nnpm start\n\necho.\necho ğŸ‘‹ æœåŠ¡å™¨å·²åœæ­¢\npause\n"
        }
    ]
}