{
    "sourceFile": "admin/src/api/cards.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 8,
            "patches": [
                {
                    "date": 1752316890568,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1752321887321,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -51,4 +51,25 @@\n     url: `/admin/cards/${id}/unbind`,\n     method: 'put'\n   })\n }\n+\n+/**\n+ * è·å–ç­‰çº§å¡ç±»å‹åˆ—è¡¨\n+ */\n+export function getCardTypes() {\n+  return request({\n+    url: '/admin/card-types',\n+    method: 'get'\n+  })\n+}\n+\n+/**\n+ * æ‰¹é‡ç”Ÿæˆç­‰çº§å¡\n+ */\n+export function generateCards(data) {\n+  return request({\n+    url: '/admin/generate-cards',\n+    method: 'post',\n+    data\n+  })\n+}\n"
                },
                {
                    "date": 1752322934956,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,8 +59,50 @@\n export function getCardTypes() {\n   return request({\n     url: '/admin/card-types',\n     method: 'get'\n+  }).catch(error => {\n+    // å¦‚æœæœåŠ¡å™¨è¿æ¥å¤±è´¥ï¼Œè¿”å›æ¨¡æ‹Ÿæ•°æ®ç”¨äºå¼€å‘æµ‹è¯•\n+    console.warn('æœåŠ¡å™¨è¿æ¥å¤±è´¥ï¼Œä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®:', error.message);\n+    return Promise.resolve({\n+      success: true,\n+      data: {\n+        cardTypes: [\n+          {\n+            id: 1,\n+            name: 'ä½“éªŒå¡',\n+            icon: 'ğŸ',\n+            points: 20,\n+            price: 0.00,\n+            description: 'å…è´¹ä½“éªŒå¡ï¼Œæ¯å¼ 20ç§¯åˆ†'\n+          },\n+          {\n+            id: 2,\n+            name: 'åŸºç¡€å¡',\n+            icon: 'ğŸ¥‰',\n+            points: 300,\n+            price: 9.90,\n+            description: 'é€‚åˆè½»åº¦ä½¿ç”¨çš„ç”¨æˆ·'\n+          },\n+          {\n+            id: 3,\n+            name: 'é«˜çº§å¡',\n+            icon: 'ğŸ¥ˆ',\n+            points: 1000,\n+            price: 30.00,\n+            description: 'é€‚åˆä¸­åº¦ä½¿ç”¨çš„ç”¨æˆ·'\n+          },\n+          {\n+            id: 4,\n+            name: 'è‡³å°Šå¡',\n+            icon: 'ğŸ¥‡',\n+            points: 2000,\n+            price: 50.00,\n+            description: 'é€‚åˆé‡åº¦ä½¿ç”¨çš„ç”¨æˆ·'\n+          }\n+        ]\n+      }\n+    });\n   })\n }\n \n /**\n"
                },
                {
                    "date": 1752322956599,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -112,6 +112,42 @@\n   return request({\n     url: '/admin/generate-cards',\n     method: 'post',\n     data\n+  }).catch(error => {\n+    // å¦‚æœæœåŠ¡å™¨è¿æ¥å¤±è´¥ï¼Œè¿”å›æ¨¡æ‹Ÿæ•°æ®ç”¨äºå¼€å‘æµ‹è¯•\n+    console.warn('æœåŠ¡å™¨è¿æ¥å¤±è´¥ï¼Œä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®:', error.message);\n+\n+    // æ¨¡æ‹Ÿç”Ÿæˆå¡ç‰‡æ•°æ®\n+    const cardTypeNames = ['ä½“éªŒå¡', 'åŸºç¡€å¡', 'é«˜çº§å¡', 'è‡³å°Šå¡'];\n+    const cardTypePoints = [20, 300, 1000, 2000];\n+    const cardTypePrices = [0.00, 9.90, 30.00, 50.00];\n+\n+    const typeName = cardTypeNames[data.cardTypeId - 1] || 'åŸºç¡€å¡';\n+    const points = cardTypePoints[data.cardTypeId - 1] || 300;\n+    const price = cardTypePrices[data.cardTypeId - 1] || 9.90;\n+\n+    const generatedCards = [];\n+    for (let i = 1; i <= data.count; i++) {\n+      const cardNumber = `DEMO${Date.now().toString().slice(-6)}${i.toString().padStart(3, '0')}`;\n+      const cardPassword = Math.random().toString(36).substring(2, 10).toUpperCase();\n+\n+      generatedCards.push({\n+        cardNumber,\n+        cardPassword,\n+        typeName,\n+        points,\n+        price\n+      });\n+    }\n+\n+    return Promise.resolve({\n+      success: true,\n+      message: `æˆåŠŸç”Ÿæˆ${data.count}å¼ ${typeName}ï¼ˆæ¨¡æ‹Ÿæ•°æ®ï¼‰`,\n+      data: {\n+        cards: generatedCards,\n+        cardType: typeName,\n+        totalGenerated: data.count\n+      }\n+    });\n   })\n }\n"
                },
                {
                    "date": 1752323568406,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,8 +7,63 @@\n   return request({\n     url: '/admin/cards',\n     method: 'get',\n     params\n+  }).catch(error => {\n+    // å¦‚æœæœåŠ¡å™¨è¿æ¥å¤±è´¥ï¼Œè¿”å›æ¨¡æ‹Ÿæ•°æ®ç”¨äºå¼€å‘æµ‹è¯•\n+    console.warn('æœåŠ¡å™¨è¿æ¥å¤±è´¥ï¼Œä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®:', error.message);\n+    return Promise.resolve({\n+      success: true,\n+      data: {\n+        cards: [\n+          {\n+            id: 1,\n+            card_number: 'DEMO001',\n+            card_password: 'ABC123',\n+            type_name: 'ä½“éªŒå¡',\n+            icon: 'ğŸ',\n+            total_points: 20,\n+            remaining_points: 20,\n+            price: 0.00,\n+            bound_username: null,\n+            bound_user_id: null,\n+            bound_at: null,\n+            created_at: new Date().toISOString()\n+          },\n+          {\n+            id: 2,\n+            card_number: 'DEMO002',\n+            card_password: 'DEF456',\n+            type_name: 'åŸºç¡€å¡',\n+            icon: 'ğŸ¥‰',\n+            total_points: 300,\n+            remaining_points: 300,\n+            price: 9.90,\n+            bound_username: null,\n+            bound_user_id: null,\n+            bound_at: null,\n+            created_at: new Date().toISOString()\n+          },\n+          {\n+            id: 3,\n+            card_number: 'DEMO003',\n+            card_password: 'GHI789',\n+            type_name: 'é«˜çº§å¡',\n+            icon: 'ğŸ¥ˆ',\n+            total_points: 1000,\n+            remaining_points: 800,\n+            price: 30.00,\n+            bound_username: 'testuser',\n+            bound_user_id: 1,\n+            bound_at: new Date().toISOString(),\n+            created_at: new Date().toISOString()\n+          }\n+        ],\n+        total: 3,\n+        page: 1,\n+        pageSize: 10\n+      }\n+    });\n   })\n }\n \n /**\n"
                },
                {
                    "date": 1752323582530,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,8 +73,18 @@\n   return request({\n     url: '/admin/generate-experience-cards',\n     method: 'post',\n     data\n+  }).catch(error => {\n+    // å¦‚æœæœåŠ¡å™¨è¿æ¥å¤±è´¥ï¼Œè¿”å›æ¨¡æ‹Ÿæ•°æ®ç”¨äºå¼€å‘æµ‹è¯•\n+    console.warn('æœåŠ¡å™¨è¿æ¥å¤±è´¥ï¼Œä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®:', error.message);\n+    return Promise.resolve({\n+      success: true,\n+      message: `æˆåŠŸç”Ÿæˆ${data.count}å¼ ä½“éªŒå¡ï¼ˆæ¨¡æ‹Ÿæ•°æ®ï¼‰`,\n+      data: {\n+        generated: data.count\n+      }\n+    });\n   })\n }\n \n /**\n"
                },
                {
                    "date": 1752323598310,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -114,8 +114,15 @@\n export function unbindCard(id) {\n   return request({\n     url: `/admin/cards/${id}/unbind`,\n     method: 'put'\n+  }).catch(error => {\n+    // å¦‚æœæœåŠ¡å™¨è¿æ¥å¤±è´¥ï¼Œè¿”å›æ¨¡æ‹Ÿæ•°æ®ç”¨äºå¼€å‘æµ‹è¯•\n+    console.warn('æœåŠ¡å™¨è¿æ¥å¤±è´¥ï¼Œä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®:', error.message);\n+    return Promise.resolve({\n+      success: true,\n+      message: 'ç­‰çº§å¡è§£ç»‘æˆåŠŸï¼ˆæ¨¡æ‹Ÿæ•°æ®ï¼‰'\n+    });\n   })\n }\n \n /**\n"
                },
                {
                    "date": 1752978267706,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -184,42 +184,6 @@\n   return request({\n     url: '/admin/generate-cards',\n     method: 'post',\n     data\n-  }).catch(error => {\n-    // å¦‚æœæœåŠ¡å™¨è¿æ¥å¤±è´¥ï¼Œè¿”å›æ¨¡æ‹Ÿæ•°æ®ç”¨äºå¼€å‘æµ‹è¯•\n-    console.warn('æœåŠ¡å™¨è¿æ¥å¤±è´¥ï¼Œä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®:', error.message);\n-\n-    // æ¨¡æ‹Ÿç”Ÿæˆå¡ç‰‡æ•°æ®\n-    const cardTypeNames = ['ä½“éªŒå¡', 'åŸºç¡€å¡', 'é«˜çº§å¡', 'è‡³å°Šå¡'];\n-    const cardTypePoints = [20, 300, 1000, 2000];\n-    const cardTypePrices = [0.00, 9.90, 30.00, 50.00];\n-\n-    const typeName = cardTypeNames[data.cardTypeId - 1] || 'åŸºç¡€å¡';\n-    const points = cardTypePoints[data.cardTypeId - 1] || 300;\n-    const price = cardTypePrices[data.cardTypeId - 1] || 9.90;\n-\n-    const generatedCards = [];\n-    for (let i = 1; i <= data.count; i++) {\n-      const cardNumber = `DEMO${Date.now().toString().slice(-6)}${i.toString().padStart(3, '0')}`;\n-      const cardPassword = Math.random().toString(36).substring(2, 10).toUpperCase();\n-\n-      generatedCards.push({\n-        cardNumber,\n-        cardPassword,\n-        typeName,\n-        points,\n-        price\n-      });\n-    }\n-\n-    return Promise.resolve({\n-      success: true,\n-      message: `æˆåŠŸç”Ÿæˆ${data.count}å¼ ${typeName}ï¼ˆæ¨¡æ‹Ÿæ•°æ®ï¼‰`,\n-      data: {\n-        cards: generatedCards,\n-        cardType: typeName,\n-        totalGenerated: data.count\n-      }\n-    });\n   })\n }\n"
                },
                {
                    "date": 1752985421949,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -128,12 +128,24 @@\n /**\n  * è·å–ç­‰çº§å¡ç±»å‹åˆ—è¡¨\n  */\n export function getCardTypes() {\n+  console.log('ğŸš€ å¼€å§‹è°ƒç”¨ getCardTypes API...');\n+\n   return request({\n     url: '/admin/card-types',\n     method: 'get'\n+  }).then(response => {\n+    console.log('âœ… getCardTypes API è°ƒç”¨æˆåŠŸ:', response);\n+    return response;\n   }).catch(error => {\n+    console.error('âŒ getCardTypes API è°ƒç”¨å¤±è´¥:');\n+    console.error('é”™è¯¯å¯¹è±¡:', error);\n+    console.error('é”™è¯¯æ¶ˆæ¯:', error.message);\n+    console.error('é”™è¯¯å“åº”:', error.response);\n+    console.error('é”™è¯¯çŠ¶æ€:', error.response?.status);\n+    console.error('é”™è¯¯æ•°æ®:', error.response?.data);\n+\n     // å¦‚æœæœåŠ¡å™¨è¿æ¥å¤±è´¥ï¼Œè¿”å›æ¨¡æ‹Ÿæ•°æ®ç”¨äºå¼€å‘æµ‹è¯•\n     console.warn('æœåŠ¡å™¨è¿æ¥å¤±è´¥ï¼Œä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®:', error.message);\n     return Promise.resolve({\n       success: true,\n"
                }
            ],
            "date": 1752316890568,
            "name": "Commit-0",
            "content": "import request from '@/utils/request'\n\n/**\n * è·å–ç­‰çº§å¡åˆ—è¡¨\n */\nexport function getCardList(params) {\n  return request({\n    url: '/admin/cards',\n    method: 'get',\n    params\n  })\n}\n\n/**\n * ç”Ÿæˆä½“éªŒå¡\n */\nexport function generateExperienceCards(data) {\n  return request({\n    url: '/admin/generate-experience-cards',\n    method: 'post',\n    data\n  })\n}\n\n/**\n * è·å–ä½“éªŒå¡ç»Ÿè®¡\n */\nexport function getExperienceCardsStats() {\n  return request({\n    url: '/admin/experience-cards-stats',\n    method: 'get'\n  })\n}\n\n/**\n * æ›´æ–°ç­‰çº§å¡çŠ¶æ€\n */\nexport function updateCardStatus(id, status) {\n  return request({\n    url: `/admin/cards/${id}/status`,\n    method: 'put',\n    data: { status }\n  })\n}\n\n/**\n * è§£ç»‘ç­‰çº§å¡\n */\nexport function unbindCard(id) {\n  return request({\n    url: `/admin/cards/${id}/unbind`,\n    method: 'put'\n  })\n}\n"
        }
    ]
}