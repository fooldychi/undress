{
    "sourceFile": "admin/src/views/Login.vue",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1752304554730,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1752304554730,
            "name": "Commit-0",
            "content": "<template>\n  <div class=\"login-container\">\n    <div class=\"login-box\">\n      <div class=\"login-header\">\n        <h1 class=\"login-title\">iComfy 管理系统</h1>\n        <p class=\"login-subtitle\">AI图像处理平台后台管理</p>\n      </div>\n\n      <el-form\n        ref=\"loginFormRef\"\n        :model=\"loginForm\"\n        :rules=\"loginRules\"\n        class=\"login-form\"\n        @keyup.enter=\"handleLogin\"\n      >\n        <el-form-item prop=\"username\">\n          <el-input\n            v-model=\"loginForm.username\"\n            placeholder=\"请输入用户名\"\n            size=\"large\"\n            prefix-icon=\"User\"\n            :disabled=\"loading\"\n          />\n        </el-form-item>\n\n        <el-form-item prop=\"password\">\n          <el-input\n            v-model=\"loginForm.password\"\n            type=\"password\"\n            placeholder=\"请输入密码\"\n            size=\"large\"\n            prefix-icon=\"Lock\"\n            show-password\n            :disabled=\"loading\"\n          />\n        </el-form-item>\n\n        <el-form-item>\n          <el-button\n            type=\"primary\"\n            size=\"large\"\n            class=\"login-button\"\n            :loading=\"loading\"\n            @click=\"handleLogin\"\n          >\n            {{ loading ? '登录中...' : '登录' }}\n          </el-button>\n        </el-form-item>\n      </el-form>\n\n      <div class=\"login-footer\">\n        <p class=\"demo-info\">\n          <el-icon><InfoFilled /></el-icon>\n          演示账号：admin / admin123\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { reactive, ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { ElMessage } from 'element-plus'\nimport { login } from '@/api/auth'\nimport { setToken, setUser } from '@/utils/auth'\n\nconst router = useRouter()\nconst loginFormRef = ref()\nconst loading = ref(false)\n\n// 表单数据\nconst loginForm = reactive({\n  username: 'admin',\n  password: 'admin123456'\n})\n\n// 表单验证规则\nconst loginRules = {\n  username: [\n    { required: true, message: '请输入用户名', trigger: 'blur' },\n    { min: 3, max: 20, message: '用户名长度在 3 到 20 个字符', trigger: 'blur' }\n  ],\n  password: [\n    { required: true, message: '请输入密码', trigger: 'blur' },\n    { min: 6, max: 20, message: '密码长度在 6 到 20 个字符', trigger: 'blur' }\n  ]\n}\n\n// 处理登录\nconst handleLogin = async () => {\n  if (!loginFormRef.value) return\n\n  try {\n    await loginFormRef.value.validate()\n    loading.value = true\n\n    const response = await login(loginForm)\n\n    if (response.success) {\n      // 保存token和用户信息\n      setToken(response.data.token)\n      setUser(response.data.admin)\n\n      ElMessage.success('登录成功')\n\n      // 跳转到仪表盘\n      router.push('/dashboard')\n    }\n  } catch (error) {\n    console.error('登录失败:', error)\n    if (error.message) {\n      ElMessage.error(error.message)\n    }\n  } finally {\n    loading.value = false\n  }\n}\n</script>\n\n<style scoped>\n.login-container {\n  min-height: 100vh;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n}\n\n.login-box {\n  background: white;\n  border-radius: 16px;\n  padding: 48px;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n  width: 100%;\n  max-width: 400px;\n}\n\n.login-header {\n  text-align: center;\n  margin-bottom: 40px;\n}\n\n.login-title {\n  font-size: 28px;\n  font-weight: bold;\n  color: #303133;\n  margin: 0 0 8px 0;\n}\n\n.login-subtitle {\n  font-size: 14px;\n  color: #909399;\n  margin: 0;\n}\n\n.login-form {\n  .el-form-item {\n    margin-bottom: 24px;\n  }\n}\n\n.login-button {\n  width: 100%;\n  height: 48px;\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.login-footer {\n  margin-top: 32px;\n  text-align: center;\n}\n\n.demo-info {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  font-size: 14px;\n  color: #909399;\n  background: #f5f7fa;\n  padding: 12px;\n  border-radius: 8px;\n  margin: 0;\n}\n\n@media (max-width: 480px) {\n  .login-box {\n    padding: 32px 24px;\n  }\n\n  .login-title {\n    font-size: 24px;\n  }\n}\n</style>\n"
        }
    ]
}