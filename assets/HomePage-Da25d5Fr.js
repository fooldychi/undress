import{a as O,A as U,_ as j,r as C,c as m,o as l,w as u,u as S,b as w,d as k,l as d,T as _,e as D,f as $,g as s,h as A,F,i as z,t as P,j as b,n as N,k as B,m as q,p as L}from"./index-BSQYSu5Q.js";import{M as V,a as W}from"./UnifiedImageProcessingTemplate.vue_vue_type_style_index_0_scoped_1007aace_lang-Db4BZ7XU.js";import{S as H}from"./SvgIcon-CAWj49Xd.js";const G=[{id:"clothes-swap",title:"ä¸€é”®è¤ªè¡£",description:"æ™ºèƒ½è¯†åˆ«äººç‰©è½®å»“ï¼Œå¿«é€Ÿç§»é™¤ç…§ç‰‡ä¸­çš„æœè£…ï¼Œä½“éªŒå‰æ²¿AIæŠ€æœ¯",route:"/clothes-swap",icon:{type:"svg",name:"undress-woman",size:28,color:"#667eea"},iconClass:"undress-icon",tags:[{text:"AIè¯†åˆ«",type:"primary"},{text:"å¿«é€Ÿå¤„ç†",type:"success"}],requireLogin:!0,enabled:!0,order:1,category:"image-processing",pointsCost:20,description_admin:"ä¸€é”®è¤ªè¡£åŠŸèƒ½ç®¡ç†"},{id:"face-swap",title:"æžé€Ÿæ¢è„¸",description:"ç²¾å‡†é¢éƒ¨è¯†åˆ«æŠ€æœ¯ï¼Œå®žçŽ°è‡ªç„¶çš„äººè„¸æ›¿æ¢æ•ˆæžœï¼Œåˆ›é€ æœ‰è¶£å†…å®¹",route:"/face-swap",icon:{type:"svg",name:"face-swap",size:28,color:"#f093fb"},iconClass:"faceswap-icon",tags:[{text:"é¢éƒ¨è¯†åˆ«",type:"warning"},{text:"è‡ªç„¶æ•ˆæžœ",type:"primary"}],requireLogin:!0,enabled:!0,order:2,category:"image-processing",pointsCost:20,description_admin:"æžé€Ÿæ¢è„¸åŠŸèƒ½ç®¡ç†"}];function K(){return G.filter(o=>o.enabled).sort((o,t)=>o.order-t.order)}async function E(){try{console.log("ðŸ”„ ä»ŽAPIèŽ·å–åŠŸèƒ½é…ç½®...");const o=await O(U.WORKFLOW_CONFIG_FEATURES);if(!o.success)throw new Error(o.message||"èŽ·å–åŠŸèƒ½é…ç½®å¤±è´¥");const t=o.data.map(r=>{const e={...r};return e.icon&&e.icon.type==="custom"&&(e.icon.component==="UndressWomanIcon"?e.icon={type:"svg",name:"undress-woman",size:e.icon.size||28,color:e.icon.color||"#667eea"}:e.icon.component==="FaceSwapIcon"&&(e.icon={type:"svg",name:"face-swap",size:e.icon.size||28,color:e.icon.color||"#f093fb"})),e});return console.log(`âœ… èŽ·å–åˆ° ${t.length} ä¸ªå¯ç”¨çš„åŠŸèƒ½`),t}catch(o){return console.warn("âš ï¸ ä»ŽAPIèŽ·å–åŠŸèƒ½é…ç½®å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤é…ç½®:",o.message),K()}}function M(o,t=!1){const{color:r,opacity:e=.2}=o,a=t?e+.1:e,f=t?e+.2:e+.1,i=Z(r);return i?{background:`linear-gradient(135deg, rgba(${i.r}, ${i.g}, ${i.b}, ${a}), rgba(${i.r}, ${i.g}, ${i.b}, ${a-.1}))`,backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:`1px solid rgba(${i.r}, ${i.g}, ${i.b}, ${f})`}:(console.warn("Invalid color format:",r),{})}function Z(o){if(o=o.replace("#",""),o.length===3&&(o=o.split("").map(a=>a+a).join("")),o.length!==6)return null;const t=parseInt(o.substring(0,2),16),r=parseInt(o.substring(2,4),16),e=parseInt(o.substring(4,6),16);return{r:t,g:r,b:e}}function T(){return typeof window>"u"?!1:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?!0:document.documentElement.getAttribute("data-theme")==="dark"}function R(o,t){const r=Object.keys(t).map(e=>`  ${e.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${t[e]};`);return`${o} {
${r.join(`
`)}
}`}function x(o,t="dynamic-styles"){if(typeof document>"u")return;let r=document.getElementById(t);r||(r=document.createElement("style"),r.id=t,document.head.appendChild(r)),r.textContent=o}const J={__name:"HomePage",setup(o,{expose:t}){t();const r=S(),e=w(null),a=w([]),f=()=>{const c=T();let g=[];a.value.forEach(p=>{if(p.iconClass&&p.icon.color){const y=M({color:p.icon.color,opacity:.2},c),h=R(`.${p.iconClass}`,y);g.push(h)}}),g.length>0&&x(g.join(`

`),"feature-icon-styles")};k(async()=>{try{a.value=await E(),f()}catch(c){d.error("èŽ·å–åŠŸèƒ½é…ç½®å¤±è´¥:",c),_.fail("åŠ è½½åŠŸèƒ½åˆ—è¡¨å¤±è´¥")}});const n={router:r,mobilePageContainerRef:e,featureConfigs:a,generateDynamicStyles:f,navigateTo:c=>{const{route:g,requireLogin:p,title:y}=c;if(d.user(`ç‚¹å‡»åŠŸèƒ½: ${y}`),p&&!$.isLoggedIn()){d.debug("æœªç™»å½•ï¼Œæ˜¾ç¤ºç™»å½•æç¤º"),_.fail("è¯·å…ˆç™»å½•åŽå†ä½¿ç”¨æ­¤åŠŸèƒ½"),e.value&&e.value.showLoginModal();return}try{r.push(g),d.debug(`å¯¼èˆªåˆ°: ${g}`)}catch(h){d.error("å¯¼èˆªå¤±è´¥:",h),_.fail(`å¯¼èˆªåˆ° ${y} å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•`)}},handleUserLogin:c=>{d.user("ç”¨æˆ·ç™»å½•æˆåŠŸ")},handleUserLogout:()=>{d.user("ç”¨æˆ·å·²ç™»å‡º")},ref:w,onMounted:k,computed:D,get useRouter(){return S},get Toast(){return _},get MobilePageContainer(){return W},get MobileCard(){return V},get SvgIcon(){return H},get authApi(){return $},get fetchFeaturesFromAPI(){return E},get generateIconStyle(){return M},get isDarkTheme(){return T},get injectCSS(){return x},get createCSSRule(){return R},get logger(){return d}};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}},Q={class:"home-header"},X={class:"welcome-section"},Y={class:"app-title"},ee={class:"features-section"},oe={class:"feature-content"},te={class:"feature-description"},ne={class:"feature-tags"};function re(o,t,r,e,a,f){const i=C("van-notice-bar"),v=C("van-icon"),I=C("van-tag");return l(),m(e.MobilePageContainer,{ref:"mobilePageContainerRef",title:"AI Magic",onLogin:e.handleUserLogin,onLogout:e.handleUserLogout},{notice:u(()=>[L(i,{scrollable:!0,speed:"50",class:"beta-notice"},{default:u(()=>t[0]||(t[0]=[b(" âš ï¸ å»ºè®®åœ¨ "),s("b",null,"22:00-24:00",-1),b(" æ—¶é—´æ®µä½¿ç”¨ï¼Œä¿è¯æœåŠ¡å™¨ç©ºé—²ã€‚ AIåº”ç”¨ä»…ä¾›ä¸ªäººå¨±ä¹ï¼Œè¯·å‹¿åœ¨äº’è”ç½‘ä¼ æ’­ â•ï¸Ž ")])),_:1,__:[0]})]),header:u(()=>[s("div",Q,[s("div",X,[s("h1",Y,[L(v,{name:"magic",size:"32",color:"#FFD700"}),t[1]||(t[1]=b(" AI Magic "))]),t[2]||(t[2]=s("p",{class:"app-subtitle"},"æ™ºèƒ½å›¾åƒå¤„ç†ï¼Œé‡Šæ”¾åˆ›æ„æ— é™å¯èƒ½",-1))])])]),footer:u(()=>t[3]||(t[3]=[s("div",{class:"home-footer"},[s("div",{class:"footer-content"},[s("p",{class:"copyright"},"Â© 2025 AI Magic æ™ºèƒ½å›¾åƒå¤„ç†åº”ç”¨"),s("p",{class:"disclaimer"},"(ä»…ä¾›ä¸ªäººå¨±ä¹ï¼Œè¯·å‹¿åœ¨äº’è”ç½‘ä¼ æ’­ï¼Œå¦åˆ™åŽæžœè‡ªè´Ÿ)")])],-1)])),default:u(()=>[s("div",ee,[(l(!0),A(F,null,z(e.featureConfigs,n=>(l(),m(e.MobileCard,{key:n.id,title:n.title,clickable:!0,"show-arrow":!0,inset:"",onClick:c=>e.navigateTo(n),class:"feature-card"},{icon:u(()=>[s("div",{class:N(["feature-icon",n.iconClass])},[n.icon.type==="svg"?(l(),m(e.SvgIcon,{key:0,name:n.icon.name,size:n.icon.size,color:n.icon.color},null,8,["name","size","color"])):n.icon.type==="custom"?(l(),m(q(n.icon.component),{key:1,size:n.icon.size,color:n.icon.color},null,8,["size","color"])):n.icon.type==="vant"?(l(),m(v,{key:2,name:n.icon.name,size:n.icon.size,color:n.icon.color},null,8,["name","size","color"])):B("",!0)],2)]),default:u(()=>[s("div",oe,[s("div",te,P(n.description),1),s("div",ne,[(l(!0),A(F,null,z(n.tags,c=>(l(),m(I,{key:c.text,type:c.type,size:"small"},{default:u(()=>[b(P(c.text),1)]),_:2},1032,["type"]))),128))])])]),_:2},1032,["title","onClick"]))),128))])]),_:1},512)}const ce=j(J,[["render",re],["__scopeId","data-v-9b48b94e"],["__file","D:/workspace/AIMagic/client/src/views/HomePage.vue"]]);export{ce as default};
