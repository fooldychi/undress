# AIMagic ç«¯å£ç®¡ç†å·¥å…·ä½¿ç”¨æŒ‡å—

## ğŸ¯ æ¦‚è¿°

AIMagic ç«¯å£ç®¡ç†å·¥å…·æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„ç«¯å£ç®¡ç†è§£å†³æ–¹æ¡ˆï¼Œç¡®ä¿é¡¹ç›®ä¸­çš„æ‰€æœ‰æœåŠ¡ä½¿ç”¨æ­£ç¡®çš„ç«¯å£ï¼Œè‡ªåŠ¨å¤„ç†ç«¯å£å†²çªï¼Œé˜²æ­¢å› ç«¯å£æ··ä¹±å¯¼è‡´çš„é—®é¢˜ã€‚

## ğŸ“‹ ç«¯å£é…ç½®

### ç»Ÿä¸€ç«¯å£åˆ†é…
- **å®¢æˆ·ç«¯å‰ç«¯**: 3001
- **åå°ç®¡ç†ç³»ç»Ÿ**: 3003  
- **åç«¯APIæœåŠ¡**: 3007

### é…ç½®æ–‡ä»¶
- `port-config.json` - ç»Ÿä¸€ç«¯å£é…ç½®æ–‡ä»¶
- `scripts/port-manager.js` - ç«¯å£ç®¡ç†æ ¸å¿ƒå·¥å…·
- `scripts/start-with-port-management.js` - å¯åŠ¨ç®¡ç†å™¨

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. å¿«é€Ÿå¯åŠ¨ (æ¨è)

#### Windows:
```batch
start-managed.bat
```

#### Linux/Mac:
```bash
./start-managed.sh
```

#### æˆ–ç›´æ¥ä½¿ç”¨ Node.js:
```bash
node start-managed.js
```

### 2. å¯åŠ¨æ‰€æœ‰æœåŠ¡
```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡ (åç«¯ â†’ å®¢æˆ·ç«¯ â†’ åå°ç®¡ç†)
node scripts/start-with-port-management.js all
```

### 3. å¯åŠ¨å•ä¸ªæœåŠ¡
```bash
# å¯åŠ¨åç«¯æœåŠ¡
node scripts/start-with-port-management.js single server

# å¯åŠ¨å®¢æˆ·ç«¯
node scripts/start-with-port-management.js single client

# å¯åŠ¨åå°ç®¡ç†
node scripts/start-with-port-management.js single admin
```

## ğŸ”§ ç«¯å£ç®¡ç†å‘½ä»¤

### æ£€æŸ¥ç«¯å£çŠ¶æ€
```bash
node scripts/port-manager.js status
```

### éªŒè¯ç«¯å£é…ç½®
```bash
node scripts/port-manager.js validate
```

### å¤„ç†ç«¯å£å†²çª
```bash
node scripts/port-manager.js resolve
```

### å¯åŠ¨ç‰¹å®šæœåŠ¡
```bash
node scripts/port-manager.js start server
node scripts/port-manager.js start client
node scripts/port-manager.js start admin
```

## âš¡ å·¥å…·ä¼˜åŠ¿

### è‡ªåŠ¨åŒ–ç®¡ç†
- âœ… è‡ªåŠ¨æ£€æµ‹ç«¯å£å†²çª
- âœ… è‡ªåŠ¨ç»ˆæ­¢å†²çªè¿›ç¨‹
- âœ… å¼ºåˆ¶ä½¿ç”¨æŒ‡å®šç«¯å£
- âœ… ç»Ÿä¸€å¯åŠ¨ç®¡ç†

### é”™è¯¯å¤„ç†
- âœ… è¯¦ç»†çš„é”™è¯¯æ—¥å¿—
- âœ… æ™ºèƒ½é‡è¯•æœºåˆ¶
- âœ… å‹å¥½çš„é”™è¯¯æç¤º
- âœ… è‡ªåŠ¨æ¢å¤åŠŸèƒ½

### é…ç½®ä¿æŠ¤
- âœ… é˜²æ­¢ç«¯å£é…ç½®è¢«æ„å¤–ä¿®æ”¹
- âœ… è‡ªåŠ¨åŒæ­¥é…ç½®æ–‡ä»¶
- âœ… Gité’©å­ä¿æŠ¤
- âœ… é…ç½®å®Œæ•´æ€§æ£€æŸ¥

## ğŸ› ï¸ é«˜çº§åŠŸèƒ½

### ç«¯å£å†²çªè§£å†³
å½“æ£€æµ‹åˆ°ç«¯å£å†²çªæ—¶ï¼Œå·¥å…·ä¼šï¼š
1. è¯†åˆ«å ç”¨ç«¯å£çš„è¿›ç¨‹
2. å°è¯•ä¼˜é›…å…³é—­è¿›ç¨‹
3. å¦‚æœå¤±è´¥ï¼Œå¼ºåˆ¶ç»ˆæ­¢è¿›ç¨‹
4. å¯åŠ¨ç›®æ ‡æœåŠ¡

### æœåŠ¡ä¾èµ–ç®¡ç†
å¯åŠ¨é¡ºåºï¼š
1. åç«¯æœåŠ¡ (3007) - ä¼˜å…ˆå¯åŠ¨
2. å®¢æˆ·ç«¯ (3001) - ä¾èµ–åç«¯
3. åå°ç®¡ç† (3003) - æœ€åå¯åŠ¨

### å¥åº·æ£€æŸ¥
- å®šæœŸæ£€æŸ¥æœåŠ¡çŠ¶æ€
- è‡ªåŠ¨é‡å¯å¤±è´¥çš„æœåŠ¡
- ç›‘æ§ç«¯å£å ç”¨æƒ…å†µ
- ç”ŸæˆçŠ¶æ€æŠ¥å‘Š

## ğŸ“Š é…ç½®æ–‡ä»¶è¯´æ˜

### port-config.json
```json
{
  "server": {
    "port": 3007,
    "name": "åç«¯APIæœåŠ¡",
    "path": "./server",
    "command": "npm start"
  },
  "client": {
    "port": 3001,
    "name": "å®¢æˆ·ç«¯å‰ç«¯",
    "path": "./client",
    "command": "npm run dev"
  },
  "admin": {
    "port": 3003,
    "name": "åå°ç®¡ç†ç³»ç»Ÿ",
    "path": "./admin",
    "command": "npm run dev"
  }
}
```

## ğŸ” æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

#### 1. ç«¯å£è¢«å ç”¨
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
node scripts/port-manager.js status

# è§£å†³å†²çª
node scripts/port-manager.js resolve
```

#### 2. æœåŠ¡å¯åŠ¨å¤±è´¥
```bash
# æ£€æŸ¥é…ç½®
node scripts/protect-port-config.js check

# é‡æ–°å¯åŠ¨
node start-managed.js
```

#### 3. é…ç½®æ–‡ä»¶æŸå
```bash
# åŒæ­¥é…ç½®
node scripts/sync-port-config.js sync

# éªŒè¯é…ç½®
node scripts/port-manager.js validate
```

## ğŸ“ æœ€ä½³å®è·µ

### å¼€å‘ç¯å¢ƒ
1. å§‹ç»ˆä½¿ç”¨ç«¯å£ç®¡ç†å·¥å…·å¯åŠ¨æœåŠ¡
2. å®šæœŸæ£€æŸ¥ç«¯å£é…ç½®å®Œæ•´æ€§
3. é¿å…æ‰‹åŠ¨ä¿®æ”¹ç«¯å£é…ç½®
4. ä½¿ç”¨ç»Ÿä¸€çš„å¯åŠ¨è„šæœ¬

### ç”Ÿäº§ç¯å¢ƒ
1. ç¡®ä¿ç«¯å£é…ç½®ä¸ç”Ÿäº§ç¯å¢ƒåŒ¹é…
2. è®¾ç½®é€‚å½“çš„é˜²ç«å¢™è§„åˆ™
3. ç›‘æ§æœåŠ¡çŠ¶æ€å’Œç«¯å£å ç”¨
4. å»ºç«‹è‡ªåŠ¨é‡å¯æœºåˆ¶

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [ç«¯å£ä¿æŠ¤æŒ‡å—](./PORT_PROTECTION_GUIDE.md)
- [é¡¹ç›®å¯åŠ¨æŒ‡å—](../../STARTUP_GUIDE.md)
- [éƒ¨ç½²æŒ‡å—](../../client/docs/DEPLOYMENT_GUIDE.md)

---

**ç»´æŠ¤è€…**: AIMagic å¼€å‘å›¢é˜Ÿ  
**æœ€åæ›´æ–°**: 2024å¹´
